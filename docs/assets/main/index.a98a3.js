window.__require=function e(t,o,n){function i(r,s){if(!o[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({Action3dManager:[function(e,t,o){"use strict";cc._RF.push(t,"22388DeYspIDL2xzuqGDEh3","Action3dManager");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0}),o.Spawn3d=o.Sequence3d=o.CallFun3d=o.FadeBy=o.FadeTo=o.RotateBy3d=o.RotateTo3d=o.ScaleTo3d=o.MoveBy3d=o.MoveTo3d=o.DelayTime=o.FiniteTimeAction3d=o.Action3d=void 0;var i=function(){function e(){}return e.update=function(e){for(var t=this.allActions.length-1;t>=0;--t)this.allActions[t].update(e),this.allActions[t].finished&&this.allActions.splice(t,1)},e.runAction=function(e,t){this.stopAllActions(e),t.binded?console.warn("3D\u52a8\u4f5c\u5bf9\u8c61\u5df2\u7ed1\u5b9a\u5176\u4ed6\u8282\u70b9\uff0c\u5f53\u524d\u8282\u70b9\u65e0\u6cd5\u8fd0\u884c\u8be5\u52a8\u4f5c"):(t.setTarget(e),this.allActions.push(t))},e.stopAllActions=function(e){if(e)for(var t=this.allActions.length-1;t>=0;--t)this.allActions[t].node==e&&this.allActions.splice(t,1);else this.allActions=[]},e.delay=function(e){return new s(e)},e.moveTo=function(e,t,o,n){return new c(e,t,o,n)},e.moveBy=function(e,t,o,n){return new l(e,t,o,n)},e.scaleTo=function(e,t,o,n){return new u(e,t,o,n)},e.rotateTo=function(e,t,o,n){return new d(e,t,o,n)},e.rotateBy=function(e,t,o,n){return new p(e,t,o,n)},e.fadeTo=function(e,t){return new h(e,t)},e.fadeBy=function(e,t){return new f(e,t)},e.callFun=function(e,t,o){return new g(e,t,o)},e.sequence=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new v(e)},e.spawn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new y(e)},e.easeIn=function(e){return new _(e)},e.easeOut=function(e){return new S(e)},e.easeInOut=function(e){return new w(e)},e.easeOutIn=function(e){return new b(e)},e.easeExponentialIn=function(){return new P},e.easeExponentialOut=function(){return new C},e.easeExponentialInOut=function(){return new N},e.allActions=[],e}();o.default=i;var a=function(){function e(){}return Object.defineProperty(e.prototype,"binded",{get:function(){return!!this.node},enumerable:!1,configurable:!0}),e.prototype.setTarget=function(e){this.node=e},e.prototype.easing=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._easeList=[];for(var o=0,n=e.length;o<n;++o)this._easeList.push(e[o]);return this},e.prototype.computeEaseTime=function(e){var t=this._easeList;if(!t||0===t.length)return e;for(var o=0,n=t.length;o<n;o++)e=t[o].easing(e);return e},Object.defineProperty(e.prototype,"finished",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.update=function(){},e}();o.Action3d=a;var r=function(e){function t(t){var o=e.call(this)||this;return o._paused=!1,o.duration=t,o.elapse=0,o}return n(t,e),Object.defineProperty(t.prototype,"finished",{get:function(){return this.elapse>=this.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),t.prototype.update=function(e){var t=this.addElapseTime(e);this.step(t)},t.prototype.addElapseTime=function(e){this.elapse+=e;var t=1;return this.duration>0&&(t=this.elapse/this.duration)>1&&(t=1),this.computeEaseTime(t)},t.prototype.step=function(){},t.prototype.interpolation=function(e,t,o){return e+(t-e)*o},t}(a);o.FiniteTimeAction3d=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r);o.DelayTime=s;var c=function(e){function t(t,o,n,i){var a=e.call(this,t)||this;return a.target="number"==typeof o?{x:o,y:n,z:i}:o,a}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original={x:e.x,y:e.y,z:e.z}},t.prototype.step=function(e){this.node.x=this.interpolation(this.original.x,this.target.x,e),this.node.y=this.interpolation(this.original.y,this.target.y,e),this.node.z=this.interpolation(this.original.z,this.target.z,e)},t}(r);o.MoveTo3d=c;var l=function(e){function t(t,o,n,i){var a=e.call(this,t)||this;return a.target="number"==typeof o?{x:o,y:n,z:i}:o,a}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original={x:e.x,y:e.y,z:e.z}},t.prototype.step=function(e){this.node.x=this.original.x+this.target.x*e,this.node.y=this.original.y+this.target.y*e,this.node.z=this.original.z+this.target.z*e},t}(r);o.MoveBy3d=l;var u=function(e){function t(t,o,n,i){var a=e.call(this,t)||this;return a.target="number"==typeof o?{x:o,y:n,z:i}:o,a}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original={x:e.scaleX,y:e.scaleY,z:e.scaleZ}},t.prototype.step=function(e){var t=this.interpolation(this.original.x,this.target.x,e),o=this.interpolation(this.original.y,this.target.y,e),n=this.interpolation(this.original.z,this.target.z,e);this.node.setScale(t,o,n)},t}(r);o.ScaleTo3d=u;var d=function(e){function t(t,o,n,i){var a=e.call(this,t)||this;return a.target="number"==typeof o?{x:o,y:n,z:i}:o,a}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original={x:e.eulerAngles.x,y:e.eulerAngles.y,z:e.eulerAngles.z}},t.prototype.step=function(e){var t=this.interpolation(this.original.x,this.target.x,e),o=this.interpolation(this.original.y,this.target.y,e),n=this.interpolation(this.original.z,this.target.z,e);this.node.eulerAngles=cc.v3(t,o,n)},t}(r);o.RotateTo3d=d;var p=function(e){function t(t,o,n,i){var a=e.call(this,t)||this;return a.target="number"==typeof o?{x:o,y:n,z:i}:o,a}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original={x:e.eulerAngles.x,y:e.eulerAngles.y,z:e.eulerAngles.z}},t.prototype.step=function(e){var t=this.original.x+this.target.x*e,o=this.original.y+this.target.y*e,n=this.original.z+this.target.z*e;this.node.eulerAngles=cc.v3(t,o,n)},t}(r);o.RotateBy3d=p;var h=function(e){function t(t,o){var n=e.call(this,t)||this;return n.target=o,n}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original=e.opacity},t.prototype.step=function(e){var t=this.interpolation(this.original,this.target,e);this.node.opacity=t},t}(r);o.FadeTo=h;var f=function(e){function t(t,o){var n=e.call(this,t)||this;return n.target=o,n}return n(t,e),t.prototype.setTarget=function(e){this.node=e,this.original=e.opacity},t.prototype.step=function(e){this.node.opacity=this.original+this.target*e},t}(r);o.FadeBy=f;var g=function(e){function t(t,o,n){var i=e.call(this)||this;return i._finished=!1,i.cb=t,i.target=o,i.data=n,i}return n(t,e),Object.defineProperty(t.prototype,"finished",{get:function(){return this._finished},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.finished||(this.target?this.cb.call(this.target,this.data||null):this.cb(this.data||null),this._finished=!0)},t}(a);o.CallFun3d=g;var v=function(e){function t(t){var o=e.call(this)||this;return o.curActionPtr=0,o.actions=[].concat(t),o}return n(t,e),Object.defineProperty(t.prototype,"finished",{get:function(){return this.curActionPtr>=this.actions.length},enumerable:!1,configurable:!0}),t.prototype.setTarget=function(e){this.node=e,this.setCurActionTarget()},t.prototype.update=function(e){if(!this.finished){var t=this.actions[this.curActionPtr];t.update(e),t.finished&&(this.curActionPtr++,this.setCurActionTarget())}},t.prototype.setCurActionTarget=function(){this.finished||this.actions[this.curActionPtr].setTarget(this.node)},t.prototype.pushAction=function(e){this.actions.push(e)},t}(a);o.Sequence3d=v;var y=function(e){function t(t){var o=e.call(this)||this;return o.actions=[].concat(t),o.remainCount=o.actions.length,o}return n(t,e),Object.defineProperty(t.prototype,"finished",{get:function(){return this.remainCount<=0},enumerable:!1,configurable:!0}),t.prototype.setTarget=function(e){this.node=e;for(var t=this.actions.length-1;t>=0;--t)this.actions[t].setTarget(e)},t.prototype.update=function(e){if(!this.finished)for(var t=this.actions.length-1;t>=0;--t)this.actions[t].finished||(this.actions[t].update(e),this.actions[t].finished&&this.remainCount--)},t.prototype.pushAction=function(e){this.actions.push(e),this.node&&e.setTarget(this.node)},t}(a);o.Spawn3d=y;var m=function(){function e(){}return e.prototype.easing=function(e){return e},e}(),_=function(e){function t(t){var o=e.call(this)||this;return o._rate=t,o}return n(t,e),t.prototype.easing=function(e){return Math.pow(e,this._rate)},t}(m),S=function(e){function t(t){var o=e.call(this)||this;return o._rate=t,o}return n(t,e),t.prototype.easing=function(e){return Math.pow(e,1/this._rate)},t}(m),w=function(e){function t(t){var o=e.call(this)||this;return o._rate=t,o}return n(t,e),t.prototype.easing=function(e){return(e*=2)<1?.5*Math.pow(e,this._rate):1-.5*Math.pow(2-e,this._rate)},t}(m),b=function(e){function t(t){var o=e.call(this)||this;return o._rate=t,o}return n(t,e),t.prototype.easing=function(e){return(e*=2)<1?1-.5*Math.pow(2-e,this._rate):.5*Math.pow(e,this._rate)},t}(m),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.easing=function(e){return 0===e?0:Math.pow(2,10*(e-1))},t}(m),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.easing=function(e){return 1===e?1:1-Math.pow(2,-10*e)},t}(m),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.easing=function(e){return 1!==e&&0!==e?(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1))):e},t}(m);cc._RF.pop()},{}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"2ccffvBkaNMjam106Ut3mRi","AudioManager");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=e("GameEventType"),a=n(e("EventManager")),r=e("GlobalEnum"),s=n(e("GameConfig")),c=function(){function e(){}return e.init=function(){this.playingEffectCount=0,cc.audioEngine.setMusicVolume(1),cc.audioEngine.setEffectsVolume(1),this.onEvents()},e.onEvents=function(){a.default.on(i.EventType.AudioEvent.playBGM,this.playBGM,this),a.default.on(i.EventType.AudioEvent.playClickBtn,this.playClickBtn,this),a.default.on(i.EventType.AudioEvent.playEffect,this.playEffect,this),a.default.on(i.EventType.AudioEvent.stopBGM,this.stop,this),a.default.on(i.EventType.AudioEvent.pause,this.pauseBGM,this),a.default.on(i.EventType.AudioEvent.resume,this.resumeBGM,this)},e.playClickBtn=function(){this.playEffect(r.GlobalEnum.AudioClip.clickBtn)},e.playEffect=function(e){var t=this;void 0===this.allClips[e]?cc.loader.loadRes(e,cc.AudioClip,function(o,n){if(o)return t.allClips[e]=null,void cc.warn("\u8981\u64ad\u653e\u7684\u97f3\u6548\u8d44\u6e90\u672a\u627e\u5230\uff1a",e);t.allClips[e]=n,t._playEffect(e)}):this._playEffect(e)},e._playEffect=function(e){if(s.default.audioConfig.effect&&null!==this.allClips[e]&&this.playingEffectCount<this.maxEffectCount){var t=cc.audioEngine.play(this.allClips[e],!1,1);cc.audioEngine.setFinishCallback(t,this._effectFinish.bind(this))}},e._effectFinish=function(){this.playingEffectCount--,this.playingEffectCount<0&&(this.playingEffectCount=0)},e.playBGM=function(e,t){var o=this;void 0===t&&(t=!0),void 0===this.allClips[e]?cc.loader.loadRes(e,cc.AudioClip,function(n,i){if(n)return o.allClips[e]=null,void cc.warn("\u8981\u64ad\u653e\u7684\u97f3\u6548\u8d44\u6e90\u672a\u627e\u5230\uff1a",e);o.allClips[e]=i,o._playBGM(e,t)}):this._playBGM(e,t)},e._playBGM=function(e,t){s.default.audioConfig.bgm&&null!==this.allClips[e]&&(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.allClips[e],t))},e.stop=function(){cc.audioEngine.stopMusic()},e.pauseBGM=function(){cc.audioEngine.pauseMusic()},e.resumeBGM=function(){cc.audioEngine.resumeMusic()},e.allClips={},e.playingEffectCount=0,e.maxEffectCount=2,e}();o.default=c,cc._RF.pop()},{EventManager:"EventManager",GameConfig:"GameConfig",GameEventType:"GameEventType",GlobalEnum:"GlobalEnum"}],AutoPool:[function(e,t,o){"use strict";cc._RF.push(t,"07cd05clOdPMKefgUuaQiFO","AutoPool");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.AutoNodePool=void 0;var i=n(e("yyComponent")),a=function(){function e(e,t){this.prefab=e,this.scripteName=t,this.pool=new cc.NodePool(t)}return e.prototype.get=function(e){var t=this.pool.get(e);t||(t=cc.instantiate(this.prefab));var o=null;return this.scripteName&&t.getComponent(this.scripteName),o||(o=t.getComponent(i.default)),o&&o.init?o.init(e):this.scripteName=null,t},e.prototype.put=function(e){this.pool.put(e)},e.prototype.clear=function(){this.pool.clear()},Object.defineProperty(e.prototype,"count",{get:function(){return this.pool.size()},enumerable:!1,configurable:!0}),e.prototype.preCreate=function(e){var t=e-this.count;if(!(t<=0))for(var o=0;o<t;++o){var n=cc.instantiate(this.prefab);if(this.scripteName){var i=n.getComponent(this.scripteName);i?i.init():this.scripteName=null}this.put(n)}},e}();o.AutoNodePool=a,cc._RF.pop()},{yyComponent:"yyComponent"}],Board:[function(e,t,o){"use strict";cc._RF.push(t,"f24ebf7919NGYjWx/vr9/gO","Board");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Rope")),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boardSpr=null,t.holesNode=null,t.objsNode=null,t.layerIndex=1,t.isLocked=null,t.boardColor=cc.Color.WHITE,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.node.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.node.active=!1},t.prototype.setBoardColor=function(e){this.boardColor=e.clone(),this.boardSpr.color=e},t.prototype.setLock=function(e,t){void 0===t&&(t=255),this.node.opacity=t;var o=this.node.getComponent(cc.RigidBody);if(0==t?(this.node.active=!1,o&&o.type!==cc.RigidBodyType.Static&&(o.type=cc.RigidBodyType.Static)):(this.node.active=!0,o&&o.type!==cc.RigidBodyType.Dynamic&&(o.type=cc.RigidBodyType.Dynamic)),this.isLocked!==e){if(this.isLocked=e,e)this.node.color=cc.Color.GRAY,this.boardSpr.color=cc.Color.GRAY,this.boardSpr.opacity=10;else{this.boardSpr.color=this.boardColor;var n=cc.tintTo(.3,255,255,255);this.node.runAction(n),this.boardSpr.opacity=0,this.boardSpr.runAction(cc.fadeTo(.5,190))}for(var i=this.getScrewComps(),a=0;a<i.length;a++)i[a].setLock(e)}},t.prototype.init=function(e){this.holesNode.children.sort(function(e,t){return e.y<t.y?-1:1});for(var t=0;t<this.holesNode.children.length;t++){var o=this.holesNode.children[t],n=cc.instantiate(e);n.position=o.position,n.parent=this.objsNode;var i=n.getComponent("Rope").sprite.getComponent(cc.RigidBody),a=this.node.addComponent(cc.RevoluteJoint);a.connectedBody=i,a.anchor=cc.v2(n.position.x,n.position.y),a.apply()}},t.prototype.getScrewComps=function(){for(var e=[],t=0;t<this.objsNode.children.length;t++){var o=this.objsNode.children[t].getComponent(r.default);e.push(o)}return e},i([l(cc.Node)],t.prototype,"boardSpr",void 0),i([l(cc.Node)],t.prototype,"holesNode",void 0),i([l(cc.Node)],t.prototype,"objsNode",void 0),i([l(cc.Color)],t.prototype,"boardColor",void 0),i([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{Rope:"Rope"}],CityNode:[function(e,t,o){"use strict";cc._RF.push(t,"97a74OVm4NBrJQVQJqsssLI","CityNode");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("yyComponent")),s=e("OverallSystem"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cityNode=null,t.scr=null,t.content=null,t.myCityTxt=null,t.dingbujuli=400,t.jianju=550,t.xianshijuli=100,t._nodeList=[],t.curRSVNum=-1,t.cityRankData=[],t}return n(t,e),t.prototype.start=function(){},t.prototype.scrollviewEvent=function(){var e=this,t=this.scr,o=this.content,n=t.getScrollOffset().y,i=Math.floor((n-this.xianshijuli)/this.jianju);if(t.getScrollOffset().y,this.dingbujuli,i>=0)if(this._nodeList.length<1&&o.children.forEach(function(t){"cityRank"!=t.name&&e._nodeList.push(t)}),i>this.curRSVNum){var a=this._nodeList.splice(0,1)[0];this._nodeList.push(a),this.curRSVNum=i;for(var r=i;r<i+3;r++){var s=this._nodeList[r-i];r<10&&s&&(s.y=-this.dingbujuli-this.jianju*r,s.getChildByName("rank").getChildByName("cityName").getComponent(cc.Label).string!=this.cityRankData[r].cityName&&this.showCityInfo(s,this.cityRankData[r]))}}else if(i<this.curRSVNum)for(this._nodeList.reverse(),a=this._nodeList.splice(0,1)[0],this._nodeList.push(a),this._nodeList.reverse(),this.curRSVNum=i,r=i;r<i+3;r++)s=this._nodeList[r-i],r<10&&s&&(s.y=-this.dingbujuli-this.jianju*r,s.getChildByName("rank").getChildByName("cityName").getComponent(cc.Label).string!=this.cityRankData[r].cityName&&this.showCityInfo(s,this.cityRankData[r]))},t.prototype.updataCity=function(){var e=this,t=s.sers().userSrv.getUserData();""==t.city?e.myCityTxt.string="\u60a8\u8fd8\u6ca1\u6709\u52a0\u5165\u5730\u533a":e.cityRankData.forEach(function(o){o.cityName==t.default.getInstance().city&&(t.default.getInstance().daywinnum>0?e.myCityTxt.string="\u6211\u7684\u5730\u533a\u6392\u540d:\u7b2c"+o.rank+"\u540d":e.myCityTxt.string="\u901a\u5173\u52a9\u529b\u5730\u533a(\u5f53\u524d\u7b2c"+o.rank+"\u540d)")})},t.prototype.showCityInfo=function(e,t){var o=e.getChildByName("niao").children,n=e.getChildByName("rank");e.getChildByName("isMe").active=!1;var i=Math.random()>.5?-1:1;o.forEach(function(e,o){o<t.score?(e.active=!0,e.scaleX=i):e.active=!1}),1!=t.rank?(n.getChildByName("no1").active=!1,n.getChildByName("rankTxt").color=(new cc.Color).fromHEX("#000000"),e.getChildByName("tai1")&&(e.getChildByName("tai1").active=!0)):(n.getChildByName("no1").active=!0,n.getChildByName("rankTxt").color=(new cc.Color).fromHEX("#FFFFFF"),e.getChildByName("tai1")&&(e.getChildByName("tai1").active=!1)),n.getChildByName("rankTxt").getComponent(cc.Label).string="\u7b2c"+t.rank+"\u540d",n.getChildByName("niaoNum").getComponent(cc.Label).string=t.score+"\u53ea\u732b";var a=t.cityName;"\u7701"!=a.slice(a.length-1,a.length)&&"\u5e02"!=a.slice(a.length-1,a.length)||(a=a.slice(0,a.length-1)),n.getChildByName("cityName").getComponent(cc.Label).string=a+"\u821e\u53f0"},i([u(cc.Node)],t.prototype,"cityNode",void 0),i([u(cc.ScrollView)],t.prototype,"scr",void 0),i([u(cc.Node)],t.prototype,"content",void 0),i([u(cc.Label)],t.prototype,"myCityTxt",void 0),i([l],t)}(r.default);o.default=d,cc._RF.pop()},{OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],Coin_fly_to_wallet:[function(e,t,o){"use strict";cc._RF.push(t,"a60cdduOAtAkolig5jZ/sRY","Coin_fly_to_wallet");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.coinPrefab=null,t.coinPool=null,t.ani_call=null,t}return n(t,e),t.prototype.onLoad=function(){this.coinPool=new cc.NodePool,this.initCoinPool()},t.prototype.initCoinPool=function(e){void 0===e&&(e=20);for(var t=0;t<e;t++){var o=cc.instantiate(this.coinPrefab);this.coinPool.put(o)}},t.prototype.playAnim=function(e){var t=15*Math.random()+10;e&&(t=e);var o=this.startPoint.getPosition(),n=this.endPoint.getPosition();this.playCoinFlyAnim(t,o,n)},t.prototype.playCoinFlyAnim=function(e,t,o,n){var i=this;void 0===n&&(n=30);var a=this.coinPool.size(),r=a>e?0:e-a;this.initCoinPool(r);var s=this.getCirclePoints(n,t,e).map(function(e){var n=i.coinPool.get();return n.setPosition(t),i.node.addChild(n),{node:n,stPos:t,mdPos:e,edPos:o,dis:e.sub(o).mag()}});(s=s.sort(function(e,t){return e.dis-t.dis>0?1:e.dis-t.dis<0?-1:0})).forEach(function(e,t){var o=.1+.1*Math.random(),n=.4+.1*Math.random();cc.tween(e.node).to(o,{position:cc.v3(e.mdPos)}).delay(.01*t).to(n,{position:cc.v3(e.edPos)},cc.easeInOut(3)).call(function(){i.coinPool.put(e.node),i.ani_call&&s.length==t+1&&i.ani_call()}).start()})},t.prototype.getCirclePoints=function(e,t,o,n){void 0===n&&(n=60);for(var i=[],a=Math.PI/180*Math.round(360/o),r=0;r<o;r++){var s=t.x+e*Math.sin(a*r),c=t.y+e*Math.cos(a*r);i.unshift(cc.v3(s+Math.random()*n,c+Math.random()*n,0))}return i},i([s(cc.Node)],t.prototype,"startPoint",void 0),i([s(cc.Node)],t.prototype,"endPoint",void 0),i([s(cc.Prefab)],t.prototype,"coinPrefab",void 0),i([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],ColorPalette:[function(e,t){"use strict";cc._RF.push(t,"b9af7ZDFG5KUILMTZdmSrb8","ColorPalette");var o=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)];t.exports={COLOR_PALETTE:o,getColor:function(e){return o[e]||cc.Color.WHITE},getResourceInfo:function(e){return e>=10?{resourceIndex:5,needTint:!0}:{resourceIndex:e,needTint:!1}}},cc._RF.pop()},{}],CommonEnum:[function(e,t,o){"use strict";var n,i,a,r,s,c,l,u,d,p,h,f,g,v;cc._RF.push(t,"40311esLClP4JzYnULEhKyU","CommonEnum"),Object.defineProperty(o,"__esModule",{value:!0}),o.CommonEnum=void 0,(v=n||(n={})).item="RecommendItem",v.drawer="RecommendDrawer",v.banner="RecommendBanner",v.matrix="RecommendMatrix",v.primary="RecommendPrimary",v.primary_tt="RecommendPrimary_TT",v.btnCenter_tt="RecommendBtnCenter_TT",v.btnSide_tt="RecommendBtnSide_TT",(i||(i={})).normal="RecommendItem",function(e){e[e.left=1]="left",e[e.right=2]="right"}(a||(a={})),function(e){e[e.pingpong=1]="pingpong",e[e.left=2]="left",e[e.right=3]="right"}(r||(r={})),function(e){e[e.none=1]="none",e[e.touched=2]="touched"}(s||(s={})),function(e){e[e.showVideoBtn=7]="showVideoBtn",e[e.openVideoWindow=0]="openVideoWindow",e[e.closeVideoWindow=1]="closeVideoWindow",e[e.clickBtnVideo=2]="clickBtnVideo",e[e.videoQuit=3]="videoQuit",e[e.videoSuc=4]="videoSuc",e[e.getAward=5]="getAward",e[e.videoFail=6]="videoFail"}(c||(c={})),function(e){e.skinRootUrl="myGame/Img/Skin/",e.skinTextureDir="Textures",e.skinItemDir="Item",e.skinDisplayDir="Display"}(l||(l={})),function(e){e.lobby="GameLobby",e.playerAssetBar="PlayerAssetBar",e.getPower="GetPowerUI",e.tipPower="TipPowerUI",e.shop="ShopUI",e.levelInfo="LevelInfoUI",e.levelTeach="TeachAnim",e.winUI="WinUI",e.loseUI="LoseUI",e.trySkin="TrySkinUI",e.configSetting="ConfigSettingUI",e.pauseLevel="PauseLevelUI",e.tipVideo="TipVideoUI"}(u||(u={})),function(e){e.levelData="LevelData",e.playerSkin="PlayerSkin"}(d||(d={})),(p||(p={})).playerSkin="PlayerSkin",function(e){e.clickBtn="Common/Audio/clickBtn",e.win="Common/Audio/win",e.lose="Common/Audio/lose",e.BGM="myGame/Audio/BGM1"}(h||(h={})),function(e){e[e.inited=1]="inited",e[e.playing=2]="playing",e[e.win=3]="win",e[e.lose=4]="lose",e[e.openToiletDoor=5]="openToiletDoor",e[e.enterToilet=6]="enterToilet",e[e.closeToiletDoor=7]="closeToiletDoor",e[e.laShi=8]="laShi"}(f||(f={})),(g||(g={})).goldIcon="GoldIcon";var y=function(){function e(){}return e.RecommendPrefab=n,e.RecommendItemType=i,e.RecommendDrawerType=a,e.RecommendBannerType=r,e.CtrlState=s,e.VideoSubType=c,e.UrlPath=l,e.UI=u,e.GameDataType=d,e.GoodsType=p,e.AudioClip=h,e.LevelState=f,e}();o.CommonEnum=y,cc._RF.pop()},{}],CommonEventType:[function(e,t,o){"use strict";var n,i,a,r,s,c,l,u,d,p,h,f,g,v,y;cc._RF.push(t,"552e9ZmF0BK6I448L9FXcQI","CommonEventType"),Object.defineProperty(o,"__esModule",{value:!0}),(y=n||(n={}))[y.startIndex=1e3]="startIndex",y[y.enterLobby=1001]="enterLobby",y[y.hideGameLobby=1002]="hideGameLobby",y[y.startGame=1003]="startGame",y[y.startLevel=1004]="startLevel",y[y.exitLevel=1005]="exitLevel",y[y.playNextLevel=1006]="playNextLevel",y[y.replayCurLevel=1007]="replayCurLevel",y[y.playerWin=1008]="playerWin",y[y.playerLose=1009]="playerLose",y[y.pauseLevel=1010]="pauseLevel",y[y.resumeLevel=1011]="resumeLevel",y[y.matchPlayerFinish=1012]="matchPlayerFinish",y[y.chooseTrySkinFinish=1013]="chooseTrySkinFinish",y[y.showHint=1014]="showHint",y[y.ChoosingNewDish=1015]="ChoosingNewDish",y[y.checkStreak=1016]="checkStreak",y[y.updataGold=1017]="updataGold",y[y.updataLevelList=1018]="updataLevelList",y[y.updataBlackSheep=1019]="updataBlackSheep",y[y.Recruit=1020]="Recruit",y[y.detection=1021]="detection",y[y.encounterUI=1022]="encounterUI",y[y.InvestmentUI=1023]="InvestmentUI",y[y.popupUI=1024]="popupUI",y[y.showHouse=1025]="showHouse",y[y.showHouseDH=1026]="showHouseDH",y[y.Rooftop=1027]="Rooftop",y[y.sleep=1028]="sleep",y[y.toulan=1029]="toulan",y[y.speed=1030]="speed",y[y.lockLevel=1031]="lockLevel",y[y.touchError=1032]="touchError",y[y.touchMover=1033]="touchMover",y[y.loadingError=1034]="loadingError",y[y.showCheck=1035]="showCheck",y[y.xinshouyindao=1036]="xinshouyindao",y[y.xinshouyindaoEnd=1037]="xinshouyindaoEnd",y[y.pifugenghuan=1038]="pifugenghuan",y[y.xinshouyindao2=1039]="xinshouyindao2",y[y.xinshouyindao2End=1040]="xinshouyindao2End",y[y.pengzhuanghecheng=1041]="pengzhuanghecheng",y[y.danpaihecheng=1042]="danpaihecheng",y[y.xiguazhadan=1043]="xiguazhadan",y[y.kongmuban=1044]="kongmuban",y[y.shandiandaoju=1045]="shandiandaoju",y[y.zumaEnd=1046]="zumaEnd",y[y.zumaShuaxin=1047]="zumaShuaxin",function(e){e[e.startIndex=2e3]="startIndex",e[e.showProgress=2001]="showProgress",e[e.hideProgress=2002]="hideProgress",e[e.updateProgress=2003]="updateProgress"}(i||(i={})),function(e){e[e.startIndex=3e3]="startIndex",e[e.updatePlayerData=3001]="updatePlayerData",e[e.playerDataChanged=3002]="playerDataChanged"}(a||(a={})),function(e){e[e.startIndex=4e3]="startIndex",e[e.showMsg=4001]="showMsg",e[e.showVideo=4002]="showVideo",e[e.showBanner=4003]="showBanner",e[e.hideBanner=4004]="hideBanner",e[e.showBannerFinish=4005]="showBannerFinish",e[e.showInsertAd=4006]="showInsertAd",e[e.startRecord=4007]="startRecord",e[e.stopRecord=4008]="stopRecord",e[e.shareRecord=4009]="shareRecord",e[e.bannerResize=4010]="bannerResize",e[e.navigateToMiniProgram=4011]="navigateToMiniProgram",e[e.vibrateShort=4012]="vibrateShort",e[e.vibrateLong=4013]="vibrateLong",e[e.hide=4014]="hide",e[e.show=4015]="show",e[e.showInsertByPauseLevel=4016]="showInsertByPauseLevel",e[e.callJSVideoSuccess=4017]="callJSVideoSuccess",e[e.callJSVideoFail=4018]="callJSVideoFail",e[e.callJSVideoError=4019]="callJSVideoError",e[e.callJSFullVideoSuccess=4020]="callJSFullVideoSuccess",e[e.callJSFullVideoFail=4021]="callJSFullVideoFail",e[e.callJSFullVideoError=4022]="callJSFullVideoError",e[e.showAppBox=4023]="showAppBox",e[e.showBlockAd=4024]="showBlockAd",e[e.subscribeMsg=4025]="subscribeMsg",e[e.addColorSign=4026]="addColorSign"}(r||(r={})),function(e){e[e.startIndex=5e3]="startIndex",e[e.playGoldAmin=5001]="playGoldAmin",e[e.goldAnimPlayFinish=5002]="goldAnimPlayFinish",e[e.showTip=5003]="showTip",e[e.showTouchMask=5004]="showTouchMask",e[e.hideTouchMask=5005]="hideTouchMask",e[e.enter=5006]="enter",e[e.entered=5007]="entered",e[e.exit=5008]="exit",e[e.exited=5009]="exited",e[e.showDetaiUI=5010]="showDetaiUI",e[e.showresultUI=5011]="showresultUI",e[e.showCheckSceneBtn=5012]="showCheckSceneBtn",e[e.updataGamelist=5013]="updataGamelist",e[e.SignInList=5014]="SignInList"}(s||(s={})),function(e){e[e.startIndex=6e3]="startIndex",e[e.playBGM=6001]="playBGM",e[e.playEffect=6002]="playEffect",e[e.playClickBtn=6003]="playClickBtn",e[e.stopBGM=6004]="stopBGM",e[e.changeConfig=6005]="changeConfig",e[e.pause=6006]="pause",e[e.resume=6007]="resume"}(c||(c={})),function(e){e[e.startIndex=7e3]="startIndex",e[e.levelStart=7001]="levelStart",e[e.levelWin=7002]="levelWin",e[e.levelLose=7003]="levelLose"}(l||(l={})),function(e){e[e.startIndex=8e3]="startIndex",e[e.assetLoadFinish=8001]="assetLoadFinish",e[e.clickRecommendItem=8002]="clickRecommendItem",e[e.clickBtnRecommend_TT=8003]="clickBtnRecommend_TT",e[e.hideRecommend=8004]="hideRecommend"}(u||(u={})),function(e){e[e.startIndex=9e3]="startIndex",e[e.powerChanged=9001]="powerChanged",e[e.powerUnEnough=9002]="powerUnEnough",e[e.consumePower=9003]="consumePower",e[e.getPower=9004]="getPower"}(d||(d={})),function(e){e[e.startIndex=1e4]="startIndex",e[e.loadConfigSuccess=10001]="loadConfigSuccess",e[e.changeScene=10002]="changeScene",e[e.closeFullRecommend=10003]="closeFullRecommend",e[e.onBtnFadeExit=10004]="onBtnFadeExit"}(p||(p={})),function(e){e[e.startIndex=11e3]="startIndex",e[e.ctrlStart=11001]="ctrlStart",e[e.ctrlEnd=11002]="ctrlEnd",e[e.touchStart=11003]="touchStart",e[e.touchMove=11004]="touchMove",e[e.touchEnd=11005]="touchEnd",e[e.touchStay=11006]="touchStay"}(h||(h={})),function(e){e[e.startIndex=12e3]="startIndex",e[e.chooseItem=12001]="chooseItem",e[e.changeDisplayItem=12002]="changeDisplayItem"}(f||(f={})),function(e){e[e.startIndex=13e3]="startIndex",e[e.showMoreGameByBanner=13001]="showMoreGameByBanner",e[e.showMoreGameByIcon=13002]="showMoreGameByIcon",e[e.showMoreGame=13003]="showMoreGame",e[e.showMoreGameSide=13004]="showMoreGameSide",e[e.showMoreGameMiddle=13005]="showMoreGameMiddle"}(g||(g={})),function(e){e[e.startIndex=14e3]="startIndex",e[e.appOnce=14001]="appOnce",e[e.sharedOut=14002]="sharedOut",e[e.sharedIn=14003]="sharedIn",e[e.video=14004]="video",e[e.levelUp=14005]="levelUp",e[e.task=14006]="task",e[e.action=14007]="action",e[e.pay=14008]="pay",e[e.money=14009]="money",e[e.item=14010]="item",e[e.battle=14011]="battle",e[e.equip=14012]="equip",e[e.equipLevel=14013]="equipLevel",e[e.equipDegree=14014]="equipDegree",e[e.equipPlayWay=14015]="equipPlayWay",e[e.event=14016]="event",e[e.clear=14017]="clear",e[e.error=14018]="error"}(v||(v={}));var m=function(){function e(){}return e.DirectorEvent=n,e.LoadAssetEvent=i,e.PlayerDataEvent=a,e.SDKEvent=r,e.UIEvent=s,e.AudioEvent=c,e.ALDEvent=l,e.RecommendEvent=u,e.AssetEvent=d,e.AdvertSwitchEvent=p,e.CtrlEvent=h,e.ShopEvent=f,e.LeYouRecommend=g,e.TongJi=v,e}();o.default=m,cc._RF.pop()},{}],CommonGameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"72aa0f+ddVE5ZQUlmf5WnzI","CommonGameConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return Object.defineProperty(e,"audioConfig",{get:function(){if(!this._audioConfig){var e=cc.sys.localStorage.getItem("audioConfig");this._audioConfig=e?JSON.parse(e):new i}return this._audioConfig},set:function(e){this._audioConfig.bgm=!!e.bgm,this._audioConfig.effect=!!e.effect,cc.sys.localStorage.setItem("audioConfig",JSON.stringify(this._audioConfig))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"driveConfig",{get:function(){if(!this._driveConfig){var e=cc.sys.localStorage.getItem("driveConfig");this._driveConfig=e?JSON.parse(e):new a}return this._driveConfig},set:function(e){this._driveConfig.vibrate=!!e.vibrate,cc.sys.localStorage.setItem("driveConfig",JSON.stringify(this._driveConfig))},enumerable:!1,configurable:!0}),e.resourceUrl="",e.serverGameName="myGame",e.gameName="myGame",e.VideoSwitch={delayShowNoVideoBtns:!0,delayNoVideoTime:3},e._audioConfig=null,e._driveConfig=null,e}();o.default=n;var i=function(){this.bgm=!0,this.effect=!0},a=function(){this.vibrate=!0};cc._RF.pop()},{}],EffectLayer:[function(e,t,o){"use strict";cc._RF.push(t,"3d9e3/bEoFE+oHEAtFwtP5F","EffectLayer");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchScrewPrefab=null,t.hammerPrefab=null,t}return n(t,e),t.prototype.start=function(){var e=this;cc.game.on("screw_remove",function(t){var o=t.node.parent.convertToWorldSpaceAR(t.node.position),n=e.node.convertToNodeSpaceAR(o),i=cc.instantiate(e.touchScrewPrefab);i.position=n,i.parent=e.node;var a=cc.delayTime(.25),r=cc.removeSelf(),s=cc.sequence(a,r);i.runAction(s)},this)},t.prototype.playHammerEffect=function(e){var t=e.parent.convertToWorldSpaceAR(e.position),o=this.node.convertToNodeSpaceAR(t),n=cc.instantiate(this.hammerPrefab);n.position=o,n.parent=this.node;var i=cc.delayTime(.7),a=cc.removeSelf(),r=cc.sequence(i,a);n.runAction(r)},i([s(cc.Prefab)],t.prototype,"touchScrewPrefab",void 0),i([s(cc.Prefab)],t.prototype,"hammerPrefab",void 0),i([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],EventManager:[function(e,t,o){"use strict";cc._RF.push(t,"bc22cHx/TFJ1qvjXMtEgGCp","EventManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.Handler=void 0;var n=function(){function e(){}return e.on=function(e,t,o){this.events.hasOwnProperty(e)||(this.events[e]=[]);for(var n=this.events[e].length-1;n>=0;--n)if(this.events[e][n].equal(t,o))return null;var a=new i(t,o);return this.events[e].push(a),a},e.once=function(e,t,o){this.onceEvents.hasOwnProperty(e)||(this.onceEvents[e]=[]);for(var n=this.onceEvents[e].length-1;n>=0;--n)if(this.onceEvents[e][n].equal(t,o))return null;var a=new i(t,o);return this.onceEvents[e].push(a),a},e.off=function(e,t,o){if(!t)return this.events[e]=[],void(this.onceEvents[e]=[]);if(t instanceof i){if(this.events.hasOwnProperty(e))for(var n=this.events[e].length-1;n>=0;--n)if(this.events[e][n].id==t.id){this.events[e].splice(n,1);break}if(this.onceEvents.hasOwnProperty(e))for(n=this.onceEvents[e].length-1;n>=0;--n)if(this.onceEvents[e][n].id==t.id){this.onceEvents[e].splice(n,1);break}}else{if(this.events.hasOwnProperty(e))for(n=this.events[e].length-1;n>=0;--n)if(this.events[e][n].equal(t,o)){this.events[e].splice(n,1);break}if(this.onceEvents.hasOwnProperty(e))for(n=this.onceEvents[e].length-1;n>=0;--n)if(this.onceEvents[e][n].equal(t,o)){this.onceEvents[e].splice(n,1);break}}},e.offGroup=function(e,t){if(this.events.hasOwnProperty(e))for(var o=t.length-1;o>=0;--o)for(var n=this.events[e].length-1;n>=0;--n)if(this.events[e][n].id==t[o].id){this.events[e].splice(n,1);break}if(this.onceEvents.hasOwnProperty(e))for(o=t.length-1;o>=0;--o)for(n=this.onceEvents[e].length-1;n>=0;--n)if(this.onceEvents[e][n].id==t[o].id){this.onceEvents[e].splice(n,1);break}},e.emit=function(e,t,o,n,i,a){if(this.events.hasOwnProperty(e))for(var r=0,s=(c=this.events[e]).length;r<s;++r)void 0===t?c[r].cb.call(c[r].target):void 0===o?c[r].cb.call(c[r].target,t):void 0===n?c[r].cb.call(c[r].target,t,o):void 0===i?c[r].cb.call(c[r].target,t,o,n):void 0===a?c[r].cb.call(c[r].target,t,o,n,i):c[r].cb.call(c[r].target,t,o,n,i,a);if(this.onceEvents.hasOwnProperty(e)){var c;for(r=0,s=(c=this.onceEvents[e]).length;r<s;++r)void 0===t?c[r].cb.call(c[r].target):void 0===o?c[r].cb.call(c[r].target,t):void 0===n?c[r].cb.call(c[r].target,t,o):void 0===i?c[r].cb.call(c[r].target,t,o,n):void 0===a?c[r].cb.call(c[r].target,t,o,n,i):c[r].cb.call(c[r].target,t,o,n,i,a);delete this.onceEvents[e]}},e.events={},e.onceEvents={},e}();o.default=n;var i=function(){function e(t,o){this._id=e.idCount++,this.target=o,this.cb=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.equal=function(e,t){return this.target===t&&this.cb==e},e.idCount=0,e}();o.Handler=i,cc._RF.pop()},{}],FMJava:[function(e,t,o){"use strict";cc._RF.push(t,"4e424vNyxNLgqUgnZgMNXHw","FMJava"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.showRewardedVideoAd=function(e,t){var o=this;this.IsLookVideo||(this.IsLookVideo=!0,setTimeout(function(){o.IsLookVideo=!1},3e3),this.onClose=e,this.onFailed=t,console.log("js  \u64ad\u653e\u6fc0\u52b1\u89c6\u9891"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","showRewardedVideoAd","()V"))},e.show_FullScreenVideo=function(t,o){e.time||(this.onClose=t,this.onFailed=o,e.time=!0,setTimeout(function(){e.time=!1},6e4),console.log("js \u64ad\u653e\u5168\u5c4f\u89c6\u9891"),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","FullScreenVideoAd","()V"))},e.listener_Video_finish=function(){console.log(" \u56de\u8c03  \u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f"),this.onClose&&this.onClose(!0)},e.listener_Video_Error=function(){console.log(" \u56de\u8c03  \u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u9519\u8bef"),this.onFailed&&this.onFailed()},e.listener_Video_Close=function(){console.log(" \u56de\u8c03  \u89c6\u9891\u64ad\u653e\u5173\u95ed"),this.onClose&&this.onClose(!1)},e.onClose=null,e.onFailed=null,e.InterstitialAdNowTime=0,e.InterstitialAdstopTime=0,e.IsLookVideo=!1,e.time=!1,e}();o.default=n,cc._RF.pop()},{}],Feibiao:[function(e,t,o){"use strict";cc._RF.push(t,"fe3ecVQFX9Inbv8o9LECy5S","Feibiao");var n=__extends,i=__decorate,a=__awaiter,r=__generator,s=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var c=s(e("EventManager")),l=s(e("yyComponent")),u=s(e("userService")),d=e("OverallSystem"),p=e("GameEventType"),h=s(e("xinshouyindao")),f=s(e("GamePlay")),g=s(e("ResourceLoader")),v=s(e("TargetMgr")),y=s(e("gameConfig1")),m=s(e("GameUILayer")),_=s(e("LevelMgr")),S=cc._decorator,w=S.ccclass,b=S.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetMgr=null,t.gameUILayer=null,t.xinshouyindaoPre=null,t.fuhuoNode=null,t.paintNode=null,t.levelText=null,t.nowGuanqiaNode=null,t.xinshouyindao=null,t.level=1,t.lianjitime=3,t.lianjiNumber=0,t.starsNumber=0,t.failureAdCounter=0,t.victoryAdCounter=0,t}return n(t,e),t.prototype.onLoad=function(){this.node.getComponent(cc.Canvas).fitHeight=u.default.IPAD,this.node.getComponent(cc.Canvas).fitWidth=!u.default.IPAD,cc.game.on("btn_clear_tmp",this.showSaoba,this)},t.prototype.start=function(){var e=d.sers().userSrv.getFeibiaoData();this.level=e.level;var t=this.level<1?"Beginner's Tutorial":"Level "+this.level;this.levelText.string=t,this.loadLevel(this.level),d.mgrs().soundMgr.playMusic("bgm"),window["GM-mode"]&&(this.node.getChildByName("testNode").active=!0),d.sers().platformSrv.platformApi.recordedGameScreenStart({duration:300,isMarkOpen:!0})},t.prototype.loadingLevel=function(){var e=this,t={game_name:"\u7ef3\u5b50\u62fc\u56fe",level:this.level};d.sers().platformSrv.platformApi.reportAnalytics("game_enter",t),0==this.level&&(this.xinshouyindao=cc.instantiate(this.xinshouyindaoPre),cc.log("\u5f15\u5bfc"),this.scheduleOnce(function(){var t=e.nowGuanqiaNode.children[e.nowGuanqiaNode.childrenCount-1],o=e.targetMgr.targetsNode.children[0],n=e.node.getChildByName("tmpNode").getChildByName("tmp_layout");e.xinshouyindao.getComponent(h.default).nodeArr=[o,t.children[t.childrenCount-1],n,t.children[t.childrenCount-1]],c.default.on(p.EventType.DirectorEvent.xinshouyindaoEnd,function(){e.node&&e.xinshouyindao&&e.xinshouyindao&&(e.xinshouyindao.parent=null)},e),cc.game.on("screw_remove",e.emitXinshouyindao,e),e.xinshouyindao.getComponent(h.default).str=["Observe the color of the pipe","Click on the corresponding colored rope","The rope that doesn't match the color will be temporarily stored here","Complete the puzzle to win the game"],e.xinshouyindao.getComponent(h.default).fx=[2,2,2,2,2,2],e.xinshouyindao.getComponent(h.default).chumo=-999,e.xinshouyindao.parent=e.node,e.xinshouyindao.zIndex=13,e.xinshouyindao.active=!0})),0!=this.level&&this.showCustomDifficultyImage()},t.prototype.showCustomDifficultyImage=function(){var e=this,t=this.node.getChildByName("EffectLayer").getChildByName("nandubiaosheng"),o=t.getComponent(sp.Skeleton);o&&(o.enabled=!1);var n=1===this.level?"tu1":"tu2";d.mgrs().soundMgr.playSound("ding");var i=cc.assetManager.getBundle("Feibiao");i?i.load("spines/"+n,cc.SpriteFrame,function(o,n){o?console.error("Failed to load difficulty image from Feibiao bundle:",o):e.displayDifficultyImage(t,n)}):console.error("Feibiao bundle not loaded yet")},t.prototype.displayDifficultyImage=function(e,t){var o=e.getChildByName("customDifficultyImage");o||((o=new cc.Node("customDifficultyImage")).parent=e);var n=o.getComponent(cc.Sprite);n||(n=o.addComponent(cc.Sprite)),n.spriteFrame=t,o.setContentSize(750,400),o.setPosition(0,200),o.scale=0,o.opacity=255,e.active=!0,cc.tween(o).to(.3,{scale:1.65},{easing:"backOut"}).to(.1,{scale:1.5}).delay(.85).call(function(){e.active=!1,o.scale=0}).start()},t.prototype.emitXinshouyindao=function(){this.emit(p.EventType.DirectorEvent.xinshouyindao)},t.prototype.gameOver=function(){cc.log("over");var e=this.targetMgr.canUnlock();cc.find("content/tips1",this.fuhuoNode).active=!e,cc.find("content/tips2",this.fuhuoNode).active=e,this.fuhuoNode.getComponent(cc.Widget).updateAlignment(),cc.find("content/textLayout/progressLabel",this.fuhuoNode).getComponent(cc.Label).string=Math.floor(100*this.getProgress()).toFixed(0)+"%",this.fuhuoNode.active=!0,this.fuhuoNode.scale=0,cc.tween(this.fuhuoNode).call(function(){d.sers().uiSrv.showMessage("The slot is full!")}).delay(1.5).to(.2,{scale:1}).start();var t={game_name:"\u7ef3\u5b50\u62fc\u56fe",level:this.level,progress:Math.floor(100*this.getProgress()).toFixed(0)};d.sers().platformSrv.platformApi.reportAnalytics("game_level_failed",t)},t.prototype.getProgress=function(){return this.targetMgr.getProgress()},t.prototype.buxuyao=function(){d.mgrs().soundMgr.playBtnSound(),this.fuhuoNode.active=!1;var e=this.getFailureCount(),t=this;e%3==0?d.sers().platformSrv.platformApi.showInsertAd(function(){t.overPage()},function(){t.overPage()}):this.overPage()},t.prototype.huode=function(){var e=this;d.mgrs().soundMgr.playBtnSound();var t=this.targetMgr.canUnlock();if(this.gameUILayer.freeNumber>0){t?cc.game.emit("btn_clear_tmp"):cc.game.emit("unlock_2"),this.fuhuoNode.active=!1;for(var o=0,n=this.gameUILayer.mianfeiNode;o<n.length;o++)n[o].active=!1;this.gameUILayer.freeNumber--,d.sers().userSrv.setMianfeidaojuData({cishu:0})}else d.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){t?cc.game.emit("btn_clear_tmp"):cc.game.emit("unlock_2"),e.fuhuoNode.active=!1},function(){},null,{game_name:"\u7ef3\u5b50\u62fc\u56fe",prop_name:"\u590d\u6d3b",level:this.level,slevel:this.level})},t.prototype.xiayiguan=function(){d.mgrs().soundMgr.playSound("succes");var e={level:this.level,gameProgress:1,paintNode:this.paintNode};this.getVictoryCount()%4==0?d.sers().platformSrv.platformApi.showInsertAd(function(){d.sers().uiSrv.showOverPage({pass:!0,data:e})},function(){d.sers().uiSrv.showOverPage({pass:!0,data:e})}):d.sers().uiSrv.showOverPage({pass:!0,data:e})},t.prototype.overPage=function(){var e={level:this.level,gameProgress:this.getProgress(),paintNode:this.paintNode};d.mgrs().soundMgr.playSound("shibai"),d.sers().uiSrv.showOverPage({pass:!1,data:e})},t.prototype.getFailureCount=function(){var e=d.sers().localStorageSrv,t=e.get("failureAdCounter")||0;return t=parseInt(t)+1,e.set("failureAdCounter",t),t},t.prototype.getVictoryCount=function(){var e=d.sers().localStorageSrv,t=e.get("victoryAdCounter")||0;return t=parseInt(t)+1,e.set("victoryAdCounter",t),t},t.prototype.pass=function(){cc.log("pass"),d.mgrs().soundMgr.playSound("shengli");var e={game_name:"\u7ef3\u5b50\u62fc\u56fe",level:this.level};d.sers().platformSrv.platformApi.reportAnalytics("game_level_pass",e);var t=d.sers().userSrv.getFeibiaoData();t.selectedPainting=t.level,t.selectedPainting>y.default.ROPE_MAX_LEVEL&&(t.selectedPainting=y.default.ROPE_MAX_LEVEL),t.level++,d.sers().userSrv.setFeibiaoData(t),this.xiayiguan(),seeg.setUserData({level:t.level});try{var o=_.default.getPrefabName(t.level),n=_.default.getBundleName(t.level);g.default.getInstance().load(n,"prefabs/levels/lv_"+o,cc.Prefab).then(function(){console.log("preload success",o)})}catch(i){console.log("preload error",i)}},t.prototype.loadAndShowVideoAd=function(e,t){e.level=this.level,d.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){t&&t()},function(){},null,e)},t.prototype.setBtn=function(){d.mgrs().soundMgr.playBtnSound(),d.sers().uiSrv.showSettingPage(1)},t.prototype.addlianji=function(){this.lianjiNumber++;var e=this.node.getChildByName("lianjishu").getChildByName("lianji");if(e.stopAllActions(),e.scale=1,e.getComponent(cc.Label).string="x"+this.lianjiNumber,cc.tween(e).to(.2,{scale:1.2}).to(.1,{scale:1}).start(),this.node.getChildByName("lianjishu")&&this.lianjiNumber>1){this.node.getChildByName("lianjishu").active=!0;var t=this.node.getChildByName("lianjishu").getChildByName("pb").getComponent(cc.ProgressBar);t.node.stopAllActions(),t.progress=1,cc.tween(t).to(this.lianjitime,{progress:0}).start()}this.unschedule(this.congzhilianji),this.scheduleOnce(this.congzhilianji,this.lianjitime)},t.prototype.showSaoba=function(){var e=this.targetMgr.node.getChildByName("saoba");e.active=!0,e.x=50,d.mgrs().soundMgr.playSound("saoba"),cc.tween(e).to(.5,{x:50}).call(function(){e.active=!1}).start()},t.prototype.congzhilianji=function(){this.lianjiNumber=0,this.node.getChildByName("lianjishu").active=!1},t.prototype.loadLevel=function(e){return a(this,void 0,void 0,function(){var t,o,n,i,a,s;return r(this,function(r){switch(r.label){case 0:t=_.default.getPrefabName(e),console.log("loadLevel",e,t),r.label=1;case 1:return r.trys.push([1,4,,5]),o=_.default.getBundleName(e),[4,g.default.getInstance().load(o,"prefabs/levels/lv_"+t,cc.Prefab)];case 2:return n=r.sent(),[4,g.default.getInstance().load(o,"json/lv_"+_.default.getLevelIndex(e),cc.JsonAsset)];case 3:return i=r.sent(),(a=cc.instantiate(n)).position=cc.v3(0,0,0),(s=this.node.getComponent(f.default)).levelRoot.addChild(a,3),s.boardLayer=a,s.initGame(i.json,e,!0),this.nowGuanqiaNode=a,this.gameUILayer.initFeibiao(this),this.loadingLevel(),[3,5];case 4:return r.sent(),d.sers().uiSrv.showMessage("\u5173\u5361\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5"),[3,5];case 5:return[2]}})})},t.prototype.onEditEnd=function(e){var t=parseInt(e.string),o=d.sers().userSrv.getFeibiaoData();o.level=t,d.sers().userSrv.setFeibiaoData(o),cc.director.loadScene("Feibiao")},i([b({type:v.default,tooltip:"\u76ee\u6807\u7ba1\u7406\u5668"})],t.prototype,"targetMgr",void 0),i([b({type:m.default,tooltip:"\u6e38\u620fUI\u5c42"})],t.prototype,"gameUILayer",void 0),i([b({type:cc.Prefab,tooltip:"\u65b0\u624b\u5f15\u5bfc\u9884\u5236\u4f53"})],t.prototype,"xinshouyindaoPre",void 0),i([b({type:cc.Node,tooltip:"\u590d\u6d3b\u8282\u70b9\u9875\u9762"})],t.prototype,"fuhuoNode",void 0),i([b({type:cc.Node,tooltip:"\u753b\u677f\u8282\u70b9"})],t.prototype,"paintNode",void 0),i([b({type:cc.Label,tooltip:"\u7b49\u7ea7\u6587\u672c"})],t.prototype,"levelText",void 0),i([w],t)}(l.default);o.default=P,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",GamePlay:"GamePlay",GameUILayer:"GameUILayer",LevelMgr:"LevelMgr",OverallSystem:"OverallSystem",ResourceLoader:"ResourceLoader",TargetMgr:"TargetMgr",gameConfig1:"gameConfig1",userService:"userService",xinshouyindao:"xinshouyindao",yyComponent:"yyComponent"}],Fuwu:[function(e,t,o){"use strict";cc._RF.push(t,"2a48cD121dE3qjAj5JCT868","Fuwu");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("http_request")),s=a(e("userService")),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tishiLabel=null,t.url="https://changshazhise01-1254961065.cos.ap-guangzhou.myqcloud.com/zhise/oppo/agreement.json",t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){r.default.getInstance().get(this.url,null,this.show.bind(this))},t.prototype.show=function(e){console.log(e);var t=this,o=e,n="";for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var a=o[i],r="";if(a.style&&a.style.bold)if(a.test instanceof Array){for(var c="",l=0,u=a.test;l<u.length;l++)c+=u[l];r="<b>"+c+"</b>"}else r="<b>"+a.text+"</b>";else if(a.test instanceof Array){c="";for(var d=0,p=a.test;d<p.length;d++)c+=p[d];r=""+c}else r=""+a.text;n+=r}n=(n=(n=n.replace(/company/gi,s.default.vivoSDKdata.zs_company)).replace(/email/gi,"email:"+s.default.vivoSDKdata.zs_postbox)).replace(/app_name/gi,s.default.vivoSDKdata.zs_game_name),t.tishiLabel.string=n,t.scheduleOnce(function(){t.tishiLabel.node.parent.height=t.tishiLabel.node.height})},i([d(cc.RichText)],t.prototype,"tishiLabel",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{http_request:"http_request",pageBase:"pageBase",userService:"userService"}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"2bf0deXxc9Fz78esTMieaf5","GameConfig");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.GameRule={mapSize:{width:400,height:400}},t}(i(e("CommonGameConfig")).default);o.default=a,cc._RF.pop()},{CommonGameConfig:"CommonGameConfig"}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"9567bZkSaFAm5xouJBbfipq","GameData");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=e("GlobalEnum"),a=n(e("LevelDataTemplate")),r=function(){function e(){}return e.init=function(){this.data={},this.data[i.GlobalEnum.GameDataType.levelData]=a.default.getData()},e.setData=function(e,t){for(var o in i.GlobalEnum.GameDataType){var n=this.getUrlsIndex(i.GlobalEnum.GameDataType[o],t);n>=0?this.data[i.GlobalEnum.GameDataType[o]]=e[n].json:console.warn("\u6570\u636e\u7c7b\u578b\u4e0d\u5b58\u5728\uff1a",i.GlobalEnum.GameDataType[o])}for(var o in i.GlobalEnum.GoodsType){var a=i.GlobalEnum.GoodsType[o];if(this.data[a]&&Array.isArray(this.data[a])){for(var r=this.data[a],s={},c=r.length-1;c>=0;--c)s[r[c].id]=r[c];this.data[a]=s}}},e.getUrlsIndex=function(e,t){for(var o=t.length-1;o>=0;--o)if(t[o].indexOf(e)>=0)return o;return-1},e.addData=function(e,t){this.data[e]?console.warn("\u5bf9\u5e94\u7c7b\u578b\u7684\u6570\u636e\u5df2\u7ecf\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u7c7b\u578b\u662f\u5426\u91cd\u540d:",e):this.data[e]=t},e.getData=function(e,t){return void 0===this.data[e]?(console.warn("\u4e0d\u5b58\u5728\u5bf9\u5e94\u7c7b\u578b\u7684\u6570\u636e\uff1a",e),null):void 0===t?this.data[e]:this.data[e][t]},e.getLevelData=function(e){var t=this.data[i.GlobalEnum.GameDataType.levelData];if(!t)return cc.log("\u4e0d\u5b58\u5728\u5173\u5361\u6570\u636e\uff0c\u4f7f\u7528\u793a\u4f8b\u6570\u636e"),a.default.getData();if(t[e])return t[e];var o=Object.keys(t),n=Math.round(Math.random()*(o.length-1));return parseInt(o[n])<=3?(cc.log("\u5173\u5361"+e+"\u4e0d\u5b58\u5728\u6570\u636e\uff0c\u4f7f\u7528\u968f\u673a\u5173\u5361\u6570\u636e\uff1a"+o[o.length-1]),t[o[o.length-1]]):(cc.log("\u5173\u5361"+e+"\u4e0d\u5b58\u5728\u6570\u636e\uff0c\u4f7f\u7528\u968f\u673a\u5173\u5361\u6570\u636e\uff1a"+o[n]),t[o[n]])},e.getGoodsData=function(e,t){return void 0===this.data[e]?(console.warn("\u4e0d\u5b58\u5728\u5bf9\u5e94\u7c7b\u578b\u7684\u5546\u54c1\u6570\u636e\uff1a",e),null):void 0===t?this.data[e]:this.data[e][t]},e.data={},e}();o.default=r,cc._RF.pop()},{GlobalEnum:"GlobalEnum",LevelDataTemplate:"LevelDataTemplate"}],GameEventType:[function(e,t,o){"use strict";cc._RF.push(t,"a1c07eB9P1CG70QzXnLTbhs","GameEventType");var n,i=__extends,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.EventType=void 0;var r,s=a(e("CommonEventType"));(r=n||(n={}))[r.startIndex=1e5]="startIndex",r[r.loadcomplete=100001]="loadcomplete";var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.LevelEvent=n,t}(s.default);o.EventType=c,cc._RF.pop()},{CommonEventType:"CommonEventType"}],GamePlay:[function(e,t,o){"use strict";cc._RF.push(t,"41824AFRcRJqIdusTkA4eSL","GamePlay");var n=__extends,i=__decorate,a=__awaiter,r=__generator,s=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property;function d(e){for(var t,o=e.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1));t=[e[n],e[o]],e[o]=t[0],e[n]=t[1]}return e}var p=["#6ccae2","#95ed85","#206abc","#ef8bfb","#d7c55e","#7043bd","#ff6e8d"],h=s(e("GameUILayer")),f=s(e("TargetMgr")),g=s(e("EffectLayer")),v=s(e("PaintBoard")),y=e("OverallSystem"),m=s(e("Board")),_=s(e("LevelMgr")),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameUILayer=null,t.targetMgr=null,t.effectLayer=null,t.objPrefab=null,t.levelRoot=null,t.blockLayer=null,t.boardBaffle=null,t.paintBoard=null,t.boardLayer=null,t.boards=[],t}return n(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1600),cc.game.on("btn_remove_board",this.showBlockLayer,this),this.gameUILayer.init(this),this.blockLayer.on(cc.Node.EventType.TOUCH_START,this.onBlockLayerTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this);var e=this.boardBaffle.getComponent(cc.RigidBody);e&&(e.onBeginContact=this.onBeginContact.bind(this))},t.prototype.initPhysics=function(e){var t=e;cc.game.config.groupList=t["group-list"],cc.game.config.collisionMatrix=t["collision-matrix"],cc.game._initConfig(cc.game.config)},t.prototype.onAutoPlay=function(){cc.director.getScheduler().isScheduled(this.startAutoPlay,this)?(this.unschedule(this.startAutoPlay),y.sers().uiSrv.showMessage("\u81ea\u52a8\u6a21\u5f0f\u5df2\u5173\u95ed")):(y.sers().uiSrv.showMessage("\u81ea\u52a8\u6a21\u5f0f\u5df2\u5f00\u542f"),this.schedule(this.startAutoPlay,.3))},t.prototype.startAutoPlay=function(){cc.log("startAutoPlay");for(var e=this.boards.length-1;e>=0;e--){var t=this.boards[e];if(!t.isLocked)for(var o=t.getScrewComps(),n=0;n<o.length;n++){var i=o[n];if(!i.isLocked&&this.isTouchenEnabled(t,i))return void this.touchOperateObj(i)}}},t.prototype.initGame=function(e,t,o){return a(this,void 0,Promise,function(){return r(this,function(n){switch(n.label){case 0:return cc.log("gamePlay"),[4,this.initPaintBoard(e)];case 1:return n.sent(),[4,this.initBoards()];case 2:return n.sent(),this.refreshBoardLockState(),[4,this.initLevelConfig(t,o)];case 3:return n.sent(),[2]}})})},t.prototype.showBlockLayer=function(){this.blockLayer.active=!0},t.prototype.getColorConfig=function(e,t){var o=_.default.getLevelDifficultyConfig(e,t);cc.log("curLevelConfig",o);for(var n=this.paintBoard.getSteps(),i=[],a=0;a<n.length;a++){var r=n[a];i.push(r.colorIndex)}var s=i.length,c=[],l=0;for(a=1;a<o.length;a++){var u=o[a-1],d=o[a][0]-u[0],p=Math.floor(d*s);a==o.length-1&&(p=s-l);for(var h=[],f=l;f<l+p;f++){var g=i[f];h.push(g)}l+=p,c.push(h)}return cc.log("colors",i),cc.log("colorArr",c),c},t.prototype.initLevelConfig=function(e,t){var o=this;return new Promise(function(n){for(var i=o.getColorConfig(e,t),a=[],r=[],s=0;s<i.length;s++){for(var c=i[s],l=[],u=0;u<c.length;u++)for(var d=0;d<3;d++)l.push(c[u]);Array.prototype.push.apply(a,l),Array.prototype.push.apply(r,c)}o.targetMgr.setData(r,o),o.pendingScrews=a.slice(0);for(var p=a.length,h=0,f=[],g=o.boards.length-1;g>=0;g--){for(var v=o.boards[g],y=v.getScrewComps(),m=!1,_=0;_<y.length;_++)o.pendingScrews.length>0?(y[_].setType(o.pendingScrews.shift()),y[_].node.active=!0,h++,m=!0):y[_].node.active=!1;m||f.push(v)}for(var S=0;S<f.length;S++){var w=f[S],b=w.node.getComponent(cc.RigidBody);b&&(b.enabledContactListener=!1,b.enabled=!1,b.type=cc.RigidBodyType.Static);var P=w.node.getComponent(cc.PhysicsPolygonCollider);P&&(P.enabled=!1);var C=w.node.getComponent(cc.PolygonCollider);C&&(C.enabled=!1),w.node.active=!1,w.node.opacity=0;var N=o.boards.indexOf(w);N>-1&&o.boards.splice(N,1),w.node.removeFromParent(!1)}cc.log("=== Level 1 \u9489\u5b50\u5206\u914d\u68c0\u67e5 ==="),cc.log("\u603b\u9489\u5b50\u6570:",p,"\u5df2\u5206\u914d:",h);for(var I=0,T=0;T<o.boards.length;T++)for(var A=o.boards[T].getScrewComps(),M=0;M<A.length;M++){var D=A[M];void 0!==D.type&&null!==D.type&&-1!==D.type||(D.node.active=!1,D.node.opacity=0,I++)}cc.log("\u989d\u5916\u9690\u85cf\u7684\u9489\u5b50\u6570:",I),cc.log("=== \u68c0\u67e5\u5b8c\u6210 ==="),o.pendingScrews=[],cc.log("Total screws needed:",p,"Assigned:",h),n()})},t.prototype.initPaintBoard=function(e){return a(this,void 0,void 0,function(){return r(this,function(){return this.paintBoard.loadGridData(e),[2]})})},t.prototype.initBoards=function(){var e=this;return this.boards=[],new Promise(function(t){for(var o=p.concat([]),n=(o=d(o)).concat(o).concat(o),i=function(o){var i=e.boardLayer.children[o];i.children.sort(function(e,t){return t.y-e.y}),e.scheduleOnce(function(){for(var a=0;a<i.children.length;a++){var r=i.children[a],s=r.getComponent(cc.RigidBody);s.enabledContactListener=!0,s.angularDamping=2;var c=r.getComponent(m.default),l=r.getComponent(cc.PhysicsPolygonCollider),u=r.getComponent(cc.PolygonCollider);c.layerIndex=o+1,r.group="default",l.points=u.points,l.apply(),c.init(e.objPrefab),c.setBoardColor(cc.Color.WHITE.fromHEX(n[o%n.length])),e.boards.push(c)}o+1==e.boardLayer.children.length&&t()},.01*o)},a=0;a<e.boardLayer.children.length;a++)i(a)})},t.prototype.refreshBoardLockState=function(){for(var e=[],t=1;t<=20;t++){var o="board_"+t;e.push(o)}for(var n=this.boardLayer.children.length-1;n>=0;n--)if((s=this.boardLayer.children[n]).children.length>0){var i=s.children[0],a=e.indexOf(i.group);a>=0&&e.splice(a,1)}var r=0;for(n=this.boardLayer.children.length-1;n>=0;n--){var s;(s=this.boardLayer.children[n]).children.length>0&&r++,o="";for(var c=0;c<s.children.length;c++){var l=(i=s.children[c]).getComponent(m.default);if(l&&-1!==this.boards.indexOf(l))if(r>5)l.setLock(!0,0);else if(r>4)l.setLock(!0);else{if(""==o&&(o=e.splice(0,1)[0]),"default"==i.group&&e.length>0){var u=i.getComponent(cc.Collider);u.enabled=!1,i.group=o,u.enabled=!0}l.setLock(!1)}}}},t.prototype.getTopObjs=function(e){void 0===e&&(e=1);for(var t=this.boards.filter(function(e){return!e.isLocked}).sort(function(e,t){return t.layerIndex-e.layerIndex}),o=[],n=-1,i=0,a=0,r=t;a<r.length;a++){var s=r[a];if(n!==s.layerIndex&&(n=s.layerIndex,++i>e))break;s.getScrewComps().forEach(function(e){o.push(e.type)})}return o},t.prototype.isTouchenEnabled=function(e,t){for(var o=0;o<this.boards.length;o++){var n=this.boards[o];if(!n.isLocked&&e!=n&&!(n.layerIndex<=e.layerIndex)&&this.isCollided(t.sprite,n))return!1}return!0},t.prototype.isCollided=function(e,t){var o=e.getComponent(cc.PolygonCollider).world.points,n=t.node.getComponent(cc.PolygonCollider).world.points;return cc.Intersection.polygonPolygon(o,n)},t.prototype.onBlockLayerTouchStart=function(e){var t=this;cc.log("touch block layer");var o=e.getLocation();cc.log("touchLoc",o);for(var n=function(e){var n=i.boards[e];if(n.isLocked)return"continue";var a=n.node.getComponent(cc.PolygonCollider).world.points;return cc.Intersection.pointInPolygon(o,a)?(i.effectLayer.playHammerEffect(n.node),i.blockLayer.off(cc.Node.EventType.TOUCH_START,i.onBlockLayerTouchStart,i),i.scheduleOnce(function(){t.blockLayer.active=!1,t.blockLayer.on(cc.Node.EventType.TOUCH_START,t.onBlockLayerTouchStart,t),cc.game.emit("remove_board",n),y.mgrs().soundMgr.playSound("\u677f\u5b50\u788e")},.5),{value:void 0}):void 0},i=this,a=this.boards.length-1;a>=0;a--){var r=n(a);if("object"==typeof r)return r.value}y.sers().uiSrv.showMessage("Please select a board to break")},t.prototype.onTouchStart=function(e){for(var t=e.getLocation(),o=this.boards.length-1;o>=0;o--)for(var n=this.boards[o],i=n.getScrewComps(),a=0;a<i.length;a++){var r=i[a];if(!r.isLocked){if(!r.sprite)continue;var s=r.sprite.getComponent(cc.PolygonCollider);if(!s||!s.world||!s.world.points)continue;var c=s.world.points;if(cc.Intersection.pointInPolygon(t,c))return this.isTouchenEnabled(n,r)?void this.touchOperateObj(r):(r.shake(),void y.mgrs().soundMgr.playSound("wufayidong"))}}},t.prototype.touchOperateObj=function(e){this.targetMgr.onTouchOperateObj(e),cc.game.emit("screw_remove",e),y.mgrs().soundMgr.playSound("\u70b9\u51fb\u98de\u9556"),y.sers().platformSrv.platformApi.vibrateShort(!1)},t.prototype.onBeginContact=function(e,t,o){o.enabled=!1,e.disabled=!0;var n=this.boards.indexOf(o.node.getComponent("Board"));n>-1&&(cc.log("\u79fb\u51fa\u677f\u5b50"),o.node.removeFromParent(!0),this.boards.splice(n,1),this.refreshBoardLockState())},i([u(h.default)],t.prototype,"gameUILayer",void 0),i([u(f.default)],t.prototype,"targetMgr",void 0),i([u(g.default)],t.prototype,"effectLayer",void 0),i([u(cc.Prefab)],t.prototype,"objPrefab",void 0),t.prototype.cleanUpBoard=function(){for(var e=0;e<this.boards.length;e++){var t=this.boards[e];t&&t.node&&t.node.active&&function(e,t){cc.tween(e.node).delay(.08*t).to(.3,{scale:0,opacity:0}).call(function(){e.node.active=!1}).start()}(t,e)}this.pendingScrews=[]},i([u(cc.Node)],t.prototype,"levelRoot",void 0),i([u(cc.Node)],t.prototype,"blockLayer",void 0),i([u(cc.Node)],t.prototype,"boardBaffle",void 0),i([u(v.default)],t.prototype,"paintBoard",void 0),i([l],t)}(cc.Component);o.default=S,cc._RF.pop()},{Board:"Board",EffectLayer:"EffectLayer",GameUILayer:"GameUILayer",LevelMgr:"LevelMgr",OverallSystem:"OverallSystem",PaintBoard:"PaintBoard",TargetMgr:"TargetMgr"}],GameUILayer:[function(e,t,o){"use strict";cc._RF.push(t,"156aaZgbA5CxYKTKeIjtLRs","GameUILayer");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=a(e("GamePlay")),u=e("OverallSystem"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gamePlayNode=null,t.layersLabel=null,t.boardsLabel=null,t.holesLabel=null,t.freeNumber=1,t.mianfeiNode=[],t.Feibiao=null,t.gamePlay=null,t}return n(t,e),t.prototype.start=function(){},t.prototype.init=function(e){this.gamePlay=e},t.prototype.initFeibiao=function(e){if(this.initUI(),this.Feibiao=e,this.freeNumber=u.sers().userSrv.getMianfeidaojuData().cishu,this.freeNumber>0&&this.Feibiao.level<=1)for(var t=0,o=this.mianfeiNode;t<o.length;t++)o[t].active=!0;else this.freeNumber=0},t.prototype.initUI=function(){this.gamePlay=this.gamePlayNode.getComponent(l.default),this.layersLabel.string="\u603b\u5c42\u6570\uff1a"+this.gamePlay.boardLayer.children.length;for(var e=0,t=0,o=0;o<this.gamePlay.boardLayer.children.length;o++){var n=this.gamePlay.boardLayer.children[o];e+=n.children.length;for(var i=0;i<n.children.length;i++)t+=n.children[i].getComponent("Board").holesNode.children.length}this.boardsLabel.string="\u603b\u677f\u5b50\u6570\uff1a"+e,this.holesLabel.string="\u603b\u6d1e\u6570\uff1a"+t},t.prototype.onProp=function(e){if("btn_clear_tmp"!=e.target.name||this.Feibiao.targetMgr.canClear()){var t=this.Feibiao.level||1,o={game_name:"\u7ef3\u5b50\u62fc\u56fe",prop_name:{btn_add_tmp:"\u52a0\u5b54\u4f4d",btn_remove_board:"\u6e05\u677f\u5b50",btn_clear_tmp:"\u6e05\u5b54\u4f4d",unlock_2:"\u89e3\u9501\u6c14\u7403",unlock_1:"\u89e3\u9501\u6c14\u7403"}[e.target.name],level:t};if(u.mgrs().soundMgr.playSound("click"),this.freeNumber>0){cc.game.emit(e.target.name);for(var n=0,i=this.mianfeiNode;n<i.length;n++)i[n].active=!1;this.freeNumber--,u.sers().userSrv.setMianfeidaojuData({cishu:0})}else this.Feibiao.loadAndShowVideoAd(o,function(){cc.game.emit(e.target.name)})}else u.sers().uiSrv.showMessage("No need to use props")},t.prototype.onPintu=function(){u.mgrs().soundMgr.playBtnSound(),u.sers().uiSrv.showPage("Collection","CollectionPage")},i([c(cc.Node)],t.prototype,"gamePlayNode",void 0),i([c(cc.Label)],t.prototype,"layersLabel",void 0),i([c(cc.Label)],t.prototype,"boardsLabel",void 0),i([c(cc.Label)],t.prototype,"holesLabel",void 0),i([c],t.prototype,"freeNumber",void 0),i([c([cc.Node])],t.prototype,"mianfeiNode",void 0),i([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{GamePlay:"GamePlay",OverallSystem:"OverallSystem"}],GlobalEnum:[function(e,t,o){"use strict";cc._RF.push(t,"43e55vhlpVBIK1AmfSLnl63","GlobalEnum");var n,i,a=__extends;Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalEnum=o.LevelPrefab=void 0;var r,s=e("CommonEnum");(r=n=o.LevelPrefab||(o.LevelPrefab={})).goldIcon="GoldIcon",r.player="Player",r.car1="Car1",r.standRole="StandRole",r.walkRole="WalkRole",r.toiletDoor="ToiletDoor",r.shi="Shi",r.shiParticle="ShiParticle",function(e){e[e.getGoldWin=0]="getGoldWin",e[e.getGoldLose=1]="getGoldLose",e[e.getGold=2]="getGold",e[e.trySkin=3]="trySkin",e[e.fuHuo=4]="fuHuo",e[e.tryJianShen=5]="tryJianShen",e[e.ciTie=6]="ciTie",e[e.huDun=7]="huDun",e[e.baoZou=8]="baoZou"}(i||(i={}));var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.LevelPrefab=n,t.VideoName=i,t}(s.CommonEnum);o.GlobalEnum=c,cc._RF.pop()},{CommonEnum:"CommonEnum"}],GlobalPool:[function(e,t,o){"use strict";cc._RF.push(t,"5f939+9RjRFWoED7WN3EE8K","GlobalPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("AutoPool"),i=function(){function e(){}return e.createPool=function(e,t,o){this.allPools.hasOwnProperty(e)||(this.allPools[e]=new n.AutoNodePool(t,o))},e.get=function(e,t){return this.allPools[e]?this.allPools[e].get(t):(console.warn("\u672a\u521b\u5efa\u5bf9\u5e94\u540d\u79f0\u7684\u5bf9\u8c61\u6c60\uff0c\u83b7\u53d6\u5b9e\u4f8b\u5931\u8d25\uff1a",e),null)},e.put=function(e,t){if(t||(t=e.name),!this.allPools[t]){console.warn("\u672a\u521b\u5efa\u5bf9\u5e94\u540d\u79f0\u7684\u5bf9\u8c61\u6c60\uff0c\u5c06\u9500\u6bc1\u8282\u70b9\uff1a",t);var o=e.getComponent(t);return o&&o.unuse&&o.unuse(),void e.destroy()}this.allPools[t].put(e)},e.putAllChildren=function(e){for(var t=e.childrenCount-1;t>=0;--t){var o=e.children[t];this.put(o)}},e.destroyAllChildren=function(e){for(var t=e.childrenCount-1;t>=0;--t)e.children[t].destroy()},e.clear=function(e){if(e)this.allPools.hasOwnProperty(e)&&(this.allPools[e].clear(),delete this.allPools[e]);else{for(var t in this.allPools)this.allPools[t].clear();this.allPools={}}},e.getSize=function(e){return this.allPools[e]?this.allPools[e].count:0},e.preCreate=function(e,t){this.allPools[e]?this.allPools[e].preCreate(t):console.warn("\u4e0d\u5b58\u5728\u5bf9\u5e94\u540d\u79f0\u7684\u5bf9\u8c61\u6c60\uff0c\u65e0\u6cd5\u9884\u5148\u521b\u5efa\u5b9e\u4f8b\uff1a",e)},e.allPools={},e}();o.default=i,cc._RF.pop()},{AutoPool:"AutoPool"}],HomeTujian:[function(e,t,o){"use strict";cc._RF.push(t,"d2af0/AXORNdLFcy3hs65wD","HomeTujian");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=a(e("yyComponent")),c=e("gameMode_Json"),l=e("OverallSystem"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.pageNode=null,t.tutjiannumber=40,t.pageNumber=6,t}return n(t,e),t.prototype.start=function(){this.initScr()},t.prototype.initScr=function(){for(var e=this,t=l.sers().userSrv.getFeibiaoData().level,o=Math.ceil(this.tutjiannumber/this.pageNumber),n=1;n<o;n++){var i=cc.instantiate(this.pageNode);this.node.getComponent(cc.PageView).addPage(i),i.parent=this.content}this.scheduleOnce(function(){});var a=t,s=function(o){if(o<u.tutjiannumber)r.default.loadBundleRes("home","tujian/"+(o+1),function(n){if(e&&e.node){var i=Math.floor(o/e.pageNumber),r=e.content.children[i].children[o%e.pageNumber];if(r.active=!0,r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),t<o+2||0==t)r.getChildByName("icon").color=new cc.Color(68,68,68,255),r.getChildByName("weijiesuo").active=!0,r.getChildByName("icon").active=!1,a-1==o||0==t&&0==o?(r.getChildByName("weijiesuo").children[0].active=!0,r.on(cc.Node.EventType.TOUCH_START,function(){l.mgrs().soundMgr.playBtnSound(),l.mgrs().gameMgr.enterMode(c.GAME_MODE.Feibiao,!0)},e)):r.getChildByName("weijiesuo").children[1].active=!0;else{var s=5*Math.random()+2,u=5*Math.random()+2;e.huangdong(r,!0,u,s)}}});else{var n=Math.floor(o/u.pageNumber),i=u.content.children[n].children[o%u.pageNumber];i.active=!0,i.getChildByName("weijiesuo").active=!0,i.getChildByName("icon").active=!1,i.getChildByName("weijiesuo").children[2].active=!0}},u=this;for(n=0;n<=this.tutjiannumber;n++)s(n)},t.prototype.huangdong=function(e,t,o,n){var i=this;void 0===t&&(t=!0),void 0===o&&(o=5),e&&e.parent&&(o=t?Math.abs(o):-Math.abs(o),cc.tween(e).to(n,{angle:o}).call(function(){i.huangdong(e,!t,o,n)}).start())},i([p(cc.Node)],t.prototype,"content",void 0),i([p(cc.Node)],t.prototype,"pageNode",void 0),i([d],t)}(s.default);o.default=h,cc._RF.pop()},{Loader:"Loader",OverallSystem:"OverallSystem",gameMode_Json:"gameMode_Json",yyComponent:"yyComponent"}],IClassNamespace:[function(e,t,o){"use strict";cc._RF.push(t,"15fcbkgYcRM8YBu+bqecD7n","IClassNamespace");var n,i=__extends,a=__importStar,r=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var s=a(e("OverallSystem")),c=r(e("TimePlugIn"));(function(e){var t=function(){function e(){}return e.prototype._Initialize=function(){console.log("---------",this._className,"------\u521b\u5efa\u5b8c\u6bd5")},e.prototype.clear=function(){console.log("---------",this._className,"------\u6e05\u9664\u5b8c\u6bd5")},e}(),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enableTouchEventKey="ipha-touch-item-enable-event-key",t.disableTouchEventKey="ipha-touch-item-disable-event-key",t}return i(t,e),t}(cc.Component);e.ItemTouch=o;var n=function(e){function t(t,o){var n=e.call(this)||this;return n._className="Ipha_ClickCnt",n.delay=5,n.maxCount=5,n.date=0,n.count=0,t&&(n.maxCount=t),n.maxCount=n.maxCount<0?1:n.maxCount,o&&(n.delay=o),n.delay=n.delay<0?0:n.delay,n._Initialize(),n}return i(t,e),t.prototype.add=function(){var e=Date.now();return e-this.date>1e3*this.delay&&(this.count=0),this.count++,this.date=e,this.count>=this.maxCount&&(this.count=0,!0)},t.prototype.clear=function(){this.count=0,this.date=0},t}(t);e.ClickCnt=n;var a=function(e){function t(t){var o=e.call(this)||this;o._className="UnlockForTime",o._localStorageKey="",o._value="",o._localStorageKey=t,c.default().getNowTime();var n=s.default.Servers.localStorageSrv.get(o._localStorageKey);return o._value=null==n||""==n?"":JSON.parse(n),o._Initialize(),o}return i(t,e),t.prototype.unlock=function(){var e=c.default().getNowTime();this._value=e.year+"-"+e.month+"-"+e.date,s.default.Servers.localStorageSrv.set(this._localStorageKey,JSON.stringify(this._value))},t.prototype.isUnlock=function(){var e=c.default().getNowTime();return this._value==e.year+"-"+e.month+"-"+e.date},t}(t);e.UnlockForDay=a;var r=function(e){function t(t){var o=e.call(this)||this;o._className="UnlockForever",o._localStorageKey="",o._value=0,o._localStorageKey=t;var n=s.default.Servers.localStorageSrv.get(o._localStorageKey);return o._value=null==n||""==n?0:JSON.parse(n),o._Initialize(),o}return i(t,e),t.prototype.unlock=function(){this._value=1,s.default.Servers.localStorageSrv.set(this._localStorageKey,JSON.stringify(this._value))},t.prototype.isUnlock=function(){return 1==this._value},t}(t);e.UnlockForever=r;var l=function(e){function t(t){var o=e.call(this)||this;return o._className="ArrayBoostBase",o._value=[],t&&(o._className=t),o._Initialize(),o}return i(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.randomSort=function(){this._value.sort(function(){return Math.random()-.5})},t.prototype.initFill=function(e,t){this._value=new Array(e).fill(t)},t.prototype.clear=function(){this._value=[]},t.prototype.spilice=function(e){var t=this._value.findIndex(e);return-1!=t?(this._value.splice(t,1),!0):(console.error(this._className+"\u4e2d\u672a\u627e\u5230\u9700\u8981\u5220\u9664\u7684\u5143\u7d20"),!1)},t}(t);e.ArrayBoostBase=l;var u=function(e){function t(t,o,n){var i=e.call(this)||this;return i._className="\u4e8c\u7ef4\u6570\u7ec4\u589e\u5f3a\u57fa\u7840",i._value=[],i._size={height:0,width:0},i._count=0,i._className=n||i._className,i._size.height=t,i._size.width=o,i._Init(t,o),i._Initialize(),i}return i(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),t.prototype._Init=function(e,t){for(var o=0;o<e;o++){this._value[o]=[];for(var n=0;n<t;n++)this._value[o][n]=null}this._count=e*t},Object.defineProperty(t.prototype,"data",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t){e&&(this._size.height=e),t&&(this._size.width=t),this._value=[],this._Init(this._size.height,this._size.width)},t.prototype.forEachAll=function(e){var t=this;this._value.forEach(function(o,n){o.forEach(function(i,a){e(i,a,t._value[n],o,n,t._value)})})},t}(t);e.TwoDimensionalArrayBoostBase=u;var d=function(e){function t(t,o){var n=e.call(this)||this;return n._className="NodePoolBoostBase",n._nodePool=null,n._prefab=null,n._nodePool=new cc.NodePool(o),n._prefab=t,n._Initialize(),n}return i(t,e),t.prototype.getPool=function(){return this._nodePool},t.prototype.get=function(){if(this._nodePool.size()>0)return this._nodePool.get();for(var e=0;e<5;e++)this._nodePool.put(cc.instantiate(this._prefab));return this._nodePool.get()},t.prototype.put=function(e){this._nodePool.put(e)},t.prototype.clear=function(){this._nodePool.clear()},t.prototype.size=function(){return this._nodePool.size()},t}(t);e.NodePoolBoostBase=d;var p=function(e){function t(t){var o=e.call(this)||this;return o._className="NodeDelegateBase",o._node=null,t&&(o._node=t),o._Initialize(),o}return i(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e},enumerable:!1,configurable:!0}),t.prototype.remove=function(){this._node.destroy(),this._node=null},t.prototype.getHave=function(){return this._node&&this._node.isValid},t}(t);e.NodeDelegateBase=p;var h=function(e){function t(t,o,n,i,a){void 0===o&&(o=0);var r=e.call(this)||this;return r._className="\u7f13\u5b58\u6570\u5b57\u7c7b",r._numberLocalStorageKey="",r._initNumber=0,r._value=0,r._min=NaN,r._max=NaN,r._numberLocalStorageKey=t,r._initNumber=o,n&&(r._className=n),i&&(r._min=i),a&&(r._max=a),r._Initialize(),r}return i(t,e),t.prototype._Initialize=function(){var t=s.sers().localStorageSrv.get(this._numberLocalStorageKey);null!=t&&""!=t?this._value=JSON.parse(t):this.set(this._initNumber),e.prototype._Initialize.call(this)},t.prototype.set=function(e){this._value=e,isNaN(this._min)||(this._value=this._value<this._min?this._min:this._value),isNaN(this._max)||(this._value=this._value>this._max?this._max:this._value),s.sers().localStorageSrv.set(this._numberLocalStorageKey,JSON.stringify(this._value))},t.prototype.get=function(){return this._value},t.prototype.add=function(e){void 0===e&&(e=1),this.set(this._value+e)},t}(t);e.LocalStorageNumber=h,e.PhysicsColliderCallBack=function(){},e.ColliderCallBack=function(){}})(n||(n={})),o.default=n,cc._RF.pop()},{OverallSystem:"OverallSystem",TimePlugIn:"TimePlugIn"}],IConsleNamespace:[function(e,t,o){"use strict";var n,i;function a(e,t){var o=[],n=0;o[n]=[];for(var i=0,a=t;i<a.length;i++){var r=a[i];"string"==typeof r?o[n].length>0?o[n][0]=o[n][0]+r:o[n][0]="%c"+r:(o[n].length>0&&(o[n][1]=e,o[++n]=[]),o[n].push(r),o[++n]=[])}"string"==typeof o[n][0]&&(o[n][1]=e);for(var s=0;s<o.length;s++){var c=o[s];console.log.apply(console,c)}}cc._RF.push(t,"36bf04ETjlBCo32PEs8pzmh","IConsleNamespace"),Object.defineProperty(o,"__esModule",{value:!0}),(i=n||(n={})).log_yellow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #ffa631",e)},i.log_yellow_bg_orange=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #FAFC7C; background-color: #F76C24; padding: 2px 5px",e)},i.log_red=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #f47983",e)},i.log_red_bg_yellow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #EB2424; background-color: #FFD356; padding: 2px 5px",e)},i.log_blue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #065279",e)},i.log_blue_bg_zangQing=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #70f3ff; background-color: #2e4e7e; padding: 2px 5px",e)},i.log_green=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #21a675",e)},i.log_green_bg_yingBai=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #16a951; background-color: #e3f9fd; padding: 2px 5px",e)},i.log_purple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #cca4e3",e)},i.log_purple_bg_yellow=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a("color: #DD91F2; background-color: #FCF4C1; padding: 2px 5px",e)},o.default=n,cc._RF.pop()},{}],IFunctionNamespace:[function(e,t,o){"use strict";var n,i;cc._RF.push(t,"231e0Erm+xLMb+MJmQg4+gP","IFunctionNamespace"),Object.defineProperty(o,"__esModule",{value:!0}),(i=n||(n={})).changeParentPosConstant=function(e,t){var o=e.convertToWorldSpaceAR(cc.v2(0,0)),n=t.convertToNodeSpaceAR(o);e.setParent(t),e.setPosition(n)},i.saveForBrowser=function(e,t){if(void 0===t&&(t="NewJson"),cc.sys.isBrowser){var o=new Blob([e],{type:"application/json"}),n=document.createElement("a");n.download=t,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(o):(n.href=window.URL.createObjectURL(o),n.style.display="none",document.body.appendChild(n)),n.click(),n.remove()}},i.sizeAreaFuzzyEquals=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var n=t[0].height*t[0].width,i=t[1].height*t[1].width;return Math.min(n,i)/Math.max(n,i)>=e/100},i.isDeepObjectEqual=function e(t,o){if(t===o)return!0;if("function"==typeof t&&"function"==typeof o)return t.toString()===o.toString();if(t instanceof Date&&o instanceof Date)return t.getTime()===o.getTime();if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(o)||"object"!=typeof t)return!1;var n=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(o);return n.length===i.length&&n.every(function(n){return e(t[n],o[n])})},i.numberInTheArea=function(e,t,o){return e>=t&&e<=o},i.angleToRadian=function(e){return e*(Math.PI/180)},i.radianToAngle=function(e){return e*(180/Math.PI)},i.anglePlusOrMinus=function(e){var t=i.angleTo360(e);return t>180&&(t-=360),t},i.angleTo360=function(e){var t=e%360;return t<0&&(t+=360),t},i.otherToSelfRelativeVelocity=function(e,t,o){var n=e.getWorldManifold(),i=new cc.Vec2;t.body.getLinearVelocityFromWorldPoint(n.points[0],i);var a=new cc.Vec2;return o.body.getLinearVelocityFromWorldPoint(n.points[0],a),a.sub(i)},i.NodeInScreen=function(e,t){var o=e.node.convertToWorldSpaceAR(cc.v2()),n=cc.rect(o.x,o.y,cc.winSize.width/e.zoomRatio,cc.winSize.height/e.zoomRatio),i=t.convertToWorldSpaceAR(cc.v2()),a=cc.rect(i.x,i.y,t.width*t.scaleX,t.height*t.scaleY);return a.x<=n.x+(n.width+a.width)/2&&a.x>=n.x-(n.width+a.width)/2&&a.y<=n.y+(n.height+a.height)/2&&a.y>=n.y-(n.height+a.height)/2},o.default=n,cc._RF.pop()},{}],IPoolObject:[function(e,t,o){"use strict";cc._RF.push(t,"d975dn4wfpN6aWChboKxixd","IPoolObject"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],Ipha_AniTool:[function(e,t,o){"use strict";cc._RF.push(t,"41a75+Op+FEOpqoEv2T7zi4","Ipha_AniTool"),Object.defineProperty(o,"__esModule",{value:!0}),o.AniTool=void 0;var n=function(){function e(){}return e.prototype.showBtnUpAni=function(e,t,o){return void 0===o&&(o="cubicIn"),new Promise(function(n){e.removeComponent(cc.Widget),e.y=-(.5*cc.winSize.height+.5*e.height+30);var i=e.getPosition();e.active=!0;var a=e.getComponent(cc.Button);a&&(a.interactable=!1),cc.tween(e).to(.5,{y:t},{easing:o}).call(function(){a&&(a.interactable=!0),n(i)}).start()})},e.prototype.hideBtnDownAni=function(e,t){return void 0===t&&(t="cubicOut"),new Promise(function(o){var n=e.getComponent(cc.Button),i=e.getPosition();n&&(n.interactable=!1),cc.tween(e).to(.5,{y:-(.5*cc.winSize.height+.5*e.height+30)},{easing:t}).call(function(){n&&(n.interactable=!0),e.active=!1,o(i)}).start()})},e.prototype.showBtnBubbleAni=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=!1),void 0===n&&(n=0),new Promise(function(i){e.scale=0,e.active=!0;var a=e.getComponent(cc.Button);a&&(a.interactable=!1),cc.tween(e).delay(n).to(t,{scale:1},{easing:"backOut"}).call(function(){a&&(a.interactable=!o),i()}).start()})},e.prototype.hideBtnBubbleAni=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=!1),void 0===n&&(n=0),new Promise(function(i){var a=e.getComponent(cc.Button);a&&(a.interactable=!1),cc.tween(e).delay(n).to(t,{scale:0},{easing:"backIn"}).call(function(){e.active=o,i()}).start()})},e.prototype.btnsShowBubbleAni=function(e,t,o){return void 0===t&&(t=.5),void 0===o&&(o=!1),new Promise(function(n){e.active=!0,e.children.forEach(function(i,a){i.scale=0,i.active=!0;var r=i.getComponent(cc.Button);r&&(r.interactable=!1),cc.tween(i).delay(.3*a).to(t,{scale:1},{easing:"backOut"}).call(function(){r&&(r.interactable=!o),a==e.childrenCount-1&&n()}).start()})})},e.prototype.btnsHideBubbleAni=function(e,t,o){return void 0===t&&(t=.5),void 0===o&&(o=!1),new Promise(function(n){e.children.forEach(function(i,a){var r=i.getComponent(cc.Button);r&&(r.interactable=!1),cc.tween(i).delay(.3*a).to(t,{scale:0},{easing:"backIn"}).call(function(){i.active=o,a==e.childrenCount-1&&(e.active=o,n())}).start()})})},e.prototype.btnHorizontalComeIn=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){e.active=!0;var a=e.getComponent(cc.Button);a&&(a.interactable=!1);var r=e.getPosition();e.x=(cc.winSize.width+e.width)*o,cc.tween(e).to(t,{x:r.x},{easing:cc.easing.backOut}).call(function(){a&&(a.interactable=!n),i()}).start()})},e.prototype.btnHorizontalGetOut=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){var a=e.getComponent(cc.Button);a&&(a.interactable=!1),cc.tween(e).to(t,{x:(cc.winSize.width+e.width)*o},{easing:cc.easing.backIn}).call(function(){e.active=n,i()}).start()})},e.prototype.btnsHorizontalComeIn=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){e.active=!0;var a=e.getComponent(cc.Layout);a&&(a.enabled=!1),e.children.forEach(function(r,s){var c=r.getComponent(cc.Button);c&&(c.interactable=!1),r.active=!0;var l=r.getPosition();r.x=(cc.winSize.width+r.width)*o,cc.tween(r).delay(.2*s).to(t,{x:l.x},{easing:cc.easing.backOut}).call(function(){c&&(c.interactable=!n),s==e.childrenCount-1&&(a&&(a.enabled=!0),i())}).start()})})},e.prototype.btnsHorizontalGetOut=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){var a=e.getComponent(cc.Layout);a&&(a.enabled=!1),e.children.forEach(function(r,s){var c=r.getComponent(cc.Button);c&&(c.interactable=!1),cc.tween(r).delay(.2*s).to(t,{x:(cc.winSize.width+r.width)*o},{easing:cc.easing.backIn}).call(function(){s==e.childrenCount-1&&(e.active=n,a&&(a.enabled=!0),i())}).start()})})},e.prototype.btnsVerticalComeIn=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){e.active=!0;var a=e.getComponent(cc.Layout);a&&(a.enabled=!1),e.children.forEach(function(r,s){var c=r.getComponent(cc.Button);c&&(c.interactable=!1);var l=r.getPosition();r.y=(cc.winSize.height+r.height)*o,cc.tween(r).delay(.2*s).to(t,{y:l.y},{easing:cc.easing.backOut}).call(function(){c&&(c.interactable=!n),s==e.childrenCount-1&&(a&&(a.enabled=!0),i())}).start()})})},e.prototype.btnsVerticalGetOut=function(e,t,o,n){return void 0===t&&(t=.5),void 0===o&&(o=-1),void 0===n&&(n=!1),new Promise(function(i){var a=e.getComponent(cc.Layout);a&&(a.enabled=!1),e.children.forEach(function(r,s){var c=r.getComponent(cc.Button);c&&(c.interactable=!1),cc.tween(r).delay(.2*s).to(t,{y:(cc.winSize.height+r.height)*o},{easing:cc.easing.backIn}).call(function(){s==e.childrenCount-1&&(e.active=n,a&&(a.enabled=!0),i())}).start()})})},e.prototype.allAroundWaggle=function(e,t,o){return void 0===t&&(t=.05),void 0===o&&(o=20),new Promise(function(n){cc.tween(e).sequence(cc.tween(e).to(t,{y:e.y+o}).to(t,{x:e.x+o,y:e.y-o}).to(t,{x:e.x-o,y:e.y-o}).to(t,{x:e.x-o,y:e.y+o}),cc.tween(e).to(t,{y:e.y+o,x:e.x+o}).to(t,{x:e.x+o,y:e.y-o}).to(t,{x:e.x-o,y:e.y-o}).to(t,{x:e.x-o,y:e.y+o}),cc.tween(e).to(t,{y:e.y+o,x:e.x+o}).to(t,{x:e.x+o,y:e.y-o}).to(t,{x:e.x-o,y:e.y-o}).to(t,{x:e.x-o,y:e.y+o}),cc.tween(e).to(t,{y:e.y+o,x:e.x+o}).to(t,{y:e.y-o})).call(function(){n()}).start()})},e.prototype.showHideDialogAnimation=function(e,t){return new Promise(function(o,n){e&&e.isValid?t?(e.scale=0,cc.tween(e).parallel(cc.tween(e).to(.26,{scale:1}),cc.tween(e).by(.117,{y:250},{easing:"cubicOut"}).by(.26*.55,{y:-250},{easing:"cubicIn"})).call(function(){o(null)}).start()):cc.tween(e).parallel(cc.tween(e).to(.26,{scale:0}),cc.tween(e).by(.26*.55,{y:250},{easing:"cubicOut"}).by(.117,{y:-250},{easing:"cubicIn"})).call(function(){o(null)}).start():n()})},e}();o.AniTool=n,cc._RF.pop()},{}],Ipha_AutoSize:[function(e,t,o){"use strict";cc._RF.push(t,"468e7hy+UNHk6VoPTIhjex/","Ipha_AutoSize");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Ipha_tool")),s=a(e("Ipha_ComponentBasic")),c=cc._decorator,l=c.ccclass,u=c.property,d=c.menu,p=c.executeInEditMode,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comName="\u81ea\u52a8\u4f7f\u5927\u5c0f\u5305\u542b\u6240\u6709\u5b50\u8282\u70b9,\u8be5\u7ec4\u4ef6\u4f1a\u6539\u53d8\u951a\u70b9",t.leftOffset=0,t.rightOffset=0,t.topOffset=0,t.bottomOffset=0,t._isAutoSize=!0,t}return n(t,e),Object.defineProperty(t.prototype,"isAutoSize",{get:function(){return this._isAutoSize},set:function(e){this._isAutoSize=e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this._isAutoSize&&this.autoSize()},t.prototype.autoSize=function(){var e=this;if(this.node.childrenCount>0){var t=[],o=[],n=[],i=[];this.node.children.forEach(function(a){e.childrenRead(a,t,o,n,i)}),this.node.width=Math.round(100*(Math.max.apply(Math,o)-Math.min.apply(Math,t)))/100+this.leftOffset+this.rightOffset,this.node.height=Math.round(100*(Math.max.apply(Math,n)-Math.min.apply(Math,i)))/100+this.topOffset+this.bottomOffset;var a=r.default.pos.getNodeWordPos(this.node);this.node.anchorX=(a.x-Math.min.apply(Math,t)+this.leftOffset)/this.node.width,this.node.anchorY=(a.y-Math.min.apply(Math,i)+this.bottomOffset)/this.node.height}},t.prototype.childrenRead=function(e,t,o,n,i){var a=this;if(e.active&&e&&e.isValid){var s=r.default.pos.getNodeWordPos(e);t.push(s.x-e.width*e.scaleX*e.anchorX),o.push(s.x+e.width*e.scaleX*(1-e.anchorX)),n.push(s.y+e.height*e.scaleY*(1-e.anchorY)),i.push(s.y-e.height*e.scaleY*e.anchorY),e.childrenCount>0&&e.children.forEach(function(e){a.childrenRead(e,t,o,n,i)})}},t.prototype.update=function(){this._isAutoSize&&this.autoSize()},i([u({displayName:"\u5de6\u504f\u5dee"})],t.prototype,"leftOffset",void 0),i([u({displayName:"\u53f3\u504f\u5dee"})],t.prototype,"rightOffset",void 0),i([u({displayName:"\u4e0a\u504f\u5dee"})],t.prototype,"topOffset",void 0),i([u({displayName:"\u4e0b\u504f\u5dee"})],t.prototype,"bottomOffset",void 0),i([l,p,d("ipha\u7ec4\u4ef6/\u81ea\u52a8\u5927\u5c0f")],t)}(s.default);o.default=h,cc._RF.pop()},{Ipha_ComponentBasic:"Ipha_ComponentBasic",Ipha_tool:"Ipha_tool"}],Ipha_ComponentBasic:[function(e,t,o){"use strict";cc._RF.push(t,"9872fvDBidGe4rbFj1xWxyA","Ipha_ComponentBasic");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comName="ipha\u81ea\u5b9a\u4e49\u7ec4\u4ef6",t}return n(t,e),i([s({readonly:!0,displayName:"\u7ec4\u4ef6\u4ecb\u7ecd"})],t.prototype,"comName",void 0),i([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Ipha_Correlation:[function(e,t,o){"use strict";cc._RF.push(t,"06e58S2OH1FD4z61LYvJNcr","Ipha_Correlation");var n,i,a=__extends,r=__decorate,s=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var c,l=s(e("Ipha_tool")),u=s(e("Ipha_ComponentBasic")),d=cc._decorator,p=d.ccclass,h=d.property,f=d.menu,g=d.executeInEditMode;(c=n||(n={}))[c.left=0]="left",c[c.right=1]="right",c[c.top=2]="top",c[c.bottom=3]="bottom",c[c.horizontalCenter=4]="horizontalCenter",c[c.verticalCenter=5]="verticalCenter",function(e){e[e.none=0]="none",e[e.alignment=1]="alignment",e[e.distance=2]="distance"}(i||(i={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comName="\u8282\u70b9\u5173\u8054\u5bf9\u9f50\u7ec4\u4ef6",t.ndTarget=null,t.type=i.none,t.left=!1,t.leftOffset=0,t.right=!1,t.rightOffset=0,t.top=!1,t.topOffset=0,t.bottom=!1,t.bottomOffset=0,t.horizontalCenter=!1,t.horizontalCenterOffset=0,t.verticalCenter=!1,t.verticalCenterOffset=0,t.leftD=!1,t.leftDOffset=0,t.rightD=!1,t.rightDOffset=0,t.topD=!1,t.topDOffset=0,t.bottomD=!1,t.bottomDOffset=0,t._isRun=!0,t._isAlignment=!0,t._isDistance=!0,t}return a(t,e),Object.defineProperty(t.prototype,"isRun",{get:function(){return this._isRun},set:function(e){this._isRun=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAlignment",{get:function(){return this._isAlignment},set:function(e){this._isAlignment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDistance",{get:function(){return this._isDistance},set:function(e){this._isDistance=e},enumerable:!1,configurable:!0}),t.prototype.setTarget=function(e){this.ndTarget=e},t.prototype.onLoad=function(){var e;null==this.ndTarget&&(this.ndTarget=null===(e=this.node)||void 0===e?void 0:e.parent)},t.prototype.start=function(){this._isRun&&this.ndTarget&&(this.ndTarget.activeInHierarchy?(this.alignment(),this.distance()):this.node.setPosition(cc.v2(0,0)))},t.prototype.alignment=function(){if(this.type==i.alignment&&this._isAlignment){var e=l.default.pos.rootPosToTargetNodeSpace(this.ndTarget,this.node.parent);if(this.left&&this.right){var t=e.x-this.ndTarget.width*this.ndTarget.scaleX*this.ndTarget.anchorX+this.leftOffset,o=e.x+this.ndTarget.width*this.ndTarget.scaleX*(1-this.ndTarget.anchorX)-this.rightOffset;this.node.width=Math.abs(o-t),this.node.x=t+this.node.width*this.ndTarget.scaleX*this.node.anchorX}else if(this.left)t=e.x-this.ndTarget.width*this.ndTarget.scaleX*this.ndTarget.anchorX,this.node.x=t+this.node.width*this.ndTarget.scaleX*this.node.anchorX+this.leftOffset;else if(this.right)o=e.x+this.ndTarget.width*this.ndTarget.scaleX*(1-this.ndTarget.anchorX),this.node.x=o-this.node.width*this.ndTarget.scaleX*(1-this.node.anchorX)-this.rightOffset;else if(this.verticalCenter){var n=(t=e.x-this.ndTarget.width*this.ndTarget.scaleX*this.ndTarget.anchorX)+this.ndTarget.width*this.ndTarget.scaleX*.5;this.node.x=n-this.node.width*this.ndTarget.scaleX*(.5-this.node.anchorX)+this.verticalCenterOffset}if(this.top&&this.bottom){var a=e.y+this.ndTarget.height*this.ndTarget.scaleY*(1-this.ndTarget.anchorY)-this.topOffset,r=e.y-this.ndTarget.height*this.ndTarget.scaleY*this.ndTarget.anchorY+this.bottomOffset;this.node.height=a-r,this.node.y=r+this.node.height*this.ndTarget.scaleY*this.node.anchorY}else this.top?(a=e.y+this.ndTarget.height*this.ndTarget.scaleY*(1-this.ndTarget.anchorY)-this.topOffset,this.node.y=a-this.node.height*this.ndTarget.scaleY*(1-this.node.anchorY)):this.bottom?(r=e.y-this.ndTarget.height*this.ndTarget.scaleY*this.ndTarget.anchorY+this.bottomOffset,this.node.y=r+this.node.height*this.ndTarget.scaleY*this.node.anchorY):this.horizontalCenter&&(n=(r=e.y-this.ndTarget.height*this.ndTarget.scaleY*this.ndTarget.anchorY)+this.ndTarget.height*this.ndTarget.scaleY*.5,this.node.y=n-this.node.height*this.ndTarget.scaleY*(.5-this.node.anchorY)+this.horizontalCenterOffset)}},t.prototype.distance=function(){if(this.type==i.distance&&this._isDistance){var e=l.default.pos.rootPosToTargetNodeSpace(this.ndTarget,this.node.parent);if(this.leftD){var t=e.x-this.ndTarget.width*this.ndTarget.scaleX*this.ndTarget.anchorX;this.node.x=t-(this.node.width*this.ndTarget.scaleX*(1-this.node.anchorX)+this.leftDOffset)}else if(this.rightD){var o=e.x+this.ndTarget.width*this.ndTarget.scaleX*(1-this.ndTarget.anchorX);this.node.x=o+(this.node.width*this.ndTarget.scaleX*this.node.anchorX+this.rightDOffset)}if(this.topD){var n=e.y+this.ndTarget.height*this.ndTarget.scaleY*(1-this.ndTarget.anchorY);this.node.y=n+(this.node.height*this.ndTarget.scaleY*this.node.anchorY+this.topDOffset)}else if(this.bottomD){var a=e.y-this.ndTarget.height*this.ndTarget.scaleY*this.ndTarget.anchorY;this.node.y=a-(this.node.height*this.ndTarget.scaleY*(1-this.node.anchorY)+this.bottomDOffset)}}},t.prototype._RunTheCorrelation=function(){this.ndTarget&&(this.ndTarget.activeInHierarchy?(this.alignment(),this.distance()):this.node.setPosition(cc.v2(0,0)))},t.prototype.update=function(){this._isRun&&this._RunTheCorrelation()},r([h({type:cc.Node,displayName:"\u76ee\u6807\u8282\u70b9"})],t.prototype,"ndTarget",void 0),r([h({type:cc.Enum(i),displayName:"\u4f7f\u7528\u6a21\u5f0f",tooltip:"\u7a7a\n\u5bf9\u9f50\n\u95f4\u9694"})],t.prototype,"type",void 0),r([h({displayName:"\u5de6\u5bf9\u9f50",visible:function(){return this.type==i.alignment&&!this.verticalCenter}})],t.prototype,"left",void 0),r([h({displayName:"\u5de6\u5bf9\u9f50\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.left}})],t.prototype,"leftOffset",void 0),r([h({displayName:"\u53f3\u5bf9\u9f50",visible:function(){return this.type==i.alignment&&!this.verticalCenter}})],t.prototype,"right",void 0),r([h({displayName:"\u53f3\u5bf9\u9f50\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.right}})],t.prototype,"rightOffset",void 0),r([h({displayName:"\u9876\u5bf9\u9f50",visible:function(){return this.type==i.alignment&&!this.horizontalCenter}})],t.prototype,"top",void 0),r([h({displayName:"\u9876\u5bf9\u9f50\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.top}})],t.prototype,"topOffset",void 0),r([h({displayName:"\u5e95\u5bf9\u9f50",visible:function(){return this.type==i.alignment&&!this.horizontalCenter}})],t.prototype,"bottom",void 0),r([h({displayName:"\u5e95\u5bf9\u9f50\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.bottom}})],t.prototype,"bottomOffset",void 0),r([h({displayName:"\u6c34\u5e73\u5c45\u4e2d",visible:function(){return this.type==i.alignment&&!this.top&&!this.bottom}})],t.prototype,"horizontalCenter",void 0),r([h({displayName:"\u6c34\u5e73\u5c45\u4e2d\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.horizontalCenter}})],t.prototype,"horizontalCenterOffset",void 0),r([h({displayName:"\u7ad6\u76f4\u5c45\u4e2d",visible:function(){return this.type==i.alignment&&!this.left&&!this.right}})],t.prototype,"verticalCenter",void 0),r([h({displayName:"\u7ad6\u76f4\u5c45\u4e2d\u504f\u5dee",visible:function(){return this.type==i.alignment&&this.verticalCenter}})],t.prototype,"verticalCenterOffset",void 0),r([h({displayName:"\u4e8e\u5de6\u95f4\u9694",visible:function(){return this.type==i.distance&&!this.rightD}})],t.prototype,"leftD",void 0),r([h({displayName:"\u4e8e\u5de6\u95f4\u9694\u504f\u5dee",visible:function(){return this.type==i.distance&&this.leftD}})],t.prototype,"leftDOffset",void 0),r([h({displayName:"\u4e8e\u53f3\u95f4\u9694",visible:function(){return this.type==i.distance&&!this.leftD}})],t.prototype,"rightD",void 0),r([h({displayName:"\u4e8e\u53f3\u95f4\u9694\u504f\u5dee",visible:function(){return this.type==i.distance&&this.rightD}})],t.prototype,"rightDOffset",void 0),r([h({displayName:"\u4e8e\u9876\u95f4\u9694",visible:function(){return this.type==i.distance&&!this.bottomD}})],t.prototype,"topD",void 0),r([h({displayName:"\u4e8e\u9876\u95f4\u9694\u504f\u5dee",visible:function(){return this.type==i.distance&&this.topD}})],t.prototype,"topDOffset",void 0),r([h({displayName:"\u4e8e\u5e95\u95f4\u9694",visible:function(){return this.type==i.distance&&!this.topD}})],t.prototype,"bottomD",void 0),r([h({displayName:"\u4e8e\u5e95\u95f4\u9694\u504f\u5dee",visible:function(){return this.type==i.distance&&this.bottomD}})],t.prototype,"bottomDOffset",void 0),r([p,g,f("ipha\u7ec4\u4ef6/\u8282\u70b9\u5173\u8054\u5bf9\u9f50\u7ec4\u4ef6")],t)}(u.default);o.default=v,cc._RF.pop()},{Ipha_ComponentBasic:"Ipha_ComponentBasic",Ipha_tool:"Ipha_tool"}],Ipha_FollowEf:[function(e,t,o){"use strict";cc._RF.push(t,"634b5eo4sNAjIdUlBjYjtXL","Ipha_FollowEf");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_SpeedMax=10,t.m_SpeedMin=5,t.m_RotateDelay=0,t.m_DestroyTargetDis=10,t.speed=5,t.moveAngle=0,t.moveDir=cc.v2(0,1),t.tartget=null,t.rotateSpeed=.005,t.rotateSpeedMin=.01,t.rotateSpeedMax=.2,t.isCanMove=!0,t.isCanRoate=!1,t.isArrive=!1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e.isCanRoate=!0},this.m_RotateDelay)},t.prototype.initData=function(e,t){this.moveAngle=e,this.moveDir=cc.v2(Math.cos(e),Math.sin(e)),this.speed=this.m_SpeedMin,this.rotateSpeed=this.rotateSpeedMin,this.tartget=t},t.prototype.followMove=function(e){if(null!=this.tartget&&!this.isArrive&&this.isCanMove){if(this.isCanRoate){var t=this._getTargetDirVec();this.moveDir.x=cc.misc.lerp(this.moveDir.x,t.x,this.rotateSpeed),this.moveDir.y=cc.misc.lerp(this.moveDir.y,t.y,this.rotateSpeed),this.rotateSpeed=cc.misc.lerp(this.rotateSpeed,this.rotateSpeedMax,.05)}this.speed=cc.misc.lerp(this.speed,this.m_SpeedMax,.01),this.node.x+=60*e*this.speed*this.moveDir.x,this.node.y+=60*e*this.speed*this.moveDir.y,this._getTargetPos().sub(this.node.getPosition()).len()<this.m_DestroyTargetDis&&(this.isCanMove=!1,this.isArrive=!0,this.destroyFollow())}},t.prototype._getTargetDirVec=function(){var e=this._getTargetPos();return cc.v2(e.x-this.node.x,e.y-this.node.y).normalize()},t.prototype._getTargetPos=function(){var e=this._getTargetWPos();return this.node.parent.convertToNodeSpaceAR(e)},t.prototype._getTargetWPos=function(){return this.tartget.convertToWorldSpaceAR(cc.v2(0,0))},t.prototype.destroyFollow=function(){var e=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{opacity:0}).call(function(){e.node.destroy()}).start()},t.prototype.update=function(e){this.followMove(e)},t.prototype.lateUpdate=function(){},i([s({displayName:"\u6700\u5927\u901f\u5ea6"})],t.prototype,"m_SpeedMax",void 0),i([s({displayName:"\u6700\u5c0f\u901f\u5ea6"})],t.prototype,"m_SpeedMin",void 0),i([s({displayName:"\u8f6c\u5411\u5ef6\u8fdf\u65f6\u95f4"})],t.prototype,"m_RotateDelay",void 0),i([s({displayName:"\u9500\u6bc1\u8ddd\u79bb"})],t.prototype,"m_DestroyTargetDis",void 0),i([r,c("ipha\u7ec4\u4ef6/\u8ddf\u8e2a\u7ec4\u4ef6")],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Ipha_NumberLabel:[function(e,t,o){"use strict";cc._RF.push(t,"3641aYV3vVIZ7xSjRtB7vn3","Ipha_NumberLabel");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("OverallSystem")),s=a(e("Ipha_ComponentBasic")),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comName="\u6570\u5b57\u663e\u793a\u6587\u672c\u589e\u52a0\u4e0e\u51cf\u5c11",t.lbNumber=null,t.unitTime=1,t.unitNumber=1,t.str="",t.eventKey="",t.addedNumber=0,t.timer=0,t.showNumber=0,t}return n(t,e),t.prototype.onLoad=function(){r.default.Canvas().on(this.eventKey,this._event,this)},t.prototype._event=function(e){this.addedNumber=e-this.showNumber,null!=this.str&&""!=this.str?this.lbNumber.string=this.str+":"+e.toFixed(0):this.lbNumber.string=e.toFixed(0)},t.prototype.start=function(){},t.prototype.update=function(){this.addedNumber},i([u({type:cc.Label,displayName:"\u6587\u672c"})],t.prototype,"lbNumber",void 0),i([u({displayName:"\u53d8\u52a8\u5355\u4f4d\u65f6\u95f4"})],t.prototype,"unitTime",void 0),i([u({displayName:"\u53d8\u52a8\u5355\u4f4d\u6570\u91cf"})],t.prototype,"unitNumber",void 0),i([u({displayName:"\u6587\u672c\u524d\u7f00"})],t.prototype,"str",void 0),i([u({displayName:"\u63a5\u6536\u4e8b\u4ef6key"})],t.prototype,"eventKey",void 0),i([l],t)}(s.default);o.default=d,cc._RF.pop()},{Ipha_ComponentBasic:"Ipha_ComponentBasic",OverallSystem:"OverallSystem"}],Ipha_PageViewBoost:[function(e,t,o){"use strict";cc._RF.push(t,"65f61V/aRFMi47v999/l6m/","Ipha_PageViewBoost");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.requireComponent,c=a.menu,l=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageTipLable=null,t.pageView=null,t.nowPageIndex=null,t}return n(t,e),t.prototype.start=function(){this.updatePageTipLable(),this.updatePageScale()},t.prototype.addPgae=function(e){this.pageView.addPage(e)},t.prototype.updatePageTipLable=function(e){this.pageTipLable&&(this.pageTipLable.string=e&&"number"==typeof e?e+" / "+this.pageView.getPages().length:this.pageView.getCurrentPageIndex()+1+" / "+this.pageView.getPages().length)},t.prototype.updatePageScale=function(){},t.prototype.OnBtnPageToRight=function(){this.pageView.getCurrentPageIndex()!=this.pageView.getPages().length-1&&this.pageView.scrollToPage(this.pageView.getCurrentPageIndex()+1,.3)},t.prototype.OnBtnPageToLeft=function(){0!=this.pageView.getCurrentPageIndex()&&this.pageView.scrollToPage(this.pageView.getCurrentPageIndex()-1,.3)},t.prototype.update=function(){(this.pageView.isScrolling()||this.pageView.isAutoScrolling())&&this.updatePageScale(),this.updatePageTipLable()},t.prototype.onDestroy=function(){},i([l({type:cc.Label,displayName:"\u9875\u9762\u6587\u5b57\u63d0\u793a"})],t.prototype,"pageTipLable",void 0),i([l({type:cc.PageView,displayName:"\u9875\u9762\u89c6\u56fe \u7ec4\u4ef6"})],t.prototype,"pageView",void 0),i([r,c("ipha\u7ec4\u4ef6/pageView\u589e\u5f3a"),s(cc.PageView)],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Ipha_PosTool:[function(e,t,o){"use strict";cc._RF.push(t,"ffc77YBLYBIZb7oxQwHWyg9","Ipha_PosTool");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.PosTool=void 0;var i=n(e("OverallSystem")),a=function(){function e(){}return e.prototype.rootPosToTargetNodeSpace=function(e,t){var o=e.convertToWorldSpaceAR(cc.v2(0,0));return t.convertToNodeSpaceAR(o)},e.prototype.distancesBetweenTwoPostion=function(e,t){return e.sub(t).mag()},e.prototype.screenScope=function(e){var t=e.node.convertToWorldSpaceAR(cc.v2(0,0)),o=i.default.Canvas().width/e.zoomRatio,n=i.default.Canvas().height/e.zoomRatio;return cc.rect(t.x,t.y,o,n)},e.prototype.inTheScreen=function(e,t){var o=this.screenScope(e);return t.x<=o.x+o.width/2&&t.x>=o.x-o.width/2&&t.y<=o.y+o.height/2&&t.y>=o.y-o.height/2},e.prototype.getNodeWordPos=function(e){return e.convertToWorldSpaceAR(cc.v2(0,0))},e}();o.PosTool=a,cc._RF.pop()},{OverallSystem:"OverallSystem"}],Ipha_Rotation:[function(e,t,o){"use strict";cc._RF.push(t,"f9e55tBROhLO7PEn5ZLVdRM","Ipha_Rotation");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=a.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rotationSpeed=10,t.dir=1,t}return n(t,e),t.prototype.start=function(){cc.tween(this.node).by(.1,{angle:this.rotationSpeed*this.dir}).repeatForever().start()},i([s({displayName:"\u65cb\u8f6c\u901f\u5ea6"})],t.prototype,"rotationSpeed",void 0),i([s({displayName:"\u65cb\u8f6c\u65b9\u5411",tooltip:"1 or -1"})],t.prototype,"dir",void 0),i([r,c("ipha\u7ec4\u4ef6/\u7b80\u5355\u65cb\u8f6c")],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Ipha_SimpleAni_icon:[function(e,t,o){"use strict";var n;cc._RF.push(t,"62cd5x6uRJH3ozMnFvRM4XW","Ipha_SimpleAni_icon");var i,a=__extends,r=__decorate;Object.defineProperty(o,"__esModule",{value:!0}),(i=n||(n={}))[i.NULL=0]="NULL",i[i.SLIGHT_WAGGLE=1]="SLIGHT_WAGGLE",i[i.SCALE=2]="SCALE";var s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aniType=n.NULL,t.isAutoStart=!0,t.isLoop=!0,t.angleValue=5,t.slightWaggleTime=.1,t._scaleDelay=1,t._scaleSpeed=.3,t._xScaleMax=.1,t._xScaleMin=.1,t._yScaleMax=.1,t._yScaleMin=.1,t.repeatCnt=0,t.tag=1001,t}return a(t,e),t.prototype.start=function(){this.isAutoStart&&this.playAni()},t.prototype.playAni=function(){this.aniType!=n.NULL&&this.aniList()[this.aniType]()},t.prototype.aniList=function(){return[null,this.slightWaggle.bind(this),this.scale.bind(this)]},t.prototype.slightWaggle=function(){this.isLoop?cc.tween(this.node).tag(this.tag).sequence(cc.tween().to(this.slightWaggleTime,{angle:this.angleValue}).to(this.slightWaggleTime,{angle:-this.angleValue}),cc.tween().to(this.slightWaggleTime,{angle:this.angleValue}).to(this.slightWaggleTime,{angle:-this.angleValue})).repeatForever().start():(this.repeatCnt=this.repeatCnt?this.repeatCnt:1,cc.tween(this.node).tag(this.tag).sequence(cc.tween().to(this.slightWaggleTime,{angle:this.angleValue}).to(this.slightWaggleTime,{angle:-this.angleValue}),cc.tween().to(this.slightWaggleTime,{angle:this.angleValue}).to(this.slightWaggleTime,{angle:-this.angleValue})).repeat(this.repeatCnt).start())},t.prototype.scale=function(){var e=this.node.scaleX,t=this.node.scaleY;this.isLoop?cc.tween(this.node).sequence(cc.tween().to(this._scaleSpeed,{scaleX:e+this._xScaleMax,scaleY:t+this._yScaleMax}),cc.tween().to(this._scaleSpeed,{scaleX:e-this._xScaleMin,scaleY:t-this._yScaleMin}).delay(this._scaleDelay)).repeatForever().start():cc.tween(this.node).sequence(cc.tween().to(this._scaleSpeed,{scaleX:e+this._xScaleMax,scaleY:t+this._yScaleMax}),cc.tween().to(this._scaleSpeed,{scaleX:e-this._xScaleMin,scaleY:t-this._yScaleMin})).repeat(this.repeatCnt).start()},t.prototype.stopAni=function(){this.node.stopActionByTag(this.tag)},r([l({type:cc.Enum(n),displayName:"\u52a8\u753b\u7c7b\u578b",tooltip:"\u7a7a\n        \u8f7b\u5fae\u5de6\u53f3\u6643\u52a8\n        \u547c\u5438\u7f29\u653e"})],t.prototype,"aniType",void 0),r([l({displayName:"\u81ea\u52a8\u5f00\u59cb"})],t.prototype,"isAutoStart",void 0),r([l({displayName:"\u662f\u5426\u5faa\u73af\u64ad\u653e",visible:function(){return this.aniType==n.SLIGHT_WAGGLE||this.aniType==n.SCALE}})],t.prototype,"isLoop",void 0),r([l({displayName:"\u9707\u52a8\u5e45\u5ea6",visible:function(){return this.aniType==n.SLIGHT_WAGGLE}})],t.prototype,"angleValue",void 0),r([l({displayName:"\u9707\u52a8\u901f\u5ea6",visible:function(){return this.aniType==n.SLIGHT_WAGGLE}})],t.prototype,"slightWaggleTime",void 0),r([l({displayName:"\u547c\u5438\u7f29\u653e \u5ef6\u8fdf",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_scaleDelay",void 0),r([l({displayName:"\u547c\u5438\u7f29\u653e \u901f\u5ea6",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_scaleSpeed",void 0),r([l({displayName:"\u6a2a\u8f74\u7f29\u653eMAX",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_xScaleMax",void 0),r([l({displayName:"\u6a2a\u8f74\u7f29\u653eMIN",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_xScaleMin",void 0),r([l({displayName:"\u7ad6\u8f74\u7f29\u653eMAX",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_yScaleMax",void 0),r([l({displayName:"\u7ad6\u8f74\u7f29\u653eMIN",visible:function(){return this.aniType==n.SCALE}})],t.prototype,"_yScaleMin",void 0),r([l({displayName:"\u5faa\u73af\u6b21\u6570",visible:function(){return!this.isLoop}})],t.prototype,"repeatCnt",void 0),r([c,u("ipha\u7ec4\u4ef6/\u7b80\u5355icon\u52a8\u753b01")],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],Ipha_SwayAni:[function(e,t,o){"use strict";cc._RF.push(t,"49a47xfsbFH/rWdo49+Vk2M","Ipha_SwayAni");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Ipha_ComponentBasic")),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.comName="\u6643\u52a8\u52a8\u753b",t.m_IsScale=!0,t.m_ScaleScope=.1,t.m_ScaleTime=.1,t.m_SwayScope=20,t.m_SwayOnceTime=.05,t.m_SwayCnt=2,t.m_Delay=1,t.m_IsAuto=!0,t.m_IsLoop=!0,t.m_NodeAngle=0,t.m_NodeScale=1,t}return n(t,e),t.prototype.onLoad=function(){this.m_NodeAngle=this.node.angle,this.m_NodeScale=this.node.scale},t.prototype.start=function(){this.m_IsAuto&&this.playAni()},t.prototype.playAni=function(){var e=this.getTweenAni();this.m_IsLoop&&(e=e.repeatForever()),e.start()},t.prototype.stopAni=function(){cc.Tween.stopAllByTarget(this.node),this.node.scale=this.m_NodeScale,this.node.angle=this.m_NodeAngle},t.prototype.getTweenAni=function(){var e=cc.tween(this.node),t=this.node.scale;this.m_IsScale&&(e=e.to(this.m_ScaleTime,{scale:this.m_ScaleScope+t})),e=e.by(this.m_SwayOnceTime,{angle:this.m_SwayScope}).by(this.m_SwayOnceTime,{angle:2*-this.m_SwayScope});for(var o=0;o<this.m_SwayCnt-1;o++)e=e.by(this.m_SwayOnceTime,{angle:2*this.m_SwayScope}).by(this.m_SwayOnceTime,{angle:2*-this.m_SwayScope});return e=e.to(this.m_SwayOnceTime/2,{angle:this.m_NodeAngle}),this.m_IsScale&&(e=e.to(this.m_ScaleTime,{scale:this.m_NodeScale})),e.delay(this.m_Delay).union()},i([l({displayName:"\u4f1a\u7f29\u653e"})],t.prototype,"m_IsScale",void 0),i([l({displayName:"\u7f29\u653e\u5e45\u5ea6",visible:function(){return this.m_IsScale}})],t.prototype,"m_ScaleScope",void 0),i([l({displayName:"\u7f29\u653e\u7528\u65f6",visible:function(){return this.m_IsScale}})],t.prototype,"m_ScaleTime",void 0),i([l({displayName:"\u6643\u52a8\u5e45\u5ea6"})],t.prototype,"m_SwayScope",void 0),i([l({displayName:"\u5355\u6b21\u6643\u52a8\u7528\u65f6"})],t.prototype,"m_SwayOnceTime",void 0),i([l({displayName:"\u6643\u52a8\u6b21\u6570",tooltip:"\u5de6\u53f3\u4e00\u7ec4\u7b97\u4e00\u6b21"})],t.prototype,"m_SwayCnt",void 0),i([l({displayName:"\u52a8\u753b\u91cd\u64ad\u5ef6\u8fdf"})],t.prototype,"m_Delay",void 0),i([l({displayName:"\u81ea\u52a8\u64ad\u653e"})],t.prototype,"m_IsAuto",void 0),i([l({displayName:"\u5faa\u73af\u64ad\u653e"})],t.prototype,"m_IsLoop",void 0),i([c,u("ipha\u7ec4\u4ef6/\u7b80\u5355\u6643\u52a8\u52a8\u753b")],t)}(r.default);o.default=d,cc._RF.pop()},{Ipha_ComponentBasic:"Ipha_ComponentBasic"}],Ipha_tool:[function(e,t,o){"use strict";cc._RF.push(t,"7b5cfQXilBBv4VNCaSCDgor","Ipha_tool"),Object.defineProperty(o,"__esModule",{value:!0}),o.Ipha_ClassBase=void 0;var n=e("Ipha_AniTool"),i=e("Ipha_PosTool"),a=function(){function e(){}return Object.defineProperty(e,"pos",{get:function(){return null==this._posTool&&(this._posTool=new i.PosTool),this._posTool},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ani",{get:function(){return null==this._aniTool&&(this._aniTool=new n.AniTool),this._aniTool},enumerable:!1,configurable:!0}),e._posTool=null,e._aniTool=null,e}();o.default=a;var r=function(){function e(){}return e.prototype._Initialize=function(){console.log("---------",this._className,"------\u521b\u5efa\u5b8c\u6bd5")},e.prototype.clear=function(){console.log("---------",this._className,"------\u6e05\u9664\u5b8c\u6bd5")},e}();o.Ipha_ClassBase=r,cc._RF.pop()},{Ipha_AniTool:"Ipha_AniTool",Ipha_PosTool:"Ipha_PosTool"}],LevelDataTemplate:[function(e,t,o){"use strict";cc._RF.push(t,"7d9bcIJHMpBjpvPRF4M6c3b","LevelDataTemplate"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getData=function(){return{1:{id:1,lv:1,time:10,playerData:{p:cc.v3(),e:cc.v3(0,180,0)},collers:[{n:"WalkRole",p:cc.v3(3,0,3),e:cc.v3()}]}}},e}();o.default=n,cc._RF.pop()},{}],LevelMgr:[function(e,t,o){"use strict";cc._RF.push(t,"e82a8D2/cFDEJgC0eu+Wmu5","LevelMgr");var n=__decorate,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=i(e("gameConfig1")),r=i(e("LevelsConfig")),s=cc._decorator,c=s.ccclass;s.property;var l=function(){function e(){}return e.getBundleName=function(e){var t=this.getLevelIndex(e);return t<=50?"Levels1":t<=100?"Levels2":"Levels3"},e.getLevelIndex=function(e){var t=e;return e>a.default.ROPE_MAX_LEVEL&&(t=(e-1)%a.default.ROPE_MAX_LEVEL+1),t},e.getPrefabName=function(e){var t=r.default.LevelOrder;window.RemoteLevelConfig&&(t=window.RemoteLevelConfig.LevelOrder);var o=this.getLevelIndex(e),n=t[o];return n||(n=o.toString()),n},e.getPaintOrder=function(){},e.getLevelDifficultyConfig=function(e,t){var o=null;window.RemoteLevelConfig&&(o=window.RemoteLevelConfig.LevelDifficulty),o||(o=r.default.LevelDifficulty);var n=null;return t?(n=o[e])||(n=o.normal):n=o.dae,n},n([c],e)}();o.default=l,cc._RF.pop()},{LevelsConfig:"LevelsConfig",gameConfig1:"gameConfig1"}],LevelsConfig:[function(e,t,o){"use strict";cc._RF.push(t,"e9a03zTpr9PtqARjEK07NSj","LevelsConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={LevelDifficulty:{0:[[0,0],[.1,1],[.2,2],[.3,3],[.4,4],[.5,5],[.6,6],[.7,7],[.8,8],[.9,9],[1,10]],normal:[[0,0],[.05,4],[.1,4],[.15,4],[.2,5],[.25,5],[.3,6],[.35,6],[.4,7],[.45,7],[.5,8],[.55,8],[.6,9],[.65,9],[.7,9],[.75,9],[.8,10],[1,10]]},LevelOrder:["50c","1c","2c","3c","4c","5c","6c","7c","8c","9c","10c","11c","12c","13c","14c","15c","16c","17c","18c","19c","20c","21c","22c","23c","24c","25c","26c","27c","28c","29c","30c","31c","32c","33c","34c","35c","36c","37c","38c","39c","40c","41c","42c","43c","44c","45c","46c","47c","48c","49c","50c","51c","52c","53c","54c","55c","56c","57c","58c","59c","60c","61c","62c","63c","64c","65c","66c","67c","68c","69c","70c","71c","72c","73c","74c","75c","76c","77c","78c","79c","80c"]},cc._RF.pop()},{}],Loader:[function(e,t,o){"use strict";cc._RF.push(t,"e93402KGbNAk53J9vtGKfk4","Loader");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i,a=n(e("EventManager")),r=e("GameEventType"),s=e("OverallSystem"),c=function(){function e(){}return e.showProgressBar=function(e){void 0===e&&(e=0),this.showMask(),a.default.emit(r.EventType.LoadAssetEvent.showProgress,e)},e.updateProgress=function(e,t){var o=e/t;o>1&&(o=1),a.default.emit(r.EventType.LoadAssetEvent.updateProgress,o)},e.hideProgressBar=function(e){void 0===e&&(e=1),a.default.emit(r.EventType.LoadAssetEvent.hideProgress),this.hideMask(e)},e.showMask=function(e){void 0===e&&(e=1),a.default.emit(r.EventType.UIEvent.showTouchMask,e)},e.hideMask=function(e){void 0===e&&(e=1),a.default.emit(r.EventType.UIEvent.hideTouchMask,e)},e.loadBundle=function(e,t,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1),this.loadSubpackage(e,t,o,n)},e.loadSubpackage=function(e,t,o,n){void 0===o&&(o=!1),void 0===n&&(n=!1);var a=this.subpackageRecords[e];switch(a||(a=new u(e,t,o),this.subpackageRecords[e]=a),a.state){case i.inited:o&&this.showSubpackageProgress(),n&&this.subpackageSequence.length>0?(this.subpackageSequence.splice(1,0,e),a.enterSequence()):(this.subpackageSequence.push(e),this.subpackageSequence.length>1?a.enterSequence():this._loadSubpackage(e));break;case i.waiting:if(o&&this.showSubpackageProgress(),a.pushCb(t,o),n&&this.subpackageSequence.length>0){var r=this.subpackageSequence.indexOf(e);r>1&&(this.subpackageSequence.splice(r,1),this.subpackageSequence.splice(1,0,e),a.enterSequence())}break;case i.turnTo:o&&this.showSubpackageProgress(),a.pushCb(t,o),this._loadSubpackage(e);break;case i.loading:o&&this.showSubpackageProgress(),a.pushCb(t,o);break;case i.finished:setTimeout(function(){t&&t()},0)}},e._loadSubpackage=function(e,t){var o=this;void 0===t&&(t=!1),this.subpackageRecords[e].loadStart(),cc.assetManager.loadBundle(e,function(n){if(n&&!t&&o._loadSubpackage(e,!0),n){console.error("\u5b50\u5305\u52a0\u8f7d\u51fa\u9519\uff1a",e),s.sers().uiSrv.showMessage("\u8d44\u6e90\u52a0\u8f7d\u9519\u8bef,\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u7545\u901a~"),a.default.emit(r.EventType.DirectorEvent.loadingError),console.error(n);var i=o.subpackageSequence.indexOf(e);return o.subpackageSequence.splice(i,1),o.subpackageRecords[e]=null,o.hideSubpackageProgress(),void s.sers().uiSrv.hideLoding()}cc.log("\u5b50\u5305\u52a0\u8f7d\u5b8c\u6210\uff1a",e);var c=o.subpackageSequence.indexOf(e);if(o.subpackageSequence.splice(c,1),o.hideSubpackageProgress(),o.subpackageRecords[e].loadFinish(),o.subpackageSequence.length>0){var l=o.subpackageSequence[0],u=o.subpackageRecords[l];u&&u.turnToLoad(),o.loadSubpackage(l,null,!!o.subpackageRecords[l].maskCount)}})},e.showSubpackageProgress=function(){null===this.subpackageProgressTimer&&(this.showProgressBar(),this.subpackageProgress=0,this.subpackageProgressTimer=setInterval(this.updateSubpackageProgress.bind(this),100))},e.updateSubpackageProgress=function(){this.subpackageProgress+=.03,this.subpackageProgress>=1&&(this.subpackageProgress=0),a.default.emit(r.EventType.LoadAssetEvent.updateProgress,this.subpackageProgress)},e.hideSubpackageProgress=function(){if(null!==this.subpackageProgressTimer){for(var e=0,t=this.subpackageSequence.length-1;t>=0;--t)e+=this.subpackageRecords[this.subpackageSequence[t]].maskCount;0==e&&(clearInterval(this.subpackageProgressTimer),this.subpackageProgressTimer=null,this.subpackageProgress=0,this.hideProgressBar())}},e.loadRes=function(e,t,o){var n=this;this.singleAsset[e]?setTimeout(function(){t(n.singleAsset[e])},0):(void 0===o&&(o=!0),o&&this.showMask(),cc.loader.loadRes(e,function(i,a){if(o&&n.hideMask(),i)return cc.error(i.message||i),void t(null);n.singleAsset[e]=a,t(a)}))},e.loadResDir=function(e,t,o,n){var i=this;if(this.dirAsset[e])setTimeout(function(){t(i.dirAsset[e])},0);else{var a=null;void 0===o?n=!0:"boolean"==typeof o?n=!!o:(a=o,void 0===n&&(n=!0)),n&&this.showProgressBar(),a?cc.loader.loadResDir(e,a,this.updateProgress.bind(this),function(o,a,r){if(n&&i.hideProgressBar(),o)return cc.log(o),void t(null);i.dirAsset[e]=a;for(var s=a.length-1;s>=0;--s)i.singleAsset[r[s]]=a[s];t(i.dirAsset[e])}):cc.loader.loadResDir(e,this.updateProgress.bind(this),function(o,a,r){if(n&&i.hideProgressBar(),o)return cc.log(o),void t(null);i.dirAsset[e]=a;for(var s=a.length-1;s>=0;--s)i.singleAsset[r[s]]=a[s];t(i.dirAsset[e])})}},e.loadResArray=function(e,t,o){for(var n=this,i=[],a=[],r=e.length-1;r>=0;--r){var s=this.getAsset(e[r]);s?i.push(s):a.push(e[r])}0!=a.length?(void 0===o&&(o=!0),o&&this.showProgressBar(),cc.loader.loadResArray(a,this.updateProgress.bind(this),function(e,r){if(o&&n.hideProgressBar(),e)return cc.log(e),void t(null);if(Array.isArray(r))for(var s=a.length-1;s>=0;--s)n.singleAsset[a[s]]=r[s],i.push(r[s]);else n.singleAsset[a[0]]=r,i.push(r);t(i)})):setTimeout(function(){t(i)},0)},e.getAsset=function(e){return this.singleAsset[e]?this.singleAsset[e]:(console.warn("\u5c1a\u672a\u52a0\u8f7d\u8d44\u6e90\uff1a",e),null)},e.loadBundleRes=function(e,t,o,n,i){var a=this,r=cc.assetManager.getBundle(e);if(!r)return console.error("\u8d44\u6e90\u5305 "+e+" \u5c1a\u672a\u52a0\u8f7d\uff0c\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90:",t),void o(null);var s=null;void 0===n?i=!0:"boolean"==typeof n?i=!!n:(s=n,void 0===i&&(i=!0)),i&&this.showMask(),null!==s?r.load(t,s,function(e,t){if(i&&a.hideMask(),e)return cc.error(e.message||e),void o(null);o(t)}):r.load(t,function(e,t){if(i&&a.hideMask(),e)return cc.log(e.message||e),void o(null);o(t)})},e.loadBundleArray=function(e,t,o,n,i){var a=this,r=cc.assetManager.getBundle(e);if(!r)return console.error("\u8d44\u6e90\u5305 "+e+" \u5c1a\u672a\u52a0\u8f7d\uff0c\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90\u6570\u7ec4:",t),void o(null);var s=null;void 0===n?i=!0:"boolean"==typeof n?i=!!n:(s=n,void 0===i&&(i=!0)),i&&this.showProgressBar(),s?r.load(t,s,this.updateProgress.bind(this),function(e,t){if(i&&a.hideProgressBar(),e)return cc.error(e.message||e),void o(null);o(t)}):r.load(t,this.updateProgress.bind(this),function(e,t){if(i&&a.hideProgressBar(),e)return cc.error(e.message||e),void o(null);o(t)})},e.loadBundleDir=function(e,t,o,n,i){var a=this,r=cc.assetManager.getBundle(e);if(!r)return console.error("\u8d44\u6e90\u5305 "+e+" \u5c1a\u672a\u52a0\u8f7d\uff0c\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90\u6587\u4ef6\u5939:",t),void o(null);var s=null;void 0===n?i=!0:"boolean"==typeof n?i=!!n:(s=n,void 0===i&&(i=!0)),i&&this.showProgressBar(),s?r.loadDir(t,s,this.updateProgress.bind(this),function(e,t){if(i&&a.hideProgressBar(),e)return cc.log(e),void o(null);o(t)}):r.loadDir(t,this.updateProgress.bind(this),function(e,t){if(i&&a.hideProgressBar(),e)return cc.log(e),void o(null);o(t)})},e.loadBundleScene=function(e,t,o,n){var i=this,a=cc.assetManager.getBundle(e);if(!a)return console.error("\u8d44\u6e90\u5305 "+e+" \u5c1a\u672a\u52a0\u8f7d\uff0c\u65e0\u6cd5\u52a0\u8f7d\u573a\u666f:",t),void o(null);void 0===n&&(n=!0),n&&this.showProgressBar(),a.loadScene(t,this.updateProgress.bind(this),function(e,t){n&&i.hideProgressBar(),e?console.error(e):o(t)})},e.preLoadBundleRes=function(e,t,o){var n=cc.assetManager.getBundle(e);n&&(void 0===o?n.preload(t):n.preload(t,o))},e.preLoadBundleArray=function(e,t,o){var n=cc.assetManager.getBundle(e);n&&(void 0===o?n.preload(t):n.preload(t,o))},e.preLoadBundleDir=function(e,t,o){var n=cc.assetManager.getBundle(e);n&&(void 0===o?n.preloadDir(t):n.preloadDir(t,o))},e.preLoadBundleScene=function(e,t){var o=cc.assetManager.getBundle(e);o&&o.preloadScene(t)},e.dirAsset={},e.singleAsset={},e.subpackageRecords={},e.subpackageSequence=[],e.subpackageProgressTimer=null,e.subpackageProgress=0,e}();o.default=c;var l,u=function(){function e(e,t,o){this.name=e,this.state=i.inited,this.cbs=[],t&&this.pushCb(t),this.maskCount=o?1:0}return e.prototype.pushCb=function(e,t){e&&this.cbs.push(e),t&&this.maskCount++},e.prototype.enterSequence=function(){this.state=i.waiting},e.prototype.loadStart=function(){this.state=i.loading},e.prototype.loadFinish=function(){for(;this.cbs.length>0;){var e=this.cbs.shift();e&&e()}this.state=i.finished,this.maskCount=0},e.prototype.turnToLoad=function(){this.state=i.turnTo},e}();(l=i||(i={}))[l.inited=1]="inited",l[l.waiting=2]="waiting",l[l.loading=3]="loading",l[l.finished=4]="finished",l[l.turnTo=5]="turnTo",cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",OverallSystem:"OverallSystem"}],MajiangAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"ce5d6JZiZRA7Y4QgZUCjA/C","MajiangAnimation");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("yyComponent")),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.majiangArr=[],t.renwu=null,t.zoumajiangArr=[],t.skinName=["\u4e2d\u9ec4\u4e1c","\u5929\u84dd\u51ac","\u6a59\u79cb","\u7c89\u5357","\u7d2b\u6625","\u7ea2\u4e2d","\u7eff\u590f","\u7eff\u7070\u53d1","\u84dd\u897f","\u9ec4\u5317"],t.nowSkin="",t.nowNumber=0,t}return n(t,e),t.prototype.start=function(){this.rSkin(),this.addmj(),this.schedule(this.addmj,4.5)},t.prototype.addmj=function(){var e=this;this.renwu.active=!0,this.renwu.x=-400,this.scheduleOnce(function(){e.renwu.getComponent(sp.Skeleton).setSkin(e.nowSkin)}),this.renwu.getComponent(sp.Skeleton).setAnimation(0,"zoulu",!0),cc.tween(this.renwu).to(1.5,{x:0}).call(function(){e.renwu.getComponent(sp.Skeleton).setAnimation(0,"daiji",!0)}).delay(.3).to(.2,{opacity:0}).call(function(){e.renwu.active=!1,e.renwu.opacity=255,e.shangzhuo()}).start()},t.prototype.rSkin=function(){var e=this.skinName[Math.floor(Math.random()*this.skinName.length)];this.nowSkin=e},t.prototype.shangzhuo=function(){var e=this;this.nowNumber++;for(var t=function(t){var n=o.majiangArr[t];n&&(n.active||(n.opacity=0),n.active=!0,cc.tween(n).to(.2,{opacity:255}).start(),o.scheduleOnce(function(){n.getComponent(sp.Skeleton).setSkin(e.nowSkin)}))},o=this,n=0;n<this.nowNumber;n++)t(n);this.nowNumber>=4&&(this.scheduleOnce(function(){e.node.getChildByName("hule").active=!0,e.node.getChildByName("hule").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.scheduleOnce(function(){e.node.getChildByName("hule").active=!1},1);for(var t=function(e){cc.tween(e).to(.2,{opacity:0}).call(function(){e.active=!1,e.opacity=255}).start()},o=0,n=e.majiangArr;o<n.length;o++)t(n[o]);for(var i=function(t){var o=e.zoumajiangArr[t];o&&(o.opacity=0,o.active=!0,cc.tween(o).to(.2,{opacity:255}).start(),o.x=100*t-200,o.y=-170,o.getComponent(sp.Skeleton).setAnimation(0,"zoulu",!0),e.scheduleOnce(function(){o.getComponent(sp.Skeleton).setSkin(e.nowSkin)}),cc.tween(o).by(1.5,{x:1e3}).call(function(){o.active=!1}).start())},a=0;a<e.zoumajiangArr.length;a++)i(a);e.scheduleOnce(function(){e.rSkin()},1)},1),this.nowNumber=0)},i([l(cc.Node)],t.prototype,"majiangArr",void 0),i([l(cc.Node)],t.prototype,"renwu",void 0),i([l(cc.Node)],t.prototype,"zoumajiangArr",void 0),i([c],t)}(r.default);o.default=u,cc._RF.pop()},{yyComponent:"yyComponent"}],MotionTrail:[function(e,t,o){"use strict";cc._RF.push(t,"95308Y9xg5NQ4YEVdcGGW1v","MotionTrail");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=function(){this.x=0,this.y=0,this.dis=0,this.cos=0,this.sin=0},r=cc._decorator,s=r.ccclass,c=r.property,l=r.playOnFocus,u=r.menu,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t._spriteFrame=null,t._isActive=!0,t._isWorldXY=!0,t.offset=cc.v2(0,0),t._length=20,t._headWidth=100,t._tailWidth=0,t._headOpacity=255,t._tailOpacity=0,t.renderData=null,t.xyOffset=1e8,t.uvOffset=1e8,t.colorOffset=1e8,t.step=0,t.joints=[],t.cascadeScale=cc.v2(1,1),t.visibleScale=cc.v2(1,1),t}return n(t,e),Object.defineProperty(t.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(e){this._spriteFrame=e,this.updateSpriteFrame(),this.updateUV()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this._isActive=this.enabled=e,this.updateActive()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWorldXY",{get:function(){return this._isWorldXY},set:function(e){this._isWorldXY=e,this.resetPos()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){this._length=Math.max(e,2),this.updateLength(),this.updateIndice(),this.updateUV(),this.updateWidth(),this.resetPos(),this.node._renderFlag|=cc.RenderFlow.FLAG_OPACITY_COLOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headWidth",{get:function(){return this._headWidth},set:function(e){this._headWidth=Math.max(e,0),this.updateWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tailWidth",{get:function(){return this._tailWidth},set:function(e){this._tailWidth=Math.max(e,0),this.updateWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headOpacity",{get:function(){return this._headOpacity},set:function(e){this._headOpacity=e,this.node._renderFlag|=cc.RenderFlow.FLAG_OPACITY_COLOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tailOpacity",{get:function(){return this._tailOpacity},set:function(e){this._tailOpacity=e,this.node._renderFlag|=cc.RenderFlow.FLAG_OPACITY_COLOR},enumerable:!1,configurable:!0}),t.prototype._resetAssembler=function(){var e=this._assembler=new cc.Assembler;e.updateRenderData=this.updateXY.bind(this),e.updateColor=this.updateColor.bind(this),this.update=this.setVertsDirty,e.init(this),this.renderData=new cc.RenderData,this.renderData.init(e);for(var t=e.getVfmt(),o=t._elements,n=o.length-1;n>-1;this.step+=o[n--].bytes>>2);var i=t._attr2el;this.xyOffset=i.a_position.offset>>2,this.uvOffset=i.a_uv0.offset>>2,this.colorOffset=i.a_color.offset>>2},t.prototype.onLoad=function(){this.updateSpriteFrame(),this.updateLength(),this.updateIndice(),this.updateUV(),this.updateWidth(),this.updateActive(),cc.sys.isNative&&cc.director.once(cc.Director.EVENT_AFTER_DRAW,this.updateColor,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this.updateVisibleScale,this)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SCALE_CHANGED,this.updateVisibleScale,this)},t.prototype.updateActive=function(){this._isActive&&(this.updateCascadeScale(),this.updateVisibleScale(),this.resetPos())},t.prototype.createBuffer=function(e,t){void 0===t&&(t=e-2);var o=new Float32Array(this.step*e),n=new Uint16Array(3*t);this.renderData.updateMesh(0,o,n)},t.prototype.fillBuffers=function(e,t){var o=this.renderData.vDatas[0],n=this.renderData.iDatas[0],i=t._meshBuffer,a=i.request(o.length,n.length),r=a.byteOffset>>2,s=i._vData;o.length+r>s.length?s.set(o.subarray(0,s.length-r),r):s.set(o,r);for(var c=i._iData,l=a.indiceOffset,u=a.vertexOffset,d=0,p=n.length;d<p;c[l++]=u+n[d++]);},t.prototype.updateSpriteFrame=function(){var e=this._spriteFrame;this._assembler.fillBuffers=e?this.fillBuffers.bind(this):function(){};var t=this.getMaterial(0)||cc.Material.getBuiltinMaterial("2d-sprite");t.define("USE_TEXTURE",!0),t.setProperty("texture",e?e.getTexture():null)},t.prototype.updateCascadeScale=function(){for(var e=this.node,t=1,o=1;null!==e._parent;)t*=(e=e._parent).scaleX,o*=e.scaleY;this.cascadeScale.x=t,this.cascadeScale.y=o},t.prototype.updateVisibleScale=function(){this.visibleScale.x=this.cascadeScale.x*this.node.scaleX,this.visibleScale.y=this.cascadeScale.y*this.node.scaleY},t.prototype.updateXY=function(){for(var e=this.node,t=this.joints,o=this._length-1;o>0;--o){var n=t[o],i=t[o-1];n.x=i.x,n.y=i.y,n.sin=i.sin,n.cos=i.cos}var a=t[0],r=t[1],s=this.visibleScale.x,c=this.visibleScale.y;if(this._isWorldXY){var l=e._worldMatrix.m;a.x=this.offset.x*s+l[12],a.y=this.offset.y*c+l[13]}else a.x=this.offset.x*e.scaleX+e.x,a.y=this.offset.y*e.scaleY+e.y;var u=r.y-a.y,d=r.x-a.x,p=Math.sqrt(u*u+d*d);a.sin=u/p,a.cos=d/p;var h=this.renderData.vDatas[0],f=0,g=0,v=1,y=1;this._isWorldXY||(f=e.x,g=e.y,v=this.cascadeScale.x,y=this.cascadeScale.y);var m=0,_=this.step,S=0,w=0,b=0,P=0;o=0;for(var C=this._length-1;o<C;++o)a=t[o],r=t[o+1],S=(a.x-f)*v,w=(a.y-g)*y,b=a.dis*s*a.sin,P=a.dis*c*a.cos,h[m]=S+b,h[m+1]=w-P,h[m+=_]=S-b,h[m+1]=w+P,m+=_;S=(r.x-f)*v,w=(r.y-g)*y,b=r.dis*s*a.sin,P=r.dis*c*a.cos,h[m]=S+b,h[m+1]=w-P,h[m+=_]=S-b,h[m+1]=w+P,this.fitXY(h)},t.prototype.resetPos=function(){var e=this.offset.x,t=this.offset.y,o=this.node;if(this._isWorldXY){var n=o._worldMatrix.m;o._updateWorldMatrix(),e+=n[12],t+=n[13]}else e+=o.x,t+=o.y;for(var i=this._length-1,a=this.joints;i>-1;--i)a[i].x=e,a[i].y=t;var r=this.renderData.vDatas[0];i=this.xyOffset;for(var s=r.length,c=this.step;i<s;i+=c)r[i]=e,r[i+1]=t;this.fitXY(r)},t.prototype.fitXY=function(e){if(cc.sys.isNative){this.node._updateWorldMatrix();var t=cc.Mat4.invert(new cc.Mat4,this.node._worldMatrix).m,o=t[0],n=t[1],i=t[4],a=t[5],r=0,s=0;this._isWorldXY&&(r=t[12],s=t[13]);for(var c=this.xyOffset,l=e.length;c<l;c+=this.step){var u=e[c],d=e[c+1];e[c]=o*u+i*d+r,e[c+1]=n*u+a*d+s}}else if(!this._isWorldXY){var p=this.node._worldMatrix.m;for(r=p[12],s=p[13],c=this.xyOffset,l=e.length;c<l;c+=this.step)e[c]=e[c]+r,e[c+1]=e[c+1]+s}},t.prototype.updateUV=function(){for(var e=this.renderData.vDatas[0],t=this.step,o=1/(this.joints.length-1),n=this.uvOffset,i=0,a=e.length;n<a;n+=t,++i)e[n]=1&i,e[n+1]=1-o*(i>>1);this.fitUV(e)},t.prototype.fitUV=function(e){var t=this._spriteFrame;if(null!==t){var o=t._texture.width,n=t._texture.height,i=t._rect;if(t._rotated)for(var a=this.uvOffset,r=0,s=e.length,c=this.step;a<s;a+=c,++r){var l=e[a];e[a]=((1-e[a+1])*i.height+i.x)/o,e[a+1]=(l*i.width+i.y)/n}else for(a=this.uvOffset,r=0,s=e.length,c=this.step;a<s;a+=c,++r)e[a]=(e[a]*i.width+i.x)/o,e[a+1]=(e[a+1]*i.height+i.y)/n}},t.prototype.updateColor=function(){for(var e=this._length,t=this._headOpacity,o=(t-this._tailOpacity)/(e-1),n=this.node.color.a/255,i=16777215&this.node.color._val,a=this.renderData.uintVDatas[0],r=0,s=this.colorOffset,c=this.step;r<e;++r){var l=(t-o*r)*n<<24|i;a[s]=l,a[s+=c]=l,s+=c}},t.prototype.updateIndice=function(){for(var e=this.renderData.iDatas[0],t=0,o=0,n=e.length;t<n;++o)e[t++]=o,e[t++]=o+1,e[t++]=o+2},t.prototype.updateLength=function(){for(var e=this._length,t=0,o=this.joints=[];t<e;o[t++]=new a);this.createBuffer(e<<1)},t.prototype.updateWidth=function(){for(var e=this._length,t=.5*this._headWidth,o=(t-.5*this._tailWidth)/(e-1),n=0,i=this.joints;n<e;i[n].dis=t-o*n++);},i([c({type:cc.SpriteAtlas,serializable:!1,readonly:!0})],t.prototype,"atlas",void 0),i([c],t.prototype,"_spriteFrame",void 0),i([c({type:cc.SpriteFrame})],t.prototype,"spriteFrame",null),i([c],t.prototype,"_isActive",void 0),i([c({})],t.prototype,"isActive",null),i([c],t.prototype,"_isWorldXY",void 0),i([c({})],t.prototype,"isWorldXY",null),i([c({})],t.prototype,"offset",void 0),i([c],t.prototype,"_length",void 0),i([c({type:cc.Integer})],t.prototype,"length",null),i([c],t.prototype,"_headWidth",void 0),i([c({})],t.prototype,"headWidth",null),i([c],t.prototype,"_tailWidth",void 0),i([c({})],t.prototype,"tailWidth",null),i([c],t.prototype,"_headOpacity",void 0),i([c({type:cc.Integer,min:0,max:255,slide:!0})],t.prototype,"headOpacity",null),i([c],t.prototype,"_tailOpacity",void 0),i([c({type:cc.Integer,min:0,max:255,slide:!0})],t.prototype,"tailOpacity",null),i([s,l,u("Comp/MotionTrail")],t)}(cc.RenderComponent);o.default=d,cc._RF.pop()},{}],OverPage:[function(e,t,o){"use strict";cc._RF.push(t,"de871RAQUtBsZIwtOrgEaKT","OverPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("uiService")),s=e("OverallSystem"),c=e("gameMode_Json"),l=a(e("pageBase")),u=a(e("PaintCtrl")),d=a(e("PaintBoard")),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u5931\u8d25\u9875",t.paintCtrl=null,t.restart=null,t.nextBtn=null,t.lossNode=null,t.passTitle=null,t.lossTitle=null,t.jinduNode=null,t.shareBtn1=null,t.shareBtn2=null,t}return n(t,e),t.prototype.setCloseDoFun=function(e){this.colseDoFun=e},t.prototype.start=function(){this.open();var e=s.sers().platformSrv.platformApi.recordedGameScreenStop();this.shareBtn1.active=!e,this.shareBtn2.active=e},t.prototype.initData=function(e){var t=null;if(!e.pass){cc.log("zhanshi"),t=this.lossTitle.getChildByName("icon"),this.passTitle.active=!1,this.lossTitle.active=!0,this.restart.active=!0,this.nextBtn.active=!1;var o=this.lossTitle.getChildByName("loseSpine");o.getChildByName("huangguan").getComponent(sp.Skeleton).setCompleteListener(function(e){e.animation&&e.animation.name});var n=o.getChildByName("xingxing").getComponent(sp.Skeleton);n.setAnimation(0,"tanchu",!1),n.setCompleteListener(function(e){"tanchu"==(e.animation?e.animation.name:"")&&n.setAnimation(0,"zhuan",!0)})}if(e.pass){this.lossNode.active=!1,this.passTitle.active=!0,this.lossTitle.active=!1,this.restart.active=!1,this.nextBtn.active=!0;var i=this.passTitle.getChildByName("winSpine").getChildByName("xingxing").getComponent(sp.Skeleton);i.setAnimation(0,"tanchu",!1),i.setCompleteListener(function(e){"tanchu"==(e.animation?e.animation.name:"")&&i.setAnimation(0,"zhuan",!0)}),t=this.passTitle.getChildByName("icon")}if(this.captureNode=t.getChildByName("captureNode"),e.data.gameProgress>=0){this.jinduNode.active=!0;var a=this.jinduNode.children[1],r=this.jinduNode.children[1].children[1].getComponent(cc.Label),s=382*e.data.gameProgress;cc.tween(a).by(.5,{x:s}).start(),cc.tween(this.jinduNode.getComponent(cc.ProgressBar)).to(.5,{progress:e.data.gameProgress}).start();for(var c=Number((100*e.data.gameProgress).toFixed(0)),l=function(e){u.scheduleOnce(function(){r.string=e+"%"},.5/c*e)},u=this,p=1;p<=c;p++)l(p)}this.paintNode=e.data.paintNode,this.paintNode.parent=t,this.paintNode.scale=.85,this.paintNode.setPosition(0,20),this.paintNode.removeComponent(cc.Widget);var h=this.paintNode.getComponent(d.default);h.maskNode=null,e.pass&&h.jumpToLastStep(),this.paintCtrl.setPaintBoard(h)},t.prototype.share=function(){s.mgrs().soundMgr.playBtnSound(),this.shareImage(this.captureNode)},t.prototype.share2=function(){s.mgrs().soundMgr.playBtnSound(),s.sers().platformSrv.platformApi.shareRecordedGameScreen()},t.prototype.newGame=function(){s.mgrs().soundMgr.playBtnSound(),s.mgrs().gameMgr.enterMode(c.GAME_MODE.Feibiao)},t.prototype.restartGame=function(){s.mgrs().soundMgr.playBtnSound(),s.sers().platformSrv.platformApi.hideBanner(),s.mgrs().gameMgr.enterMode(c.GAME_MODE.Feibiao)},t.prototype.open=function(){r.default.openPageBasicAni(this.showNode,!0).then(function(){}).catch(function(){})},t.prototype.close=function(){var e=this;s.sers().platformSrv.platformApi.hideBanner(),this.closeAni().then(function(){s.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()}).catch()},t.prototype.onlyClose=function(){var e=this;this.closeAni().then(function(){s.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()}).catch()},t.prototype.OnBtnClose=function(){s.mgrs().soundMgr.playBtnSound(),s.mgrs().gameMgr.backHomePage(),this.close(),cc.log("OnBtnClose")},t.prototype.backIndex=function(){s.mgrs().soundMgr.playBtnSound(),this.OnBtnClose()},t.prototype.closeAni=function(e){return void 0===e&&(e=!1),r.default.closePageBasicAni(this.showNode,e)},t.prototype.update=function(){},t.prototype.shareImage=function(e){var t=e.getBoundingBoxToWorld(),o=cc.game.canvas,n=o.height/cc.view.getVisibleSize().height,i={x:t.x*n,y:o.height-(t.y+t.height)*n,width:t.width*n,height:t.height*n,destWidth:500,destHeight:400};s.sers().platformSrv.platformApi.shareAppMessage("","",i)},i([f(u.default)],t.prototype,"paintCtrl",void 0),i([f(cc.Node)],t.prototype,"restart",void 0),i([f(cc.Node)],t.prototype,"nextBtn",void 0),i([f(cc.Node)],t.prototype,"lossNode",void 0),i([f(cc.Node)],t.prototype,"passTitle",void 0),i([f(cc.Node)],t.prototype,"lossTitle",void 0),i([f(cc.Node)],t.prototype,"jinduNode",void 0),i([f(cc.Node)],t.prototype,"shareBtn1",void 0),i([f(cc.Node)],t.prototype,"shareBtn2",void 0),i([h],t)}(l.default);o.default=g,cc._RF.pop()},{OverallSystem:"OverallSystem",PaintBoard:"PaintBoard",PaintCtrl:"PaintCtrl",gameMode_Json:"gameMode_Json",pageBase:"pageBase",uiService:"uiService"}],OverallSystem:[function(e,t,o){"use strict";cc._RF.push(t,"2fa45OopodDgqjf9x45zp1v","OverallSystem");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.sers=o.mgrs=void 0;var a=i(e("TimePlugIn")),r=i(e("bundleManager")),s=i(e("gameManager")),c=i(e("soundManager")),l=i(e("localStorageService")),u=i(e("platformService")),d=i(e("uiService")),p=i(e("userService")),h=function(e){function t(){var t=e.call(this)||this;return t._systemName="\u4e3b\u7cfb\u7edf",t._managers={},t._servers={},t}return n(t,e),t.prototype.Initialize=function(){e.prototype.Initialize.call(this),console.log("\u521d\u59cb\u5316"),console.log("\u521d\u59cb\u5316\u670d\u52a1"),this._servers={localStorageSrv:new l.default,platformSrv:new u.default,userSrv:new p.default,uiSrv:new d.default},console.log("-----\u670d\u52a1--\u521d\u59cb\u5316\u5b8c\u6bd5-----"),console.log("\u521d\u59cb\u5316\u7ba1\u7406\u7c7b"),this._managers={gameMgr:new s.default,soundMgr:new c.default,bundleMgr:void 0},console.log("-----\u7ba1\u7406--\u521d\u59cb\u5316\u5b8c\u6bd5-----"),a.default(),this._servers.userSrv._initPower(),this._servers.userSrv._initCoin()},t.prototype.Canvas=function(){return cc.find("Canvas")},t.prototype.Component=function(){return this.Canvas().getComponent(cc.Component)},t.prototype.InitBundle=function(){this._managers.bundleMgr=new r.default},t.prototype.emit=function(e,t,o,n,i,a){this.Canvas().emit(e,t,o,n,i,a)},t.prototype.on=function(e,t,o,n){this.Canvas().on(e,t,o,n)},t.prototype.once=function(e,t,o,n){this.Canvas().once(e,t,o,n)},t.prototype.off=function(e,t,o,n){this.Canvas().off(e,t,o,n)},t.prototype.loadScene=function(e){return console.log("\u6b63\u5728\u52a0\u8f7d\u573a\u666f:",e),new Promise(function(t){cc.director.loadScene(e,t)})},Object.defineProperty(t.prototype,"Managers",{get:function(){return this._managers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Servers",{get:function(){return this._servers},enumerable:!1,configurable:!0}),t}(i(e("systemBase")).default);o.mgrs=function(){return f.Managers},o.sers=function(){return f.Servers};var f=function(){try{return new h}catch(e){return console.error("\u4e3b\u7cfb\u7edf\u521b\u5efa\u5931\u8d25 :",e),null}}();o.default=f,cc._RF.pop()},{TimePlugIn:"TimePlugIn",bundleManager:"bundleManager",gameManager:"gameManager",localStorageService:"localStorageService",platformService:"platformService",soundManager:"soundManager",systemBase:"systemBase",uiService:"uiService",userService:"userService"}],PaintBoard:[function(e,t,o){"use strict";cc._RF.push(t,"04c38j6s9BH15NH7JmXu2N+","PaintBoard");var n=__extends,i=__decorate,a=__awaiter,r=__generator,s=__spreadArrays;Object.defineProperty(o,"__esModule",{value:!0});var c=e("OverallSystem"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridContainer=null,t.previewButton=null,t.filledSprite=[],t.nextStepButton=null,t.lastStepButton=null,t.importButton=null,t.maskNode=null,t.parentNode=null,t.prevStepButton=null,t.history=[],t.drawHistory=[],t.currentStep=0,t.cellSize=1,t.rows=800,t.cols=800,t.isAutoPlaying=!1,t.playInterval=.01,t.COLORS_COUNT=20,t.cellNodes=new Map,t.activeDrawCount=0,t.needYFlip=!1,t}return n(t,e),t.prototype.start=function(){return a(this,void 0,void 0,function(){return r(this,function(){return this.adjustNodeHeight(),this.setupPreviewButton(),this.setupNextStepButton(),this.setupPrevStepButton(),this.setupLastStepButton(),this.setupImportButton(),[2]})})},t.prototype.adjustNodeHeight=function(){if(this.gridContainer){var e=this.cols*this.cellSize,t=this.rows*this.cellSize,o=-e/2,n=-t/2;if(this.gridContainer.setPosition(o,n),this.parentNode){this.parentNode.getComponent(cc.Widget).updateAlignment();var i=cc.winSize.height/2-this.parentNode.y-50,a=cc.sys.getSafeAreaRect();(i-=cc.winSize.height-a.height-a.y)>t&&(i=t),cc.log("nodeHeight",i),this.parentNode.height=i+40,this.parentNode.y=this.parentNode.y-40,console.log("cc.sys.getSafeAreaRect()",cc.sys.getSafeAreaRect())}}},t.prototype.redrawToStep=function(e){var t=this;this.clearAllCells(),s(this.history).sort(function(e,t){return e.step-t.step}).forEach(function(o){o.step<=e&&o.positions.forEach(function(n){var i=t.drawCell(n.x,n.y,o.colorIndex);i&&(t.isAutoPlaying&&o.step===e&&(i.scale=0,cc.tween(i).to(.2,{scale:1.2}).to(.1,{scale:1}).start()),i.opacity=255)})})},t.prototype.drawCell=function(e,t,o){if(e<0||e>=this.cols||t<0||t>=this.rows)return null;var n=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)],i=e+","+t,a=this.cellNodes.get(i);if(!a){var r=(a=new cc.Node("Cell")).addComponent(cc.Sprite),s=!1,c=!1,l=o;if((!this.filledSprite[o]||o>=10)&&(s=!0,c=!0),s){if(!this.whiteTex){var u=new Uint8Array([255,255,255,255]),d=new cc.Texture2D;d.initWithData(u,cc.Texture2D.PixelFormat.RGBA8888,1,1),this.whiteTex=new cc.SpriteFrame(d)}r.spriteFrame=this.whiteTex}else r.spriteFrame=this.filledSprite[l];r.sizeMode=cc.Sprite.SizeMode.CUSTOM,a.parent=this.gridContainer,a.width=this.cellSize-0,a.height=this.cellSize-0,a.anchorX=.5,a.anchorY=.5,a.setPosition(this.getCellPosition(e,t)),a.color=c&&n[o]||cc.Color.WHITE,this.cellNodes.set(i,a)}return a},t.prototype.getCellPosition=function(e,t){if(this.needYFlip){var o=this.rows-1-t;return cc.v3(e*this.cellSize+this.cellSize/2,o*this.cellSize+this.cellSize/2,0)}return cc.v3(e*this.cellSize+this.cellSize/2,t*this.cellSize+this.cellSize/2,0)},t.prototype.setupPreviewButton=function(){var e=this;this.previewButton&&this.previewButton.node.on("click",function(){e.autoPlayClick()})},t.prototype.autoPlayClick=function(){this.isAutoPlaying?this.stopPlay():this.startPlay()},t.prototype.startPlay=function(){this.isAutoPlaying=!0,this.currentStep>=this.history.length&&(this.clearAllCells(),this.currentStep=0),this.previewButton&&(this.previewButton.node.color=cc.Color.GREEN),this.playNextStep()},t.prototype.drawStepPosition=function(e,t){var o=this.drawCell(e.x,e.y,t);o&&(o.scale=0,cc.tween(o).to(.2,{scale:1.2}).to(.1,{scale:1}).start(),o.opacity=255),this.isInViewport(e.x,e.y)||this.scrollToCell(e.x,e.y)},t.prototype.playNextStep=function(){var e=this;if(this.isAutoPlaying){var t=s(this.history).sort(function(e,t){return e.step-t.step})[this.currentStep];if(t){for(var o=function(o){n.scheduleOnce(function(){e.drawStepPosition(cc.v2(t.positions[o].x,t.positions[o].y),t.colorIndex)},.05*o)},n=this,i=0;i<t.positions.length;i++)o(i);var a=.05*t.positions.length;this.scheduleOnce(function(){e.currentStep++,e.playNextStep()},a+this.playInterval)}else this.stopPlay()}},t.prototype.drawWithColor=function(e,t){var o=this,n=s(this.drawHistory).sort(function(e,t){return e.step-t.step}),i=n.findIndex(function(t){return t.colorIndex===e});if(-1===i)return cc.warn("\u672a\u627e\u5230\u989c\u8272\u7d22\u5f15 "+e+" \u5bf9\u5e94\u7684\u6b65\u9aa4"),{duration:0,isFinished:!1};var a=n[i],r=a.positions.length;this.activeDrawCount++,this.drawHistory.splice(this.drawHistory.indexOf(a),1);var c=Math.max(1,Math.ceil(r/200)),l=Math.ceil(r/c),u=2/l;cc.log("Drawing",r,"pixels, activeDrawCount:",this.activeDrawCount);for(var d=0,p=0;p<r;p+=c)(function(n,i,s){o.scheduleOnce(function(){for(var i=Math.min(n+c,r),l=n;l<i;l++){var u=a.positions[l];o.drawStepPosition(cc.v2(u.x,u.y),e)}if(s){o.activeDrawCount--;var d=0===o.activeDrawCount&&0===o.drawHistory.length;if(cc.log("Color finished, activeDrawCount:",o.activeDrawCount,"allFinished:",d),t){var p=a.positions[r-1];t(p,d)}}},u*i)})(p,d,p+c>=r),d++;return{duration:u*l,isFinished:0===this.drawHistory.length}},t.prototype.stopPlay=function(){this.isAutoPlaying=!1,this.previewButton&&(this.previewButton.node.color=cc.Color.WHITE)},t.prototype.setupNextStepButton=function(){var e=this;this.nextStepButton&&this.nextStepButton.node.on("click",function(){e.playNextStepManually()})},t.prototype.playNextStepManually=function(){cc.log("playNextStepManually",this.currentStep),this.stopPlay(),this.currentStep++,this.currentStep>this.history.length&&(this.currentStep=1),this.redrawToStep(this.currentStep)},t.prototype.setupPrevStepButton=function(){var e=this;this.prevStepButton&&this.prevStepButton.node.on("click",function(){e.playPrevStepManually()})},t.prototype.playPrevStepManually=function(){this.stopPlay(),this.currentStep--,this.currentStep<1&&(this.currentStep=this.history.length),this.redrawToStep(this.currentStep)},t.prototype.setupLastStepButton=function(){var e=this;this.lastStepButton&&this.lastStepButton.node.on("click",function(){e.jumpToLastStep()})},t.prototype.jumpToLastStep=function(){this.isAutoPlaying||(this.currentStep=this.history.length,this.redrawToStep(this.currentStep))},t.prototype.setupImportButton=function(){var e=this;this.importButton&&this.importButton.node.on("click",function(){e.importJson()})},t.prototype.clearAllCells=function(){this.cellNodes.forEach(function(e){e.destroy()}),this.cellNodes.clear()},t.prototype.loadGridData=function(e){var t=this;if(e&&e.r&&e.c){this.rows=e.r,this.cols=e.c;var o=525/this.cols,n=490/this.rows;this.cellSize=Math.max(o,n),cc.log("Grid size:",this.rows,"x",this.cols,"cellSize:",this.cellSize),cc.log("Scale X:",o,"Scale Y:",n,"Using:",this.cellSize);var i=e.s?e.s.length:0;this.needYFlip=17===i,cc.log("\u6b65\u9aa4\u6570:",i,"\u9700\u8981Y\u8f74\u7ffb\u8f6c:",this.needYFlip)}this.validateJsonData(e)?(this.history=[],e.s.forEach(function(e){t.history.push({positions:e.p.map(function(e){return{x:e[0],y:e[1]}}),colorIndex:e.c,step:e.s})}),this.drawHistory=s(this.history),this.currentStep=0,this.adjustNodeHeight(),this.redrawToStep(this.currentStep),this.resetPaintBoardPosition(),cc.log("this.history",this.history.length)):cc.warn("\u65e0\u6548\u7684JSON\u683c\u5f0f")},t.prototype.resetPaintBoardPosition=function(){var e;if((null===(e=this.gridContainer)||void 0===e?void 0:e.parent)&&this.maskNode){var t=this.maskNode.height,o=this.rows*this.cellSize,n=t-o/2,i=o/2;n=Math.min(n,i),this.gridContainer.parent.y=n,cc.log("minY",n),cc.log("maxY",i)}},t.prototype.validateJsonData=function(e){var t=this;return e?e.s&&Array.isArray(e.s)?e.s.every(function(e,o){return(null==e?void 0:e.p)&&Array.isArray(e.p)?"number"!=typeof e.c||e.c<0||e.c>=t.COLORS_COUNT?(cc.warn("\u6b65\u9aa4 "+o+" \u7684\u989c\u8272\u7d22\u5f15\u65e0\u6548:",e.c),!1):"number"!=typeof e.s?(cc.warn("\u6b65\u9aa4 "+o+" \u7684\u6b65\u9aa4\u53f7\u65e0\u6548:",e.s),!1):e.p.every(function(e,n){if(!Array.isArray(e)||2!==e.length)return cc.warn("\u6b65\u9aa4 "+o+" \u7684\u4f4d\u7f6e "+n+" \u683c\u5f0f\u65e0\u6548:",e),!1;var i=e[0],a=e[1];return!!t.isPointInGrid(i,a)||(cc.warn("\u6b65\u9aa4 "+o+" \u7684\u4f4d\u7f6e "+n+" \u8d85\u51fa\u7f51\u683c\u8303\u56f4: x="+i+", y="+a),!1)}):(cc.warn("\u6b65\u9aa4 "+o+" \u7684\u4f4d\u7f6e\u6570\u636e\u6548:",e),!1)}):(cc.warn("\u6570\u636e\u7f3a\u5c11steps\u6570\u7ec4\u6216\u683c\u9519:",e),!1):(cc.warn("\u6570\u636e\u4e3a\u7a7a"),!1)},t.prototype.isPointInGrid=function(e,t){return e>=0&&e<this.cols&&t>=0&&t<this.rows},t.prototype.importJson=function(){var e=this,t=document.createElement("input");t.type="file",t.accept=".json",t.style.display="none",t.onchange=function(t){var o,n=null===(o=t.target.files)||void 0===o?void 0:o[0];if(n){var i=new FileReader;i.onload=function(t){var o;try{var n=JSON.parse(null===(o=t.target)||void 0===o?void 0:o.result);e.loadGridData(n)}catch(i){cc.warn("JSON\u89e3\u6790\u9519\u8bef:",i)}},i.readAsText(n)}},t.click()},t.prototype.scrollToCell=function(e,t){var o;if((null===(o=this.gridContainer)||void 0===o?void 0:o.parent)&&this.maskNode){var n=this.maskNode.height,i=this.rows*this.cellSize,a=this.gridContainer.parent,r=n-i/2,s=i/2,c=r-(t*this.cellSize-i/2- -r)+n/2;cc.log("targetY",c);var l=Math.max(r,Math.min(s,c));cc.log("clampedTargetY",l),cc.Tween.stopAllByTarget(a),cc.tween(a).to(.2,{position:cc.v3(0,l,0)},{easing:"quartOut"}).start()}},t.prototype.isInViewport=function(e,t){var o;if(!(null===(o=this.gridContainer)||void 0===o?void 0:o.parent)||!this.maskNode)return!0;var n=this.maskNode.height,i=this.rows*this.cellSize,a=this.gridContainer.parent,r=t*this.cellSize-i/2+a.y;return r>=0&&r<=n},t.prototype.getSteps=function(){return this.history},t.prototype.onSaveAsPNG=function(){this.jumpToLastStep(),this.saveAsPNG()},t.prototype.saveAsPNG=function(){var e=new cc.RenderTexture;e.initWithSize(490,490);var t=new cc.Node;t.parent=cc.director.getScene(),t.setContentSize(490,490);var o=this.node.convertToWorldSpaceAR(cc.v2(0,0)),n=t.convertToNodeSpaceAR(o);t.setPosition(n);var i=new cc.Node,a=i.addComponent(cc.Camera);a.clearFlags=cc.Camera.ClearFlags.COLOR,a.backgroundColor=cc.color(0,0,0,0),a.targetTexture=e,t.addChild(i),i.setPosition(0,0,1e3),a.orthoSize=245,a.zoomRatio=3,a.render(this.node);var r=document.createElement("canvas");r.width=490,r.height=490;var s=r.getContext("2d");if(s){for(var l=e.readPixels(),u=s.createImageData(490,490),d=0;d<490;d++)for(var p=0;p<490;p++){var h=4*(490*d+p),f=4*(490*(489-d)+p);u.data[f]=l[h],u.data[f+1]=l[h+1],u.data[f+2]=l[h+2],u.data[f+3]=l[h+3]}s.putImageData(u,0,0);var g=document.createElement("canvas");g.width=196,g.height=196;var v=g.getContext("2d");if(v){v.drawImage(r,0,0,196,196);var y=document.createElement("a");y.download=c.sers().userSrv.getFeibiaoData().level+".png",y.href=g.toDataURL("image/png"),y.click()}}t.destroy(),e.destroy()},i([d(cc.Node)],t.prototype,"gridContainer",void 0),i([d(cc.Button)],t.prototype,"previewButton",void 0),i([d(cc.SpriteFrame)],t.prototype,"filledSprite",void 0),i([d(cc.Button)],t.prototype,"nextStepButton",void 0),i([d(cc.Button)],t.prototype,"lastStepButton",void 0),i([d(cc.Button)],t.prototype,"importButton",void 0),i([d(cc.Node)],t.prototype,"maskNode",void 0),i([d(cc.Node)],t.prototype,"parentNode",void 0),i([d(cc.Button)],t.prototype,"prevStepButton",void 0),i([u],t)}(cc.Component);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem"}],PaintCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"5cb4f2VcstCS7bytyKjvyZd","PaintCtrl");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("OverallSystem"),u=a(e("PaintBoard")),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paintBoard=null,t.prevStepButton=null,t.nextStepButton=null,t.playButton=null,t}return n(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onPaintBoardClick,this)},t.prototype.setPaintBoard=function(e){this.paintBoard=e},t.prototype.onPaintBoardClick=function(e){cc.log("onPaintBoardClick",e),l.mgrs().soundMgr.playBtnSound(),this.paintBoard.autoPlayClick(),this.playButton.node.active=!this.paintBoard.isAutoPlaying},t.prototype.onPrevStepButtonClick=function(){cc.log("onPrevStepButtonClick"),l.mgrs().soundMgr.playBtnSound(),this.paintBoard.playPrevStepManually(),this.playButton.node.active=!this.paintBoard.isAutoPlaying},t.prototype.onNextStepButtonClick=function(){cc.log("onNextStepButtonClick"),l.mgrs().soundMgr.playBtnSound(),this.paintBoard.playNextStepManually(),this.playButton.node.active=!this.paintBoard.isAutoPlaying},i([c(u.default)],t.prototype,"paintBoard",void 0),i([c(cc.Button)],t.prototype,"prevStepButton",void 0),i([c(cc.Button)],t.prototype,"nextStepButton",void 0),i([c(cc.Button)],t.prototype,"playButton",void 0),i([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{OverallSystem:"OverallSystem",PaintBoard:"PaintBoard"}],PathTips:[function(e,t,o){"use strict";cc._RF.push(t,"439f8cRtLRFRJM84T1ksugz","PathTips");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("pageBase")),s=cc._decorator,c=s.ccclass;s.property;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startP=null,t.nodestartp=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.init(),this.node.on(cc.Node.EventType.TOUCH_START,this.Down,this),this.node.on(cc.Node.EventType.TOUCH_END,this.End,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.End,this)},t.prototype.Down=function(e){var t=e.getLocation();this.startP=t,this.nodestartp=this.node.position,this.node.on(cc.Node.EventType.TOUCH_MOVE,this.Move,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.Move,this)},t.prototype.Move=function(e){var t=e.getLocation();this.node.x=this.nodestartp.x+t.x-this.startP.x,this.node.y=this.nodestartp.y+t.y-this.startP.y,this.node.x>375&&(this.node.x=375),this.node.x<-375&&(this.node.x=-375)},t.prototype.End=function(){cc.log("end"),this.node&&(this.node.off(cc.Node.EventType.TOUCH_MOVE,this.Move,this),this.node.off(cc.Node.EventType.MOUSE_MOVE,this.Move,this))},t.prototype.init=function(){},t.prototype.close=function(){this.node.destroy()},t.prototype.onlyClose=function(){this.close()},t.prototype.update=function(){},i([c],t)}(r.default);o.default=l,cc._RF.pop()},{pageBase:"pageBase"}],PifuPageItem:[function(e,t,o){"use strict";cc._RF.push(t,"cf9477eDjxL/LCoyVg+Fx3b","PifuPageItem");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("Loader")),c=a(e("yyComponent")),l=e("GameEventType"),u=e("OverallSystem"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.lockNodebg=null,t.lockNode=null,t.xuanzhong=null,t.leixing="",t.index=0,t}return n(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.on(l.EventType.DirectorEvent.pifugenghuan,this.updataView,this)},t.prototype.setIcon=function(e,t){var o=this;this.leixing=e,this.index=t,s.default.loadBundleRes("home","rank/"+e+"/"+e+t,function(e){if(o&&o.node){var t=o.icon.getComponent(cc.Sprite),n=e.width,i=e.height;o.icon.node.width=n,o.icon.node.height=i,t.spriteFrame=new cc.SpriteFrame(e)}}),this.updataView();var n=u.sers().userSrv.getFeibiaoData().level;[0,1,2,4,6,9,12,15,19,23,27,31,36,41,46,51][this.index-1]<n||1==this.index?(this.lockNode.active=!1,this.lockNodebg.active=!1):(this.lockNode.active=!0,this.lockNodebg.active=!0)},t.prototype.updataView=function(){var e=u.sers().userSrv.getQiqiupifu();e.leixing==this.leixing&&e.index==this.index?(this.xuanzhong.active=!0,this.lockNode.active=!1):this.xuanzhong.active=!1},t.prototype.onTouchStart=function(){if(u.mgrs().soundMgr.playBtnSound(),this.lockNode.active){var e=[0,1,2,4,6,9,12,15,19,23,27,31,36,41,46,51][this.index-1];u.sers().uiSrv.showMessage("\u901a\u8fc7\u7b2c"+e+"\u5173\u89e3\u9501")}else{var t={leixing:this.leixing,index:this.index};u.sers().userSrv.setQiqiupifu(t),r.default.emit(l.EventType.DirectorEvent.pifugenghuan)}},i([h(cc.Sprite)],t.prototype,"icon",void 0),i([h(cc.Node)],t.prototype,"lockNodebg",void 0),i([h(cc.Node)],t.prototype,"lockNode",void 0),i([h(cc.Node)],t.prototype,"xuanzhong",void 0),i([p],t)}(c.default);o.default=f,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],PifuPage:[function(e,t,o){"use strict";cc._RF.push(t,"1e4b2CYdYVNoJ1JVDv8hSSt","PifuPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("OverallSystem"),s=a(e("PifuPageItem")),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u76ae\u80a4\u9009\u62e9",t.item=null,t.scr1=null,t.scrContent1=null,t.listData=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.initGame(),this._init()},t.prototype.initGame=function(){this.scrContent1&&this.scrContent1.removeAllChildren();for(var e=["biaoqing"],t=[16],o=0;o<t.length;o++)for(var n=t[o],i=0;i<n;i++){var a=e[o],r=cc.instantiate(this.item);r.parent=this.scrContent1,r.getComponent(s.default).setIcon(a,i+1)}},t.prototype._init=function(){this.open()},t.prototype.OnBtnConfirm=function(){},t.prototype.OnBtnClose=function(){r.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([d(cc.Node)],t.prototype,"item",void 0),i([d(cc.Node)],t.prototype,"scr1",void 0),i([d(cc.Node)],t.prototype,"scrContent1",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",PifuPageItem:"PifuPageItem",pageBase:"pageBase"}],PlayerDataTemplate:[function(e,t,o){"use strict";cc._RF.push(t,"928dcNN0qBEfK/alOXbqgZM","PlayerDataTemplate"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getData=function(){return{gameData:{curLevel:1,asset:{gold:0,power:10},PlayerSkin:{cur:0,try:-1,owned:[0]}}}},e}();o.default=n,cc._RF.pop()},{}],PlayerData:[function(e,t,o){"use strict";cc._RF.push(t,"17731rPlrhCfrrcoE6j8MsO","PlayerData");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=n(e("EventManager")),a=n(e("PlayerDataTemplate")),r=n(e("GameConfig")),s=e("GameEventType"),c=function(){function e(){}return e.init=function(){this.Data=a.default.getData();var e=cc.sys.localStorage.getItem(r.default.gameName+"PlayerData");e&&(e=JSON.parse(e),this.copyObject(this.Data,e),this.Data.gameData.PlayerSkin.owned.indexOf(0)<0&&this.Data.gameData.PlayerSkin.owned.push(0)),this.resetTrySkin(),this.onEvents()},e.copyObject=function(e,t){for(var o in t)switch(typeof t[o]){case"number":case"boolean":case"string":e[o]=t[o];break;case"object":Array.isArray(t[o])?e[o]=[].concat(t[o]):(null==e[o]&&(e[o]={}),this.copyObject(e[o],t[o]))}},e.onEvents=function(){i.default.on(s.EventType.PlayerDataEvent.updatePlayerData,this.onUpdatePlayerData,this)},e.onUpdatePlayerData=function(e){if(e.attribute.indexOf(".")<0)this.updateData(this.Data,e.attribute,e.value,e.mode);else{for(var t=e.attribute.split("."),o=this.Data,n=0;n<t.length-1;++n){if(null==o[t[n]])return cc.log("\u4fee\u6539\u73a9\u5bb6\u6570\u636e\u5931\u8d25\uff0c\u73a9\u5bb6\u6570\u636e\u672a\u5b9a\u4e49\u5bf9\u5e94\u5c5e\u6027\uff1a"+t[n]),void cc.log(e);o=o[t[n]]}this.updateData(o,t[t.length-1],e.value,e.mode)}this.saveData(),i.default.emit(s.EventType.PlayerDataEvent.playerDataChanged,{type:e.type,attribute:e.attribute,value:this.getData(e.attribute)})},e.updateData=function(e,t,o,n){switch(n){case"+":e[t]+=parseFloat(o);break;case"-":e[t]-=parseFloat(o);break;case"*":e[t]*=parseFloat(o);break;case"=":e[t]=parseFloat(o);break;case"push":e[t].push(o);break;default:cc.log("\u6570\u636e\u4fee\u6539\u5931\u8d25\uff0c\u672a\u5b9a\u4e49\u7684\u6570\u636e\u4fee\u6539\u65b9\u5f0f\uff1a"+n)}},e.getData=function(e){if(!e)return this.Data;if(e.indexOf(".")<0)return this.Data[e];for(var t=e.split("."),o=this.Data,n=0;n<t.length;++n){if(null==o[t[n]])return o;o=o[t[n]]}return o},e.saveData=function(){cc.sys.localStorage.setItem(r.default.gameName+"PlayerData",JSON.stringify(this.Data))},e.addGold=function(e){this.Data.gameData.asset.gold+=e,i.default.emit(s.EventType.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData.asset.gold",value:this.Data.gameData.asset.gold})},e.subGold=function(e){e<=this.Data.gameData.asset.gold?this.Data.gameData.asset.gold-=e:this.Data.gameData.asset.gold=0,i.default.emit(s.EventType.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData.asset.gold",value:this.Data.gameData.asset.gold})},e.getCurSkinId=function(e){var t=this.Data.gameData[e],o=t.try;return-1==o&&(o=t.cur),o},e.unlockSkin=function(e,t){var o=this.Data.gameData[e];o.owned.indexOf(t)>=0||(o.owned.push(t),i.default.emit(s.EventType.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData."+e+".owned",value:o.owned}))},e.setCurSkin=function(e,t){var o=this.Data.gameData[e];o.cur!=t&&(o.cur=t,i.default.emit(s.EventType.PlayerDataEvent.playerDataChanged,{type:"gameData",attribute:"gameData."+e+".cur",value:o.cur}))},e.onTrySkin=function(e,t){this.Data.gameData[e].try=t},e.onTrySkinEnd=function(e){this.Data.gameData[e].try=-1},e.resetTrySkin=function(){var e=this.Data.gameData;for(var t in e)"object"==typeof e[t]&&e[t].try&&(e[t].try=-1)},e.Data={},e}();o.default=c,cc._RF.pop()},{EventManager:"EventManager",GameConfig:"GameConfig",GameEventType:"GameEventType",PlayerDataTemplate:"PlayerDataTemplate"}],PowerManager:[function(e,t,o){"use strict";cc._RF.push(t,"2d80196j/hGILO8GbSMT1Bh","PowerManager");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=e("GameEventType"),a=n(e("EventManager")),r=n(e("GameConfig")),s=function(){function e(){}return e.init=function(){this.data=this.loadOldData(),this.startAutoRecoverPower(),this.onEvents()},e.loadOldData=function(){var e=new c,t=cc.sys.localStorage.getItem(r.default.gameName+"PowerData");return t&&(t=JSON.parse(t),e.curPower=t.curPower,e.lastSaveTime=t.lastSaveTime),e},e.startAutoRecoverPower=function(){var e=this,t=this.data.lastSaveTime,o=Date.now(),n=new Date(t).getDate();if(new Date(o).getDate()>n)this.data.lastSaveTime=o,this.addPower(this.data.maxPower),setInterval(this.recoverPower.bind(this),this.data.recoverPowerInterval,this.data.recoverPowerValue);else{var i=o-t,a=Math.floor(i/this.data.recoverPowerInterval)*this.data.recoverPowerValue,r=i%this.data.recoverPowerInterval;a>0&&(this.data.lastSaveTime=o-r,this.addPower(a)),setTimeout(function(){setInterval(e.recoverPower.bind(e),e.data.recoverPowerInterval,e.data.recoverPowerValue)},r)}},e.recoverPower=function(){this.data.addPower(this.data.recoverPowerValue),this.data.updateLastSaveTime(),this.saveData(),this.emit(i.EventType.AssetEvent.powerChanged,this.data.curPower)},e.onEvents=function(){a.default.on(i.EventType.AssetEvent.consumePower,this.onConsumePower,this),a.default.on(i.EventType.AssetEvent.getPower,this.addPower,this)},e.getData=function(){return{maxPower:this.data.maxPower,curPower:this.data.curPower,totalTime:Math.floor(.001*this.data.recoverPowerInterval),curTime:Math.floor(.001*(Date.now()-this.data.lastSaveTime))}},e.saveData=function(){cc.sys.localStorage.setItem(r.default.gameName+"powerData",JSON.stringify(this.data))},e.addPower=function(e){void 0===e&&(e=1),this.data.addPower(e),this.saveData(),this.emit(i.EventType.AssetEvent.powerChanged,this.data.curPower)},e.subPower=function(e){this.data.subPower(e)&&(this.saveData(),this.emit(i.EventType.AssetEvent.powerChanged,this.data.curPower))},e.onConsumePower=function(e){var t=e.power;null==e.power&&(t=1),this.data.subPower(t)?e.cb&&e.cb():this.tipPowerUnEnough()},e.tipPowerUnEnough=function(){this.emit(i.EventType.AssetEvent.powerUnEnough,this.data.curPower)},e.emit=function(e,t){a.default.emit(e,t)},e.data=null,e}();o.default=s;var c=function(){function e(){this.maxPower=10,this.recoverPowerInterval=3e5,this.recoverPowerValue=1,this.curPower=10,this.lastSaveTime=0,this.curPower=10,this.lastSaveTime=Date.now()}return e.prototype.addPower=function(e){void 0===e&&(e=1),this.curPower+=e,this.curPower>this.maxPower&&(this.curPower=this.maxPower)},e.prototype.subPower=function(e){return!(this.curPower<e||(this.curPower-=e,0))},e.prototype.updateLastSaveTime=function(){this.lastSaveTime=Date.now()},e}();cc._RF.pop()},{EventManager:"EventManager",GameConfig:"GameConfig",GameEventType:"GameEventType"}],RankMgr:[function(e,t,o){"use strict";cc._RF.push(t,"366994CGMlEOJkl2uqfuNHZ","RankMgr");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass;a.property;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cityRankData=[{cityName:"\u6cb3\u5357"},{cityName:"\u5c71\u4e1c"},{cityName:"\u6c5f\u82cf"},{cityName:"\u6cb3\u5317"},{cityName:"\u5b89\u5fbd"},{cityName:"\u5e7f\u4e1c"},{cityName:"\u56db\u5ddd"},{cityName:"\u5c71\u897f"},{cityName:"\u6d59\u6c5f"},{cityName:"\u6e56\u5317"},{cityName:"\u9655\u897f"},{cityName:"\u6e56\u5357"},{cityName:"\u8fbd\u5b81"},{cityName:"\u798f\u5efa"},{cityName:"\u4e91\u5357"},{cityName:"\u8d35\u5dde"},{cityName:"\u65b0\u7586"},{cityName:"\u5317\u4eac"},{cityName:"\u5185\u8499\u53e4"},{cityName:"\u6c5f\u897f"},{cityName:"\u7518\u8083"},{cityName:"\u9ed1\u9f99\u6c5f"},{cityName:"\u5929\u6d25"},{cityName:"\u91cd\u5e86"},{cityName:"\u5409\u6797"},{cityName:"\u5e7f\u897f"},{cityName:"\u5b81\u590f"},{cityName:"\u9999\u6e2f"},{cityName:"\u4e0a\u6d77"},{cityName:"\u6d77\u5357"},{cityName:"\u53f0\u6e7e"},{cityName:"\u897f\u85cf"},{cityName:"\u6fb3\u95e8"},{cityName:"\u9752\u6d77"}],t.pers=["0.084","0.066","0.059","0.058","0.050","0.050","0.045","0.039","0.036","0.034","0.034","0.032","0.030","0.030","0.029","0.028","0.026","0.025","0.023","0.023","0.020","0.020","0.019","0.018","0.017","0.016","0.013","0.011","0.010","0.010","0.010","0.009","0.009","0.009","0.008"],t.seed=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.getRankInfo=function(){var e=new Date,t=e.getHours(),o=e.getMinutes();e.getSeconds();var n=new Date("2024/3/1 00:00:00"),i=(Number(e)-Number(n))/1e3,a=parseInt(String(i/86400));a<0&&(a=0);var r=2e5+2e4*a;r+=2e4/24*t,r+=2e4/24/60*o,r=parseInt(String(r)),this.seed=a+1e4;var s=this.seededRandomRange(700,1200),c=parseInt(String(r*s/1e6));console.log("tnum == succ_num ",r,c);var l=this.cityRankData.slice(0,10),u=this.cityRankData.slice(10,20),d=this.cityRankData.slice(20,30),p=this.cityRankData.slice(30,36);this.shuffleArray(l),this.shuffleArray(u),this.shuffleArray(d),this.shuffleArray(p);for(var h=l.concat(u).concat(d).concat(p),f=0;f<h.length;f++){var g=h[f];g.rank=f+1;var v=Math.floor(c*Number(this.pers[f]));g.university=v*a,g.grade=Math.floor(3.5*g.university)}return{cityRankInfo:h,dau:r,succ_user:c}},t.prototype.seededRandom=function(e,t){return e=e||1,t=t||0,this.seed=(9301*this.seed+49297)%233280,t+this.seed/233280*(e-t)},t.prototype.seededRandomRange=function(e,t){var o=Math.max(e,t),n=Math.min(e,t);return Math.round(this.seededRandom()*(o-n))+n},t.prototype.randomRange=function(e,t){var o=Math.max(e,t),n=Math.min(e,t);return Math.round(Math.random()*(o-n))+n},t.prototype.shuffleArray=function(e){for(var t,o=e.length-1;o>0;o--){var n=Math.floor(this.seededRandom()*(o+1));t=[e[n],e[o]],e[o]=t[0],e[n]=t[1]}},i([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ResourceLoader:[function(e,t,o){"use strict";cc._RF.push(t,"804d8vhRcJDiq9H65lRw9es","ResourceLoader");var n=__awaiter,i=__generator;Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.loadBundle=function(e){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(t,o){var n=cc.assetManager.getBundle(e);n?t(n):cc.assetManager.loadBundle(e,function(n,i){if(n)return cc.error("\u52a0\u8f7d "+e+" bundle\u5931\u8d25:",n),void o(n);t(i)})})]})})},e.prototype.loadBundleAsset=function(e,t,o){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(n,i){e.load(t,o,function(e,o){if(e)return cc.error("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25: "+t,e),void i(e);n(o)})})]})})},e.prototype.loadBundleAssets=function(e,t,o){return n(this,void 0,Promise,function(){var n,a=this;return i(this,function(){return n=t.map(function(t){return a.loadBundleAsset(e,t,o)}),[2,Promise.all(n)]})})},e.prototype.load=function(e,t,o){return n(this,void 0,Promise,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(e)];case 1:return n=i.sent(),[2,this.loadBundleAsset(n,t,o)]}})})},e.prototype.releaseAsset=function(e){e&&(e.decRef(),cc.assetManager.releaseAsset(e))},e.prototype.releaseBundle=function(e){if("string"==typeof e){var t=cc.assetManager.getBundle(e);t&&(t.releaseAll(),cc.assetManager.removeBundle(t))}else e.releaseAll(),cc.assetManager.removeBundle(e)},e.prototype.loadBundleDir=function(e,t,o){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(n,i){e.loadDir(t,o,function(e,o){if(e)return cc.error("\u52a0\u8f7d\u76ee\u5f55\u5931\u8d25: "+t,e),void i(e);n(o)})})]})})},e.prototype.loadDir=function(e,t,o){return n(this,void 0,Promise,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(e)];case 1:return n=i.sent(),[2,this.loadBundleDir(n,t,o)]}})})},e.prototype.preloadBundleAsset=function(e,t,o){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(n,i){e.preload(t,o,function(e){if(e)return cc.error("\u9884\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25: "+t,e),void i(e);n()})})]})})},e.prototype.preloadBundleAssets=function(e,t,o){return n(this,void 0,Promise,function(){var n,a=this;return i(this,function(){return n=t.map(function(t){return a.preloadBundleAsset(e,t,o)}),[2,Promise.all(n).then(function(){})]})})},e.prototype.preloadBundleDir=function(e,t,o){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(n,i){e.preloadDir(t,o,function(e){if(e)return cc.error("\u9884\u52a0\u8f7d\u76ee\u5f55\u5931\u8d25: "+t,e),void i(e);n()})})]})})},e.prototype.preload=function(e,t,o){return n(this,void 0,Promise,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(e)];case 1:return n=i.sent(),[2,this.preloadBundleAsset(n,t,o)]}})})},e.prototype.preloadDir=function(e,t,o){return n(this,void 0,Promise,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(e)];case 1:return n=i.sent(),[2,this.preloadBundleDir(n,t,o)]}})})},e.prototype.preloadAssets=function(e,t,o){return n(this,void 0,Promise,function(){var n;return i(this,function(i){switch(i.label){case 0:return[4,this.loadBundle(e)];case 1:return n=i.sent(),[2,this.preloadBundleAssets(n,t,o)]}})})},e.instance=null,e}();o.default=a,cc._RF.pop()},{}],RopeSegmentManager:[function(e,t,o){"use strict";cc._RF.push(t,"46edc8N7+ZLrYUQQvO6IuLV","RopeSegmentManager");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=n(e("ResourceLoader")),a=function(){function e(){this.segmentPools=new Map}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.getSegment=function(e){this.segmentPools.has(e)||this.segmentPools.set(e,new cc.NodePool);var t=this.segmentPools.get(e);if(t.size()<=0){var o=new cc.Node("RopeSegment"),n=o.addComponent(cc.Sprite),a=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)],r=(cc.color(76,193,251),!1);e>=10&&(r=!0);var s=r?"images/segment/white":"images/segment/"+(e+1);i.default.getInstance().load("Feibiao",s,cc.SpriteFrame).then(function(t){n.spriteFrame=t;var i=cc.Material.getBuiltinMaterial("2d-sprite");if(n.setMaterial(0,i),r){var s=a[e]||cc.Color.WHITE;o.color=s}else o.color=cc.Color.WHITE}),t.put(o)}return t.get()},e.prototype.putSegment=function(e,t){var o=this.segmentPools.get(e);o&&o.put(t)},e.prototype.clearPool=function(e){var t=this.segmentPools.get(e);t&&(t.clear(),this.segmentPools.delete(e))},e.prototype.clearAllPools=function(){this.segmentPools.forEach(function(e){return e.clear()}),this.segmentPools.clear()},e.instance=null,e}();o.default=a,cc._RF.pop()},{ResourceLoader:"ResourceLoader"}],RopeTexture:[function(e,t,o){"use strict";cc._RF.push(t,"5d9fdcB8EpMH71WiAFlhAYL","RopeTexture");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("RopeSegmentManager")),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=-1,t.endX=0,t.endY=-300,t.overlap=28,t.offsetY=-2,t.amplitude=20,t.frequency=2,t.waveCount=1,t.SEGMENT_SIZE=32,t.TWO_PI=2*Math.PI,t.segments=[],t.originalPositions=[],t.segmentCount=0,t.time=0,t.lastAngles=[],t.lastPositions=[],t.SMOOTH_SPEED=.3,t.isMoving=!1,t.moveStartX=0,t.moveStartY=0,t.moveTargetX=0,t.moveTargetY=0,t.moveTime=0,t.moveElapsed=0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.updateEndPoint=function(e,t){var o=cc.v2(e,t).mag(),n=this.SEGMENT_SIZE-this.overlap+this.offsetY,i=Math.ceil(o/n),a=Math.ceil(this.amplitude/n*2),r=Math.max(5,i+a);r!==this.segmentCount&&this.updateSegmentCount(r),this.updateRopeSegments(e,t)},t.prototype.updateSegmentCount=function(e){var t=e-this.segmentCount;if(t>0)for(var o=0;o<t;o++)(n=r.default.getInstance().getSegment(this.type)).parent=this.node,this.segments.push(n);else if(t<0)for(o=0;o<-t;o++){var n;(n=this.segments.pop())&&r.default.getInstance().putSegment(this.type,n)}this.segmentCount=e},t.prototype.updateRopeSegments=function(e,t){var o=this.segments.length;if(this.originalPositions.length!==o){this.originalPositions=new Array(o),this.lastAngles=new Array(o),this.lastPositions=new Array(o);for(var n=0;n<o;n++)this.originalPositions[n]=cc.v2(),this.lastPositions[n]=cc.v2(),this.lastAngles[n]=0}for(n=0;n<o;n++){var i=this.segments[n],a=n/(o-1),r=a*e,s=a*t;if(this.originalPositions[n].x=r,this.originalPositions[n].y=s,i.x=r,i.y=s,n<o-1){var c=(n+1)/(o-1),l=c*e-i.x,u=c*t-i.y,d=180*Math.atan2(u,l)/Math.PI-90;this.lastAngles[n]=cc.misc.lerp(this.lastAngles[n],d,this.SMOOTH_SPEED),i.angle=this.lastAngles[n]}else i.angle=this.lastAngles[n-1]||0}},t.prototype.moveToTarget=function(e,t,o){this.isMoving=!0,this.moveStartX=this.endX,this.moveStartY=this.endY,this.moveTargetX=e,this.moveTargetY=t,this.moveTime=o,this.moveElapsed=0},t.prototype.update=function(e){if(this.isMoving){if(this.moveElapsed+=e,this.moveElapsed>=this.moveTime)this.endX=this.moveTargetX,this.endY=this.moveTargetY,this.isMoving=!1;else{var t=this.moveElapsed/this.moveTime;this.endX=cc.misc.lerp(this.moveStartX,this.moveTargetX,t),this.endY=cc.misc.lerp(this.moveStartY,this.moveTargetY,t)}this.updateEndPoint(this.endX,this.endY)}this.time+=e;var o=this.segments.length;if(0!==o)for(var n=this.time*this.frequency,i=this.TWO_PI*this.waveCount,a=0;a<o;a++){var r=this.segments[a];if(r&&r.active){var s=a/(o-1),c=n+s*i,l=this.originalPositions[a],u=Math.sin(c)*this.amplitude*Math.sin(s*Math.PI);r.x=l.x+u,r.y=l.y}}},t.prototype.destroyByReset=function(){var e=this;this.segments.forEach(function(t){t&&r.default.getInstance().putSegment(e.type,t)}),this.segments=[],this.node.destroy()},t.prototype.easeInOut=function(e){return e<.5?2*e*e:(4-2*e)*e-1},i([l({tooltip:"\u7ec8\u70b9X\u5750\u6807",type:cc.Float,displayName:"\u7ec8\u70b9X"})],t.prototype,"endX",void 0),i([l({tooltip:"\u7ec8\u70b9Y\u5750\u6807",type:cc.Float,displayName:"\u7ec8\u70b9Y"})],t.prototype,"endY",void 0),i([l({tooltip:"\u6bb5\u843d\u4e4b\u95f4\u7684\u91cd\u53e0\u50cf\u7d20\u6570",type:cc.Integer,min:0,max:31,step:1,displayName:"\u91cd\u53e0\u50cf\u7d20"})],t.prototype,"overlap",void 0),i([l({tooltip:"\u6bb5\u843d\u4e4b\u95f4\u7684\u95f4\u8ddd\u504f\u79fb",type:cc.Integer,min:-5,max:5,step:1,displayName:"\u95f4\u8ddd\u5fae\u8c03"})],t.prototype,"offsetY",void 0),i([l({tooltip:"\u6c34\u5e73\u6446\u52a8\u5e45\u5ea6",type:cc.Float,min:0,step:1,displayName:"\u6c34\u5e73\u5e45\u5ea6"})],t.prototype,"amplitude",void 0),i([l({tooltip:"\u6ce2\u6d6a\u9891\u7387",type:cc.Float,min:.1,step:.1,displayName:"\u6446\u52a8\u9891\u7387"})],t.prototype,"frequency",void 0),i([l({tooltip:"\u6ce2\u6d6a\u6570\u91cf",type:cc.Float,min:.1,max:10,step:.1,displayName:"\u6ce2\u6d6a\u6570\u91cf"})],t.prototype,"waveCount",void 0),i([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{RopeSegmentManager:"RopeSegmentManager"}],Rope:[function(e,t,o){"use strict";cc._RF.push(t,"e1372+FurdOH5YLnSucMKUa","Rope");var n,i=__extends,a=__decorate,r=(n=e("ResourceLoader"))&&n.__esModule?n:{default:n};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t._isTouchEnabled=!0,t.isLocked=!1,t.isMoving=!1,t.spriteFrames=[],t.sprite=null,t}i(t,e),Object.defineProperty(t.prototype,"isTouchEnabled",{get:function(){return this._isTouchEnabled},set:function(e){this._isTouchEnabled=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.isTouchEnabled=!0,this.sprite.opacity=0;var e=cc.sequence(cc.delayTime(.45),cc.fadeIn(.25));this.sprite.runAction(e)},t.prototype.setLock=function(e){this.isLocked=e,this.node.opacity=e?0:255},t.prototype.removeFromBoard=function(){this.isTouchEnabled=!1,this.sprite.removeComponent(cc.RigidBody),this.node.opacity=255,this.sprite.angle=0};var o=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)];return cc.color(76,193,251),t.prototype.setType=function(e){this.type=e;var t=e,n=!1;e>=10&&(n=!0),n||this.spriteFrames.length<=t&&(this.spriteFrames.length>5?t=5:this.spriteFrames.length>0&&(t=0));var i=this.sprite.getComponent(cc.Sprite),a=cc.Material.getBuiltinMaterial("2d-sprite");i.setMaterial(0,a);var s=o[e]||cc.Color.WHITE,c=this;n?r.default.getInstance().load("Feibiao","images/operate/white",cc.SpriteFrame).then(function(e){c.sprite&&c.sprite.isValid&&(i.spriteFrame=e,c.sprite.color=s)}).catch(function(){c.spriteFrames.length>5&&c.spriteFrames[5]&&(i.spriteFrame=c.spriteFrames[5]),c.sprite.color=s}):(this.spriteFrames.length>0&&this.spriteFrames[t]&&(i.spriteFrame=this.spriteFrames[t]),this.sprite.color=cc.Color.WHITE);var l=this.sprite.getChildByName("DynamicCap");l||((l=new cc.Node("DynamicCap")).addComponent(cc.Sprite),l.parent=this.sprite,l.zIndex=10,l.setPosition(0,56)),r.default.getInstance().load("Feibiao","images/order/cap_white",cc.SpriteFrame).then(function(e){if(l&&l.isValid){var t=l.getComponent(cc.Sprite);t.spriteFrame=e;var o=cc.Material.getBuiltinMaterial("2d-sprite");t.setMaterial(0,o),l.color=cc.Color.WHITE,l.opacity=255}}).catch(function(){cc.warn("Load cap_white failed")}),this.sprite.angle=-this.node.parent.parent.angle,this.isMoving=!1},t.prototype.moveStart=function(e){this.sprite.angle=0,cc.tween(this.sprite).parallel(cc.tween().sequence(cc.tween().by(.05,{angle:-20}),cc.tween().by(.05,{angle:40}),cc.tween().by(.05,{angle:-20})).repeat(2),cc.tween().to(.3,{scale:0})).call(e).start()},t.prototype.shake=function(){var e=-this.node.parent.parent.angle,t=cc.rotateBy(.05,-10),o=cc.rotateBy(.05,20),n=cc.rotateTo(.05,-e),i=cc.sequence(t,o,n);this.sprite.runAction(i)},t.prototype.onTouchEnd=function(){},a([l([cc.SpriteFrame])],t.prototype,"spriteFrames",void 0),a([l(cc.Node)],t.prototype,"sprite",void 0),a([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{ResourceLoader:"ResourceLoader"}],Scene:[function(e,t,o){"use strict";cc._RF.push(t,"a6cadgXyhlODZdNqgKDZhjQ","Scene");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("GameEventType"),s=a(e("userService")),c=e("OverallSystem"),l=a(e("EventManager")),u=a(e("yyComponent")),d=cc._decorator,p=d.ccclass;d.property;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xiayiguanBtn=null,t.daAn=!1,t.tiShi=!1,t}return n(t,e),t.prototype.start=function(){},t.prototype.showVad=function(e){if(cc.sys.platform==cc.sys.VIVO_GAME){var t=["0afa984540e144498b45b47874e1785d","18978b00f31d4264a3a12be45ede2028"];console.log("\u8fdb\u5165"),setTimeout(function(){if(window.qg&&window.qg.createCustomAd)var e=window.qg.createCustomAd({posId:t[Math.floor(Math.random()*t.length)],style:{top:200}});console.log("\u52a0\u8f7d1"),e.show(),console.log("show")},1e3*(e||1))}},t.prototype.saveData=function(){var e=c.sers().userSrv.getGameLevelData();c.sers().userSrv.getLevel(),c.sers().userSrv.getGameId();var t=c.sers().userSrv.getGuanqiaID();s.default.guanqia[+t]&&e.pass.push({level:s.default.guanqia[+t].level,gameId:s.default.guanqia[+t].gameId}),s.default.guanqia[+t+1]?e.lock.push({level:s.default.guanqia[+t+1].level,gameId:s.default.guanqia[+t+1].gameId}):this.xiayiguanBtn.active=!1,c.sers().userSrv.setGameLevelData(e),l.default.emit(r.EventType.DirectorEvent.updataLevelList),Date.now();var o=c.sers().localStorageSrv.get(s.default.passlevelDate);null!=o&&""!=o||(c.sers().localStorageSrv.set(s.default.passlevelDate,Date.now()),c.sers().userSrv.setpassNumber(0));var n=c.sers().userSrv.getpassNumber();if(n++,c.sers().userSrv.setpassNumber(n),3==n){var i=this;window.tt&&window.tt.checkShortcut&&window.tt.checkShortcut({success:function(e){cc.log("\u68c0\u67e5\u5feb\u6377\u65b9\u5f0f",e.status);var t=e.status;window.tt.getSystemInfo({success:function(e){cc.log("appName:"+e.appName),"Tt_lite"==e.appName||"Toutiao"==e.appName||"xigua"==e.appName||t.exist||c.sers().uiSrv.showtianjiazhuomianPage()},fail:function(){cc.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}})},fail:function(e){cc.log("\u68c0\u67e5\u5feb\u6377\u65b9\u5f0f\u5931\u8d25",e.errMsg),i.emit(r.EventType.DirectorEvent.showCheck)}})}},i([p],t)}(u.default);o.default=h,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",OverallSystem:"OverallSystem",userService:"userService",yyComponent:"yyComponent"}],ScrewGameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"287ebgqdl5F4IFs7anO7uyw","ScrewGameConfig");var n=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass;i.property;var r=function(){function e(){}return e.TargetState=cc.Enum({None:-1,Loading:1,Ready:2,Finish:3}),n([a("ScrewGameConfig")],e)}();o.default=r,cc._RF.pop()},{}],ScrollViewExample:[function(e,t,o){"use strict";cc._RF.push(t,"449d7rytolE0o6w6P0wchAS","ScrollViewExample");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("yyComponent")),s=a(e("RankMgr")),c=a(e("home")),l=a(e("homeRankItem")),u=a(e("rankingList")),d=a(e("rankingObj")),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t.content=null,t.scrollView=null,t.itemHeight=400,t.initCreatorNum=4,t.bottom=200,t.itemsPool=[],t.items=[],t.data=null,t.oldPos=null,t.curTag=-1,t.isMoveTop=!1,t.managerScript=null,t.move=!1,t}return n(t,e),t.prototype.onLoad=function(){this.getDataConfig();for(var e=0;e<this.initCreatorNum;++e){var t=cc.instantiate(this.itemPrefab);this.content.addChild(t),this.itemsPool.push(t),t.active=!1}this.content.height=this.itemHeight*this.data.cityRankInfo.length+this.bottom,this.fillContent(),this.oldPos=this.content.position,this.managerScript=this.node.parent.getComponent(c.default),this.huadong()},t.prototype.getDataConfig=function(){var e=this.node.getComponent(s.default).getRankInfo();this.data=e},t.prototype.fillContent=function(){for(var e=0;e<this.data.cityRankInfo.length&&e<this.initCreatorNum;++e)this.renderItem(e,-this.itemHeight*(.5+e))},t.prototype.renderItem=function(e,t){var o=this.itemsPool.pop();o||(o=cc.instantiate(this.itemPrefab),this.content.addChild(o)),o.setPosition(new cc.Vec3(0,t,0)),o.active=!0,this.items.push(o)},t.prototype.getCurYPos=function(e){return this.itemHeight*e},t.prototype.update=function(){this.huadong()},t.prototype.huadong=function(){var e=this.getCurSuoYinPos();-1==e||e>=this.data.cityRankInfo.length-this.initCreatorNum+1||this.curTag!=e&&(this.renewContentPos(e),this.curTag=e)},t.prototype.renewShow=function(){var e=this;this.scheduleOnce(function(){cc.log("\u66f4\u65b0\u663e\u793a");var t=e.getCurSuoYinPos();e.renewContentPos(t),e.curTag=t})},t.prototype.getCurSuoYinPos=function(){for(var e=this.content.y-this.oldPos.y-300,t=0,o=0;o<this.data.cityRankInfo.length;o++)if(this.getCurYPos(o)<=e&&this.getCurYPos(o+1)>e){t=o;break}return t},t.prototype.renewContentPos=function(e){if(this.curTag<e){var t=this.items.splice(0,1);this.items.push(t[0])}else{var o=this.items.pop();this.items.unshift(o)}var n=null;"content"==this.node.parent.name&&(n=this.node.parent.parent.getComponent(u.default))&&this.data.cityRankInfo.sort(function(e,t){return 1==n.initSelectMode?t.grade-e.grade:2==n.initSelectMode?t.university-e.university:void 0});for(var i=0;i<this.items.length;i++){var a=this.items[i];a.position=cc.v3(0,-this.getCurYPos(i+e)-this.itemHeight/2,0);var r=a.getComponent(l.default);if(null!=r)r&&r.updateContent(this.data,i+e);else{var s=a.getComponent(d.default);s&&n&&s.updateContent1(this.data,i+e,n.initSelectMode)}}null!=this.managerScript&&(this.isInMyDiQuPos(e+1)?this.managerScript.renewDingWeiShow(!0):this.managerScript.renewDingWeiShow(!1))},t.prototype.moveShiTuToPos=function(e){var t=this;if(cc.log("\u5b9a\u4f4d\uff5e\uff01"+e),-1!=e){this.move=!0,e>=this.data.cityRankInfo.length-2&&(e=this.data.cityRankInfo.length-2);var o=e*this.itemHeight+this.oldPos.y,n=cc.v3(0,o,0);this.managerScript.isMoveTop&&(n=cc.v3(0,this.oldPos.y,0)),this.scrollView.stopAutoScroll(),cc.tween(this.content).to(.6,{position:n}).call(function(){t.move=!1}).start()}},t.prototype.isInMyDiQuPos=function(e){return e>=this.data.cityRankInfo.length-5||e==this.managerScript.curDingWei},i([f(cc.Prefab)],t.prototype,"itemPrefab",void 0),i([f(cc.Node)],t.prototype,"content",void 0),i([f(cc.ScrollView)],t.prototype,"scrollView",void 0),i([f({displayName:"\u751f\u6210\u7269\u54c1\u7684\u9ad8"})],t.prototype,"itemHeight",void 0),i([f({displayName:"\u521d\u59cb\u751f\u6210\u7684\u6570\u91cf"})],t.prototype,"initCreatorNum",void 0),i([f({displayName:"\u6ed1\u52a8\u7ec4\u4ef6\u5411\u4e0b\u7684\u5ef6\u4f38\u957f\u5ea6"})],t.prototype,"bottom",void 0),i([h],t)}(r.default);o.default=g,cc._RF.pop()},{RankMgr:"RankMgr",home:"home",homeRankItem:"homeRankItem",rankingList:"rankingList",rankingObj:"rankingObj",yyComponent:"yyComponent"}],SignInItem:[function(e,t,o){"use strict";cc._RF.push(t,"880cefpD7JMZrJ560Wqe8IM","SignInItem");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=a(e("yyComponent")),c=e("GameEventType"),l=e("OverallSystem"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.gameNmae=null,t.yilingqu=null,t.data=null,t}return n(t,e),t.prototype.start=function(){this.on(c.EventType.UIEvent.SignInList,this.updataView,this)},t.prototype.setData=function(e){cc.log(e),this.data=e,this.updataView()},t.prototype.updataView=function(){var e=this;if(this.data){var t=this.data.data,o=this.data.wupinData;this.gameNmae.string="X"+t["\u5956\u52b1\u7269\u54c1\u6570\u91cf"];var n=l.sers().userSrv.getSignInList();this.yilingqu.active=!1,n.list.indexOf(+t.key)>=0&&(this.yilingqu.active=!0);var i=o[t["\u5956\u52b1\u7269\u54c1ID"]]["\u7b7e\u5230\u56fe\u6807\u8def\u5f84"];r.default.loadBundleRes("home","image/"+i,function(t){e&&e.node&&(e.icon.spriteFrame=new cc.SpriteFrame(t))})}},t.prototype.onTouchStart=function(){l.mgrs().soundMgr.playBtnSound()},i([p(cc.Sprite)],t.prototype,"icon",void 0),i([p(cc.Label)],t.prototype,"gameNmae",void 0),i([p(cc.Node)],t.prototype,"yilingqu",void 0),i([d],t)}(s.default);o.default=h,cc._RF.pop()},{GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],SignIn:[function(e,t,o){"use strict";cc._RF.push(t,"74af79AauFH46ntBulmbSbx","SignIn");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("Loader")),c=e("GameEventType"),l=e("OverallSystem"),u=a(e("SignInItem")),d=a(e("pageBase")),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u7b7e\u5230\u9875\u9762",t.item=null,t.scrContent=null,t.qiandaoBtn=null,t.fanbeiqiandaoBtn=null,t.listData=null,t.nowData=null,t.fanbei=!1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.initList(),this._init(),this.initBtn()},t.prototype.initList=function(){var e=this,t="\u9996\u6b21\u7b7e\u5230\u5956\u52b1";l.sers().userSrv.getSignInList().one&&(t="\u5faa\u73af\u7b7e\u5230\u5956\u52b1"),console.log(t),s.default.loadBundleRes("home","json/"+t,function(t){console.log(t.json);var o=t.json;s.default.loadBundleRes("home","json/\u7269\u54c1",function(t){var n=t.json;e&&e.node&&e.initGame(o,n)})})},t.prototype.initBtn=function(){var e=(new Date).getTime(),t=l.sers().userSrv.getSignInList();if(t.lastTime){var o=this.isSameDay(e,t.lastTime);this.qiandaoBtn.interactable=!o,this.fanbeiqiandaoBtn.interactable=!o,console.log("\u662f\u5426\u53ef\u7b7e\u5230"+!o),!o&&t.list.length>=7&&(t.list=[],t.one=!0,l.sers().userSrv.setSignInList(t),this.initList())}},t.prototype.initGame=function(e,t){var o=l.sers().userSrv.getSignInList();for(var n in this.fanbei=!1,e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n],a=this.scrContent.children[+n-1];if(a){i.key=n;var r={data:i,wupinData:t};a.getComponent(u.default).setData(r),o.list.indexOf(+n)<0&&!this.nowData&&(this.nowData=r,"1001"==this.nowData.data["\u5956\u52b1\u7269\u54c1ID"]?this.fanbeiqiandaoBtn.node.active=!0:this.fanbeiqiandaoBtn.node.active=!1)}}},t.prototype._init=function(){this.open()},t.prototype.isSameDay=function(e,t){var o=new Date(e),n=new Date(t);return o.getFullYear()===n.getFullYear()&&o.getMonth()===n.getMonth()&&o.getDate()===n.getDate()},t.prototype.OnBtnConfirm=function(){},t.prototype.fabeiqian=function(){var e=this;l.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){e.fanbei=!0,e.qiandao()},function(){},null,{scene:"\u7b7e\u5230",event:"\u7ffb\u500d\u7b7e\u5230"},"common_video")},t.prototype.qiandao=function(){l.mgrs().soundMgr.playBtnSound();var e=l.sers().userSrv.getSignInList();e.lastTime=(new Date).getTime(),e.list.push(+this.nowData.data.key),window.tt||window.wx||(e.lastTime=1),l.sers().userSrv.setSignInList(e);var t=this.nowData.data,o=this.nowData.wupinData;if("1001"==t["\u5956\u52b1\u7269\u54c1ID"]){var n=+t["\u5956\u52b1\u7269\u54c1\u6570\u91cf"];this.fanbei&&(n*=5),l.sers().userSrv.addCoin(n),l.sers().uiSrv.showMessage("\u83b7\u5f97"+o[t["\u5956\u52b1\u7269\u54c1ID"]]["\u7269\u54c1\u540d\u79f0"]+"X"+n)}else{var i=l.sers().userSrv.getZhutiData();i.push(o[t["\u5956\u52b1\u7269\u54c1ID"]]["\u50a8\u5b58"]),i.push("3_2"),l.sers().userSrv.setZhutiData(i),l.sers().uiSrv.showMessage("\u83b7\u5f97"+o[t["\u5956\u52b1\u7269\u54c1ID"]]["\u7269\u54c1\u540d\u79f0"]+"X"+t["\u5956\u52b1\u7269\u54c1\u6570\u91cf"])}r.default.emit(c.EventType.UIEvent.SignInList),this.initBtn(),window.tt||window.wx||(cc.log("init"),this.nowData=null,this.initList(),this.initBtn())},t.prototype.OnBtnClose=function(){l.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([f(cc.Node)],t.prototype,"item",void 0),i([f(cc.Node)],t.prototype,"scrContent",void 0),i([f(cc.Button)],t.prototype,"qiandaoBtn",void 0),i([f(cc.Button)],t.prototype,"fanbeiqiandaoBtn",void 0),i([h],t)}(d.default);o.default=g,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",SignInItem:"SignInItem",pageBase:"pageBase"}],SkinDataTemplate:[function(e,t,o){"use strict";cc._RF.push(t,"cec75Y9SuBJYrbytpwfqGsc","SkinDataTemplate"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getData=function(){return{1:{id:1,model:"Cube",skin:"1",itemUrl:"1",price:200,displayUrl:"",name:""}}},e}();o.default=n,cc._RF.pop()},{}],TargetMgr:[function(e,t,o){"use strict";cc._RF.push(t,"09df4BxJNdOtqCQXBYXNHTh","TargetMgr");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=a(e("Rope")),u=a(e("ScrewGameConfig")),d=a(e("Target")),p=a(e("TmpNodeManager")),h=a(e("TmpRope")),f=a(e("PaintBoard")),g=a(e("RopeTexture")),v=e("OverallSystem");function y(e){var t=e.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{}),o=Math.max.apply(Math,Object.values(t));return Object.keys(t).filter(function(e){return t[parseInt(e)]===o}).map(Number)}function m(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unlockCount=2,t.easyCount=0,t.targetsNode=null,t.levelRoot=null,t.targetPrefab=null,t.ropePrefab=null,t.tmpNodeMgr=null,t.paintBoard=null,t.progressBar=null,t.progressLabel=null,t.feibiao=null,t.data=[],t.targets=[],t.totalTargetCount=0,t.targetPos=[],t}return n(t,e),t.prototype.start=function(){cc.game.on("btn_add_tmp",this.onUnlockTmp,this),cc.game.on("remove_board",this.onRemoveBoard,this),cc.game.on("btn_clear_tmp",this.onClearTmp,this),cc.game.on("unlock_2",this.onUnlock,this),cc.game.on("unlock_1",this.onUnlock,this),this.progressBar.progress=.01,this.feibiao=this.node.parent.getComponent("Feibiao")},t.prototype.setData=function(e,t){this.data=e,this.totalTargetCount=e.length,cc.log("this.data targetMgr",this.data),this.targets=[],this.initTarget(),this.gamePlay=t},t.prototype.getProgress=function(){return(this.totalTargetCount-this.data.length)/this.totalTargetCount},t.prototype.updateProgressByColors=function(){var e=this.paintBoard.history.length,t=e-this.paintBoard.drawHistory.length,o=e>0?t/e:0;this.progressBar.progress=Math.min(o,1),this.progressLabel.string=(100*o).toFixed(0)+"%"},t.prototype.initTarget=function(){for(var e=0;e<this.targetsNode.children.length;e++){var t=this.targetsNode.children[e].position;this.targetPos[e]=t}for(e=0;e<this.unlockCount;e++){var o=this.getNextTarget();o>=0?this.handleTargetGeneration(e,o):cc.log("\u6240\u6709\u76ee\u6807\u5df2\u7ecf\u51fa\u5b8c")}},t.prototype.handleTargetGeneration=function(e,t){var o=this.targetPos[e],n=cc.instantiate(this.targetPrefab);n.position=cc.v3(o.x-750,o.y,0),n.parent=this.targetsNode,n.zIndex=10-e;var i=n.getComponent(d.default);i.initWithType(t),i.posIndex=e,this.targets.push(i),this.animateTargetEntry(n,o,i)},t.prototype.animateTargetEntry=function(e,t,o){var n=this;cc.tween(e).to(.3,{position:cc.v3(t.x,t.y,0)},{easing:"quadOut"}).call(function(){o.state=u.default.TargetState.Ready,n.checkTemporarySlot(),n.checkGameOver("handleTargetGeneration")}).start()},t.prototype.handleRopeAnimation=function(e,t){for(var o=function(o){cc.tween(t.node).delay(.05*o).call(function(){t.moveToTarget(e[o].x,e[o].y,.05)}).start()},n=0;n<e.length;n++)o(n)},t.prototype.findMatchingTarget=function(e,t){return void 0===t&&(t=!0),this.targets.find(function(o){return o.targetCount>0&&o.type===e.type&&(!t||o.state===u.default.TargetState.Ready)})||null},t.prototype.fillOrder=function(e,t,o){var n=this;void 0===o&&(o=20);var i=t.sub(),a=t.isFinish();this.operateObjAnimation(e,i,function(){a?n.checkTargetFinish(t):n.checkTemporarySlot()},o)},t.prototype.createRopeNode=function(e,t,o){void 0===o&&(o=20);var n=cc.instantiate(this.ropePrefab);this.levelRoot.addChild(n,cc.macro.MAX_ZINDEX);var i=n.getComponent(g.default);i.type=t,i.amplitude=o,i.updateEndPoint(0,0);var a=this.convertToNodeSpaceAR(e,n.parent);return n.position=a,i},t.prototype.convertToNodeSpaceAR=function(e,t){var o=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(o)},t.prototype.checkTargetFinish=function(e){var t=this;if(cc.log("checkTargetFinish",e.targetCount),e.isFinish()){cc.log("finish"),this.targets=this.targets.filter(function(t){return t!==e});var o=this.createRopeNode(e.node,e.type),n=this.paintBoard.drawWithColor(e.type,function(e,n){var i=t.paintBoard.getCellPosition(e.x,e.y),a=t.paintBoard.gridContainer.convertToWorldSpaceAR(i),r=o.node.convertToNodeSpaceAR(a);o.moveToTarget(r.x,r.y,.05),v.mgrs().soundMgr.playEffect("merge_4","Feibiao",!1,.05),v.sers().platformSrv.platformApi.vibrateShort(!1),o.destroyByReset(),t.updateProgressByColors(),n&&t.scheduleOnce(function(){t.feibiao.cleanUpBoard&&t.feibiao.cleanUpBoard(),t.feibiao.pass()},.5)}),i=n.duration,a=n.isFinished;cc.log("isFinish",a),e.showFinishAnimation(i,function(){cc.tween(e.node).by(.3,{position:cc.v3(-750,0,0)},{easing:"quadIn"}).call(function(){t.easyCount>0?(t.easyCount--,t.tmpNodeMgr.getFreeSlotCount()<=2?t.setTargetWithTmpMore():t.setTargetWithTopBoard()):t.getProgress()<.5?t.tmpNodeMgr.getFreeSlotCount()<=2?t.setTargetWithTmpMore():t.setTargetWithTopBoard(1):t.getProgress()<.7&&t.setTargetWithTopBoard(2);var o=t.getNextTarget();o>=0?(v.mgrs().soundMgr.playSound("\u9556\u9776\u66f4\u63622"),t.handleTargetGeneration(e.posIndex,o)):(t.checkGameOver("checkTargetFinish"),cc.log("\u6240\u6709\u76ee\u6807\u5df2\u7ecf\u51fa\u5b8c"))}).removeSelf().start()})}},t.prototype.checkTemporarySlot=function(){for(var e=0;e<this.tmpNodeMgr.activeSlotCount;e++)if(n=this.tmpNodeMgr.tmpContents[e]){var t=this.findMatchingTarget(n);if(!n.isAnimated&&t)return this.tmpNodeMgr.tmpContents[e]=null,void this.fillOrder(n,t,5)}for(var o=this.tmpNodeMgr.hideTmpNode.children.length-1;o>=0;o--){var n,i=(n=this.tmpNodeMgr.hideTmpNode.children[o]).getComponent(h.default);if(t=this.findMatchingTarget(i))return void this.fillOrder(i,t,5)}},t.prototype.isAnyMatched=function(){for(var e=0;e<this.tmpNodeMgr.activeSlotCount;e++)if((o=this.tmpNodeMgr.tmpContents[e])&&(n=this.findMatchingTarget(o,!1)))return cc.log("isAnyMatched1",n.type,o.type),n;for(var t=this.tmpNodeMgr.hideTmpNode.children.length-1;t>=0;t--){var o,n,i=(o=this.tmpNodeMgr.hideTmpNode.children[t]).getComponent(h.default);if(n=this.findMatchingTarget(i,!1))return cc.log("isAnyMatched2",n.type,i.type),n}return null},t.prototype.getNextTarget=function(){for(var e=[],t=0;t<this.targets.length;t++){var o=this.targets[t];e.push(o.type)}for(t=0;t<this.data.length;t++)if(o=this.data[t],!e.includes(o))return this.data.splice(t,1),o;return this.data.length<=0?-1:this.data.shift()},t.prototype.setTargetWithTmpMore=function(){for(var e=[],t=0;t<this.tmpNodeMgr.activeSlotCount;t++){var o=this.tmpNodeMgr.tmpContents[t];o&&e.push(o.type)}var n=y(e);if(n.length<=0)return-1;for(var i=n[0],a=0;a<this.data.length;a++){var r=this.data[a];if(r==i)return m(this.data,0,a),r}return-1},t.prototype.setTargetWithTopBoard=function(e){void 0===e&&(e=2);var t=y(this.gamePlay.getTopObjs(e));if(t.length<=0)return-1;for(var o=t[0],n=0;n<this.data.length;n++){var i=this.data[n];if(i==o)return m(this.data,0,n),i}return-1},t.prototype.pushObjToTemp=function(e){var t=this,o=this.tmpNodeMgr.getEmptyIndex();if(-1!=o){var n=this.tmpNodeMgr.pushObjToTemp(e,o);this.operateObjAnimation(e,n.node,function(){n.isAnimated=!1,t.checkTemporarySlot(),t.checkGameOver("onRemoveScrew")})}},t.prototype.isTmpFull=function(){return this.tmpNodeMgr.isFull()},t.prototype.isOrderAnimating=function(){for(var e=0;e<this.targets.length;e++)if((t=this.targets[e]).state==u.default.TargetState.Loading)return t;for(e=0;e<this.targets.length;e++){var t;if(0==(t=this.targets[e]).targetCount)return t}return null},t.prototype.checkGameOver=function(e){cc.log("checkGameOver",e),this.isTmpFull()?this.data.length>0&&this.targets.length<this.unlockCount?cc.log("\u8fd8\u6709\u672a\u7ed3\u675f\u7684\u76ee\u6807"):this.isOrderAnimating()?cc.log("\u8fd8\u6709\u8ba2\u5355\u52a8\u753b"):this.isAnyMatched()?cc.log("\u8fd8\u6709\u5339\u914d\u7684"):this.feibiao.gameOver():cc.log("\u8fd8\u6709\u7a7a\u69fd")},t.prototype.onTouchOperateObj=function(e){if(this.isTmpFull())v.sers().uiSrv.showMessage("The slot is full, cannot continue to put in");else{var t=this.findMatchingTarget(e);t?this.fillOrder(e,t):this.pushObjToTemp(e)}},t.prototype.canUnlock=function(){return this.unlockCount>=4},t.prototype.onUnlock=function(){if(cc.log("onUnlock"),!(this.unlockCount>=4)){var e=4-this.unlockCount;this.targetsNode.getChildByName("unlock_"+e).active=!1,this.setTargetWithTmpMore(),this.setEasyCountMax();var t=this.getNextTarget();t>=0?this.handleTargetGeneration(this.unlockCount,t):cc.log("\u6240\u6709\u76ee\u6807\u5df2\u7ecf\u51fa\u5b8c"),v.mgrs().soundMgr.playSound("jiesuo"),this.unlockCount++}},t.prototype.onUnlockTmp=function(){this.tmpNodeMgr.onUnlockTmp()},t.prototype.onRemoveBoard=function(e){for(var t=e.objsNode.children.length-1;t>=0;t--){var o=e.objsNode.children[t].getComponent(l.default);o.node.parent=null,this.tmpNodeMgr.pushToHideTmp(o)}this.checkTemporarySlot()},t.prototype.onClearTmp=function(){var e=this;this.scheduleOnce(function(){e.tmpNodeMgr.clearTmp(function(){e.setEasyCountMax(),v.mgrs().soundMgr.playSound("dianji02")})},.5)},t.prototype.canClear=function(){return this.tmpNodeMgr.canClear()},t.prototype.setEasyCountMax=function(){this.feibiao.level<=8?this.easyCount=4:this.easyCount=2},t.prototype.operateObjAnimation=function(e,t,o,n){void 0===n&&(n=20),cc.Tween.stopAllByTarget(e.node);var i=this.createRopeNode(e.node,e.type,n),a=this.convertToNodeSpaceAR(t,i.node),r=[cc.v3(a.x-20,a.y,0),cc.v3(a.x,a.y+20,0),cc.v3(a.x,a.y-20,0),cc.v3(a.x+10,a.y+20,0),cc.v3(a.x+10,a.y-20,0),cc.v3(a.x+20,a.y+20,0),cc.v3(a.x+20,a.y-20,0)];this.handleRopeAnimation(r,i),e.removeFromBoard(),e.node.position=i.node.position,e.node.parent=this.levelRoot,e.node.zIndex=cc.macro.MAX_ZINDEX,e.moveStart(function(){var t=Math.floor(3*Math.random())+1;v.mgrs().soundMgr.playEffect("merge_"+t,"Feibiao",!1,.1),i.destroyByReset(),e.node.parent=null,o()})},i([c(cc.Node)],t.prototype,"targetsNode",void 0),i([c(cc.Node)],t.prototype,"levelRoot",void 0),i([c(cc.Prefab)],t.prototype,"targetPrefab",void 0),i([c(cc.Prefab)],t.prototype,"ropePrefab",void 0),i([c(p.default)],t.prototype,"tmpNodeMgr",void 0),i([c(f.default)],t.prototype,"paintBoard",void 0),i([c(cc.ProgressBar)],t.prototype,"progressBar",void 0),i([c(cc.Label)],t.prototype,"progressLabel",void 0),i([s],t)}(cc.Component);o.default=_,cc._RF.pop()},{OverallSystem:"OverallSystem",PaintBoard:"PaintBoard",Rope:"Rope",RopeTexture:"RopeTexture",ScrewGameConfig:"ScrewGameConfig",Target:"Target",TmpNodeManager:"TmpNodeManager",TmpRope:"TmpRope"}],Target:[function(e,t,o){"use strict";cc._RF.push(t,"378c1xrjLFGjKCYHyN3XLdD","Target");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("ResourceLoader")),s=a(e("ScrewGameConfig")),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=-1,t.posIndex=-1,t.targetCount=3,t.sprite=null,t.capSpr=null,t.holeNode=null,t.state=0,t}n(t,e),t.prototype.onLoad=function(){this.type=-1},t.prototype.sub=function(){if(this.targetCount<=0)return null;this.targetCount--;var e=this.holeNode.children[this.targetCount];return e.active=!0,this.targetAnmation(e),e},t.prototype.targetAnmation=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=255);for(var n=e.children.length-1;n>=0;n--){var i=e.children[n];i.opacity=t,cc.tween(i).delay(.1*(e.children.length-n)).to(.2,{opacity:o}).start()}};var o=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)];return cc.color(76,193,251),t.prototype.initWithType=function(e){var t=this;this.targetCount=3,this.type=e,this.state=s.default.TargetState.Loading;var n=e,i=!1;e>=10&&(i=!0);var a=o[e]||cc.Color.WHITE,c=cc.Material.getBuiltinMaterial("2d-sprite");if(i){var l=[r.default.getInstance().load("Feibiao","images/order/white",cc.SpriteFrame),r.default.getInstance().load("Feibiao","images/order/white-2",cc.SpriteFrame),r.default.getInstance().load("Feibiao","images/order/white-3",cc.SpriteFrame)];Promise.all(l).then(function(e){var o,n,i=e[0],r=e[1],s=e[2];t.sprite.spriteFrame=i,t.capSpr.spriteFrame=r,t.sprite.setMaterial(0,c),t.capSpr.setMaterial(0,c),t.sprite.node.color=a,t.capSpr.node.color=a;for(var l=0;l<t.holeNode.children.length;l++){var u=t.holeNode.children[l];u.active=!1;for(var d=0;d<u.children.length;d++){var p=u.children[d],h=p.getComponent(cc.Sprite);h&&(h.spriteFrame=s,h.setMaterial(0,c),p.color=a,p.opacity=0,o=p,n=d,cc.tween(o).delay(.1*n).to(.2,{opacity:255}).start())}}var f=t.node.getComponent(cc.Sprite);f&&(f.setMaterial(0,c),t.node.color=a)}).catch(function(e){cc.warn("Target initWithType load failed:",e)})}else l=[r.default.getInstance().load("Feibiao","images/order/"+(n+1),cc.SpriteFrame),r.default.getInstance().load("Feibiao","images/order/"+(n+1)+"-2",cc.SpriteFrame),r.default.getInstance().load("Feibiao","images/order/"+(n+1)+"-3",cc.SpriteFrame)],Promise.all(l).then(function(e){var o,n,i=e[0],a=e[1],r=e[2];t.sprite.spriteFrame=i,t.capSpr.spriteFrame=a,t.sprite.setMaterial(0,c),t.capSpr.setMaterial(0,c),t.sprite.node.color=cc.Color.WHITE,t.capSpr.node.color=cc.Color.WHITE;for(var s=0;s<t.holeNode.children.length;s++){var l=t.holeNode.children[s];l.active=!1;for(var u=0;u<l.children.length;u++){var d=l.children[u],p=d.getComponent(cc.Sprite);p&&(p.spriteFrame=r,p.setMaterial(0,c),d.color=cc.Color.WHITE,d.opacity=0,o=d,n=u,cc.tween(o).delay(.1*n).to(.2,{opacity:255}).start())}}var h=t.node.getComponent(cc.Sprite);h&&(h.setMaterial(0,c),t.node.color=cc.Color.WHITE)}).catch(function(e){cc.warn("Target initWithType load failed:",e)})},t.prototype.showOne=function(e){this.holeNode.children[e].active=!0},t.prototype.isFinish=function(){return 0===this.targetCount},t.prototype.showFinishAnimation=function(e,t){for(var o=this.holeNode.children,n=e/(o.length*o[0].children.length),i=0,a=0;a<o.length;a++)for(var r=o[a],s=function(e){var a=r.children[e];a.opacity=255;var s=i===o.length*r.children.length-1;cc.tween(a).delay(i*n).to(.2,{opacity:0}).call(function(){s&&t()}).start(),i++},c=0;c<r.children.length;c++)s(c)},t.prototype.updateView=function(e){void 0===e&&(e=3),this.targetCount=e,cc.log(this.targetCount);for(var t=0;t<3;t++){var o=this.holeNode.children[t];t>=this.targetCount?o.active=!0:o.active=!1}},i([u(cc.Sprite)],t.prototype,"sprite",void 0),i([u(cc.Sprite)],t.prototype,"capSpr",void 0),i([u(cc.Node)],t.prototype,"holeNode",void 0),i([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{ResourceLoader:"ResourceLoader",ScrewGameConfig:"ScrewGameConfig"}],TimePlugIn:[function(e,t,o){"use strict";cc._RF.push(t,"4e1f3N825hCKaCvOq8Pc2Gi","TimePlugIn");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.PREVIOUS_PLAY_DATE_STORAGE_KEY=o.LAST_PALY_DATE_STORAGE_KEY=o.PREVIOUS_PLAY_TIME_STORAGE_KEY=o.LAST_PALY_TIME_STORAGE_KEY=void 0;var i=n(e("OverallSystem"));o.LAST_PALY_TIME_STORAGE_KEY="Last-Play-Time",o.PREVIOUS_PLAY_TIME_STORAGE_KEY="Previous-Play-Time",o.LAST_PALY_DATE_STORAGE_KEY="Last-Play-Date",o.PREVIOUS_PLAY_DATE_STORAGE_KEY="Previous-Play-Date";var a=function(){function e(){this.dateObj=new Date,this.lastPlayTime=void 0,this.previousPlayTime=void 0,this.lastPlayDate=void 0,this.OldlastPlayDate=void 0,this.previousPlayDate=void 0,this.scheduler=void 0,this.oneSecondsCBMap={},console.log("TimePlugIn");var e=i.default.Servers.localStorageSrv.get(o.LAST_PALY_TIME_STORAGE_KEY);null!=e&&""!=e?(this.previousPlayTime=JSON.parse(e),i.default.Servers.localStorageSrv.set(o.PREVIOUS_PLAY_TIME_STORAGE_KEY,JSON.stringify(this.previousPlayTime)),console.log("this.lastPlayTime :",this.timeFabricToString(this.previousPlayTime))):(this.lastPlayTime=this.getNowTime(),i.default.Servers.localStorageSrv.set(o.LAST_PALY_TIME_STORAGE_KEY,JSON.stringify(this.lastPlayTime)));var t=i.default.Servers.localStorageSrv.get(o.LAST_PALY_DATE_STORAGE_KEY);null!=t&&""!=e?(this.previousPlayDate=JSON.parse(t),this.OldlastPlayDate=this.previousPlayDate,this.lastPlayDate=Date.now()):this.previousPlayDate=this.lastPlayDate=this.OldlastPlayDate=Date.now(),i.default.Servers.localStorageSrv.set(o.LAST_PALY_DATE_STORAGE_KEY,JSON.stringify(this.lastPlayDate)),i.default.Servers.localStorageSrv.set(o.PREVIOUS_PLAY_DATE_STORAGE_KEY,JSON.stringify(this.previousPlayDate)),this.scheduler=cc.director.getScheduler(),this.scheduler.enableForTarget(this),this.scheduler.scheduleUpdate(this,cc.Scheduler.PRIORITY_SYSTEM,!1),this.scheduler.schedule(this.updateOneSeconds,this,1)}return e.prototype.getPreviousPlayTime=function(){return this.previousPlayTime?this.previousPlayTime:null},e.prototype.getPreviousPlayDate=function(){return this.previousPlayDate},e.prototype.getPreviousPlayDate2=function(){return this.OldlastPlayDate},e.prototype.getNowTime=function(){return{year:this.dateObj.getFullYear(),month:this.dateObj.getMonth()+1,date:this.dateObj.getDate(),hours:this.dateObj.getHours(),minutes:this.dateObj.getMinutes(),seconds:this.dateObj.getSeconds(),millisecondes:this.dateObj.getMilliseconds(),day:this.dateObj.getDay()}},e.prototype.timeFabricToString=function(e){return e.year+"\u5e74/"+e.month+"\u6708/"+e.date+"\u65e5/"+e.hours+"\u65f6/"+e.minutes+"\u5206/"+e.seconds+"\u79d2/"+e.millisecondes+"\u6beb\u79d2/\u661f\u671f"+e.day},e.prototype.updateLastPlayTime=function(){this.lastPlayTime=this.getNowTime(),i.default.Servers.localStorageSrv.set(o.LAST_PALY_TIME_STORAGE_KEY,JSON.stringify(this.lastPlayTime)),this.lastPlayDate=Date.now(),i.default.Servers.localStorageSrv.set(o.LAST_PALY_DATE_STORAGE_KEY,JSON.stringify(this.lastPlayDate))},e.prototype.setScheduleOneSeconds=function(e,t){this.oneSecondsCBMap[e]=t},e.prototype.deleteScheduleOneSeconds=function(e){delete this.oneSecondsCBMap[e]},e.prototype.updateOneSeconds=function(){for(var e in this.updateLastPlayTime(),this.oneSecondsCBMap)this.oneSecondsCBMap[e]&&this.oneSecondsCBMap[e]()},e.prototype.update=function(){this.dateObj=new Date},e.prototype.numberShiftTime=function(e,t){void 0===t&&(t=!1);var o="",n=e%60,i=(e-n)/60,a=0;return i>59&&(a=(i-(i%=60))/60),a<=0?t&&(o="00:"):o=(a>9?""+a:"0"+a)+":",(o=i>0?t?o+(i>9?""+i:"0"+i)+":":""==o?(i>9?""+i:"0"+i)+":":o+(i>9?""+i:"0"+i)+":":t?o+(i>9?""+i:"0"+i)+":":""==o?"00:":o+"00:")+(n>0?n>9?""+n:"0"+n:"00")},e.compareTime=function(e,t,o){for(var n in e)if(e.hasOwnProperty(n)){if("day"==n)continue;var i=e[n],a=t[n],r=Math.max(i,a)-Math.min(i,a);if(!o[n]&&r>0)return!0;if(o[n]&&r>=o[n])return!0;if(o[n]&&r<o[n])return!1}return!1},e}(),r=null;o.default=function(){return null==r&&(r=new a),r},cc._RF.pop()},{OverallSystem:"OverallSystem"}],TintWhiteMaterial:[function(e,t,o){"use strict";cc._RF.push(t,"d0a0bbULadCvazCg0fnuPBH","TintWhiteMaterial"),Object.defineProperty(o,"__esModule",{value:!0});var n={_material:null,getMaterial:function(){if(this._material)return this._material;try{if(cc.Material&&cc.Material.createWithBuiltin){var e=cc.Material.createWithBuiltin("2d-sprite",0);return this._material=e,e}}catch(t){cc.warn("TintWhiteMaterial: Failed to create material",t)}return cc.Material.getBuiltinMaterial("2d-sprite")},applyToSprite:function(e,t,o){if(e&&e.node){o=o||cc.color(76,193,251);var n=this.calculateCompensatedColor(t,o),i=cc.Material.getBuiltinMaterial("2d-sprite");e.setMaterial(0,i),e.node.color=n}else cc.warn("TintWhiteMaterial: Invalid sprite")},calculateCompensatedColor:function(e,t){var o=function(e,t){if(0===t)return 255;var o=Math.round(255*e/t);return Math.min(255,Math.max(0,o))},n=o(e.r,t.r),i=o(e.g,t.g),a=o(e.b,t.b);return cc.color(n,i,a,e.a||255)},applySimpleTint:function(e,t){if(e&&e.node){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.setMaterial(0,o),e.node.color=t}else cc.warn("TintWhiteMaterial: Invalid sprite")}};o.default=n,t.exports=n,cc._RF.pop()},{}],TipMessage:[function(e,t,o){"use strict";cc._RF.push(t,"4d506dl8/9EMr0OarXUxadG","TipMessage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("yyComponent")),s=e("GameEventType"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msg=null,t.tipNode=null,t.action=null,t}return n(t,e),t.prototype.onLoad=function(){this.init()},t.prototype.init=function(){this.tipNode=this.node,this.action=cc.sequence(cc.delayTime(1),cc.fadeOut(.5),cc.callFunc(this.onFadeOut,this)),this.setMsg(""),this.onEvents(),this.hide()},t.prototype.onEvents=function(){this.on(s.EventType.UIEvent.showTip,this.show,this)},t.prototype.reset=function(){this.tipNode.active=!0,this.tipNode.stopAllActions(),this.tipNode.opacity=0},t.prototype.show=function(e){this.reset(),this.node.active=!0,this.setMsg(e),this.scheduleOnce(this.play.bind(this),0)},t.prototype.hide=function(){this.node.active=!1},t.prototype.setMsg=function(e){this.msg.string=e},t.prototype.play=function(){this.tipNode.opacity=255,this.tipNode.runAction(this.action)},t.prototype.onFadeOut=function(){this.hide()},i([u(cc.Label)],t.prototype,"msg",void 0),i([l],t)}(r.default);o.default=d,cc._RF.pop()},{GameEventType:"GameEventType",yyComponent:"yyComponent"}],TmpNodeManager:[function(e,t,o){"use strict";cc._RF.push(t,"6e56cjd8yxES5h+U7nonBnF","TmpNodeManager");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("OverallSystem"),s=a(e("TmpRope")),c=cc._decorator,l=c.ccclass,u=c.property,d=7,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tmpsNode=null,t.hideTmpNode=null,t.tmpPrefab=null,t.shadowNode=null,t.leftNode=null,t.rightNode=null,t.tmpContents=new Array(d).fill(null),t.activeSlotCount=5,t}return n(t,e),t.prototype.isFull=function(){for(var e=0;e<this.activeSlotCount;e++)if(!this.tmpContents[e])return!1;return!0},t.prototype.getFreeSlotCount=function(){return this.activeSlotCount-this.tmpContents.filter(function(e){return null!==e}).length},t.prototype.getEmptyIndex=function(){for(var e=0;e<this.activeSlotCount;e++)if(!this.tmpContents[e])return e;return-1},t.prototype.pushObjToTemp=function(e,t){if(-1!==t){var o=cc.instantiate(this.tmpPrefab);o.parent=this.tmpsNode.children[t];var n=o.getComponent(s.default);return n.setType(e.type),this.tmpContents[t]=n,cc.log("\u653e\u5230\u69fd\u91cc"),n}},t.prototype.pushToHideTmp=function(e){var t=cc.instantiate(this.tmpPrefab);t.parent=this.hideTmpNode,t.getComponent(s.default).setType(e.type,!1)},t.prototype.onUnlockTmp=function(){this.activeSlotCount>=d?r.sers().uiSrv.showMessage("Cannot add more slots"):(this.tmpsNode.children[this.activeSlotCount].active=!0,this.activeSlotCount++,this.tmpsNode.getComponent(cc.Layout).updateLayout(),this.shadowNode.width=this.tmpsNode.width+100,this.leftNode.x=-this.tmpsNode.width/2-15,this.rightNode.x=this.tmpsNode.width/2+15,r.mgrs().soundMgr.playSound("jiesuo"))},t.prototype.clearTmp=function(e){for(var t=0;t<this.activeSlotCount;t++)this.tmpContents[t]&&(this.tmpContents[t].node.parent=this.hideTmpNode,this.tmpContents[t]=null);e&&e()},t.prototype.canClear=function(){return this.tmpContents.slice(0,this.activeSlotCount).some(function(e){return null!==e})},i([u(cc.Node)],t.prototype,"tmpsNode",void 0),i([u(cc.Node)],t.prototype,"hideTmpNode",void 0),i([u(cc.Prefab)],t.prototype,"tmpPrefab",void 0),i([u(cc.Node)],t.prototype,"shadowNode",void 0),i([u(cc.Node)],t.prototype,"leftNode",void 0),i([u(cc.Node)],t.prototype,"rightNode",void 0),i([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",TmpRope:"TmpRope"}],TmpRope:[function(e,t,o){"use strict";cc._RF.push(t,"b0df12GNzVMep8QwsriRSqt","TmpRope");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("ResourceLoader")),s=cc._decorator,c=s.ccclass;s.property;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=-1,t.isAnimated=!1,t}n(t,e),t.prototype.start=function(){};var o=[cc.color(255,160,87),cc.color(164,73,253),cc.color(255,72,196),cc.color(254,78,88),cc.color(253,235,80),cc.color(76,193,251),cc.color(74,101,250),cc.color(83,251,69),cc.color(69,252,239),cc.color(115,43,49),cc.color(255,105,180),cc.color(255,215,0),cc.color(138,43,226),cc.color(0,128,128),cc.color(255,99,71),cc.color(50,205,50),cc.color(255,182,193),cc.color(70,130,180),cc.color(255,140,0),cc.color(147,112,219)];return cc.color(76,193,251),t.prototype.setType=function(e,t){void 0===t&&(t=!0),this.type=e;var n=e,i=!1;e>=10&&(i=!0);for(var a=o[e]||cc.Color.WHITE,s=cc.Material.getBuiltinMaterial("2d-sprite"),c=function(e){var t=l.node.children[e],o=t.getComponent(cc.Sprite),c=i?"images/tmp/white":"images/tmp/"+(n+1);r.default.getInstance().load("Feibiao",c,cc.SpriteFrame).then(function(n){o.spriteFrame=n,o.setMaterial(0,s),t.color=i?a:cc.Color.WHITE,t.opacity=0,cc.tween(t).delay(.1*e).to(.2,{opacity:255}).start()})},l=this,u=0;u<this.node.children.length;u++)c(u);this.isAnimated=t},t.prototype.removeFromBoard=function(){},t.prototype.moveStart=function(e){cc.log("tmp rope moveStart"),cc.tween(this.node).to(.3,{scale:.2}).call(function(){e()}).start()},i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{ResourceLoader:"ResourceLoader"}],TrajectoryController:[function(e,t,o){"use strict";cc._RF.push(t,"f6752Sj+ypPqbJiEZVp/w7z","TrajectoryController");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ropeController=null,t.ropeControllerComp=null,t}return n(t,e),t.prototype.onLoad=function(){this.ropeController?(this.ropeControllerComp=this.ropeController.getComponent("RopeTexture"),this.ropeControllerComp?this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this):cc.error("\u672a\u627e\u5230RopeController\u7ec4\u4ef6\uff01")):cc.error("\u672a\u8bbe\u7f6e\u7ef3\u5b50\u63a7\u5236\u5668\u8282\u70b9\uff01")},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this)},t.prototype.onMouseMove=function(e){if(this.ropeControllerComp){var t=e.getLocation(),o=this.ropeController.convertToNodeSpaceAR(t);this.ropeControllerComp.updateEndPoint(o.x,o.y)}},i([s({type:cc.Node,tooltip:"\u7ef3\u5b50\u63a7\u5236\u5668\u8282\u70b9",displayName:"\u7ef3\u5b50\u63a7\u5236\u5668"})],t.prototype,"ropeController",void 0),i([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Tujian:[function(e,t,o){"use strict";cc._RF.push(t,"1d5e2XyiLtLRZThv5kK8NXE","Tujian");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=e("OverallSystem"),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=[40,40,40,40],h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u56fe\u9274",t.list=null,t.listItem=null,t.progressNode=null,t.num=null,t.tabNode=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;r.default.loadBundle("newTujian",function(){if(e.node&&e.node.parent){var t=s.sers().userSrv.getFeibiaoData().level,o=1,n=0;t<=p[0]+p[1]&&t>p[0]&&(o=2,n=p[0]),t<=p[0]+p[1]+p[2]&&t>p[0]+p[1]&&(o=3,n-=p[0]+p[1]),t<=p[0]+p[1]+p[2]+p[3]&&t>p[0]+p[1]+p[2]&&(o=4,n=p[0]+p[1]+p[2]),e.loadingJson(o,n),e.tabNode.node.children[o-1].getComponent(cc.Toggle).check()}},!0,!0),this.node.opacity=0,this.scheduleOnce(function(){e.node.scale=.01,cc.tween(e.node).parallel(cc.tween(e.node).to(.15,{opacity:255}),cc.tween(e.node).to(.2,{scale:1},cc.easeBackOut()),cc.tween(e.node).by(.2,{y:0})).start()})},t.prototype.loadingJson=function(e,t){var o=this;void 0===e&&(e=1),void 0===t&&(t=40),e>4&&(e=4),r.default.loadBundleRes("newTujian","json/\u56fe\u9274"+e,function(n){n&&o.node&&o.node.parent&&o.initList(n.json,e,t)})},t.prototype.initList=function(e,t,o){var n=this;cc.log("------initList",Object.keys(e));var i=[],a=[];for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l=e[c],u=l["\u63cf\u8ff0"];t<4&&(u=l["\u7269\u54c1\u540d\u79f0"]),a.push(u),i.push({"\u7269\u54c1\u540d\u79f0":u,"\u661f\u7ea7":l["\u661f\u7ea7"],"\u8d44\u6e90\u8def\u5f84":l["\u8d44\u6e90\u8def\u5f84"],"\u63cf\u8ff0":l["\u63cf\u8ff0"]})}cc.log(JSON.stringify(a)),cc.log(i),s.sers().userSrv.getTujianData();var d=s.sers().userSrv.getFeibiaoData().level;this.list.removeAllPages();var p=.8;t>3&&(p=1);for(var h=function(t){var a=f.list.getPages()[t];a||(a=cc.instantiate(f.listItem),f.list.addPage(a)),a.active=!0;for(var s=function(s){if(t+s+o<d)a.getChildByName(""+s).active=!0,a.getChildByName(""+s).getChildByName("name").getComponent(cc.Label).string=i[t+s-1]["\u7269\u54c1\u540d\u79f0"],a.getChildByName(""+s).getChildByName("zhufu").getComponent(cc.Label).string=i[t+s-1]["\u63cf\u8ff0"],a.getChildByName(""+s).getChildByName("zhufu").getComponent(cc.Label).string="",r.default.loadBundleRes("newTujian","/"+i[t+s-1]["\u8d44\u6e90\u8def\u5f84"],function(e){if(e&&n.node&&n.node.parent){var t=a.getChildByName(""+s).getChildByName("candy"),o=e.width,i=e.height,r=o;i>r&&(r=i);var c=200/r*p;t.scale=c,t.width=o,t.height=i,t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}}),f.list.setCurrentPageIndex(Math.floor((t+s-1)/4));else{if(t+s>Object.values(e).length)return a.getChildByName(""+s).active=!1,"break";r.default.loadBundleRes("newTujian","/"+i[t+s-1]["\u8d44\u6e90\u8def\u5f84"],function(e){if(e&&n.node&&n.node.parent){var t=a.getChildByName(""+s).getChildByName("candy"),o=e.width,i=e.height,r=o;i>r&&(r=i);var c=220/r*p;t.scale=c,t.width=o,t.height=i,t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e),t.color=new cc.Color(68,68,68)}}),a.getChildByName(""+s).active=!0,a.getChildByName(""+s).getChildByName("name").active=!1,a.getChildByName(""+s).getChildByName("zhufu").active=!1,a.getChildByName(""+s).getChildByName("unLock").active=!0,a.getChildByName(""+s).getChildByName("zhufu").getComponent(cc.Label).string=""}},c=1;c<=4&&"break"!==s(c);c++);},f=this,g=0;g<Object.values(e).length;g+=4)h(g);var v=d-o,y=v>0?v-1:0;this.progressNode.progress=y/i.length;var m=Math.min(y,i.length);this.num.string="Collection Progress: "+m+"/"+i.length},t.prototype.tabSelect=function(e){var t=this.tabNode.toggleItems.indexOf(e);cc.log(t);for(var o=0,n=0;n<t;n++)o+=p[n];this.loadingJson(t+1,o)},t.prototype.onBtnLeft=function(){s.mgrs().soundMgr.playBtnSound(),this.list.setCurrentPageIndex(this.list.getCurrentPageIndex()-1)},t.prototype.onBtnRight=function(){s.mgrs().soundMgr.playBtnSound(),this.list.setCurrentPageIndex(this.list.getCurrentPageIndex()+1)},t.prototype.OnBtnClose=function(){s.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([d(cc.PageView)],t.prototype,"list",void 0),i([d(cc.Node)],t.prototype,"listItem",void 0),i([d(cc.ProgressBar)],t.prototype,"progressNode",void 0),i([d(cc.Label)],t.prototype,"num",void 0),i([d(cc.ToggleContainer)],t.prototype,"tabNode",void 0),i([u],t)}(c.default);o.default=h,cc._RF.pop()},{Loader:"Loader",OverallSystem:"OverallSystem",pageBase:"pageBase"}],TyOverPage:[function(e,t,o){"use strict";cc._RF.push(t,"39b69mwwc1O6oy4ZeMoQcaJ","TyOverPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Coin_fly_to_wallet")),s=a(e("uiService")),c=e("OverallSystem"),l=a(e("pageBase")),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u901a\u7528\u5931\u8d25\u9875",t.passNode=null,t.passNode2=null,t.lossNode=null,t.caiNode=null,t.bgkuang=null,t.moshi=1,t.starsNumber=200,t.huodejinbi=45,t.show=!1,t}return n(t,e),t.prototype.setCloseDoFun=function(e){this.colseDoFun=e},t.prototype.start=function(){this._init()},t.prototype._init=function(){this.open()},t.prototype.initData=function(e){var t=this;cc.log(e),this.moshi=e.newgame,this.passNode.active=e.pass,this.lossNode.active=!e.pass,e.pass||(this.bgkuang.opacity=0,this.lossNode.getChildByName("icon").active=!1,this.lossNode.getChildByName("btnNode").active=!1,this.lossNode.active=!1,this.caiNode.active=!0,this.lossNode.getChildByName("jinbishu").children[0].getComponent(cc.Label).string="x"+this.huodejinbi,this.scheduleOnce(function(){t.lossNode.active=!0,t.caiNode.active=!1,t.bgkuang.opacity=255,t.node.getChildByName("bg").opacity=150,t.lossNode.getChildByName("icon").active=!0,t.lossNode.getChildByName("btnNode").active=!0},2)),e.pass&&(e.starsNumber&&(this.huodejinbi=+Math.floor(e.starsNumber/10)||1,this.starsNumber=e.starsNumber,this.passNode.getChildByName("jinbishu").children[0].getComponent(cc.Label).string="x"+this.huodejinbi),this.passNode.getChildByName("jinbishu").children[0].getComponent(cc.Label).string="x"+this.huodejinbi,e.passPage2&&(this.passNode.active=!1,this.caiNode.active=!0,this.bgkuang.opacity=0,this.scheduleOnce(function(){t.bgkuang.opacity=255,t.caiNode.active=!1,t.passNode.active=!1,t.passNode2.active=!0,t.passNode2.getChildByName("jinbishu").children[0].getComponent(cc.Label).string="x0",t.passNode.getChildByName("title").active=!1;var o=t.passNode2.getChildByName("xinjilu");o.active=e.xinjilu,o.scale=1.2,cc.tween(o).delay(.5).to(.2,{scale:.8}).to(.1,{scale:1}).start(),t.passNode2.getChildByName("xx").children[0].getComponent(cc.Label).string="x"+t.starsNumber,t.scheduleOnce(function(){t.node.getComponent(r.default).playAnim(e.starsNumber>20?20:e.starsNumber),t.scheduleOnce(function(){t.passNode2.getChildByName("xx").children[0].getComponent(cc.Label).string="x0",t.passNode2.getChildByName("jinbishu").children[0].getComponent(cc.Label).string="x"+t.huodejinbi},1.5)})},2)),c.sers().userSrv.addCoin(this.huodejinbi)),this.touzi()},t.prototype.fanbei=function(e){var t=this,o=this.passNode.getChildByName("touzi"),n=this.passNode2.getChildByName("touzi");o.stopAllActions(),n.stopAllActions();var i=e.currentTarget;c.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){var e=t.passNode.getChildByName("touzi");e.stopAllActions(),t.passNode2.getChildByName("touzi").stopAllActions();var o=2,n=Math.abs(e.x);n<42.5?o=5:n<92.5?o=4:n<152.5&&(o=3),i.getComponent(cc.Button).interactable=!1,t.show=!0,c.sers().userSrv.addCoin(t.huodejinbi*o-t.huodejinbi),c.sers().uiSrv.showMessage("\u83b7\u5f97"+t.huodejinbi*o+"\u91d1\u5e01")},function(){},function(){t.touzi()},{scene:"\u6e38\u620f\u7ed3\u675f\u9875\u9762",event:"\u91d1\u5e01\u7ffb\u500d"},"common_video")},t.prototype.tiqianlingqu=function(e){var t=this,o=e.currentTarget;c.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){var e=t.passNode.getChildByName("touzi");e.stopAllActions(),t.passNode2.getChildByName("touzi").stopAllActions(),t.lossNode.getChildByName("touzi").stopAllActions();var n=2,i=Math.abs(e.x);i<42.5?n=5:i<92.5?n=4:i<152.5&&(n=3),o.getComponent(cc.Button).interactable=!1,c.sers().userSrv.addCoin(t.huodejinbi*n),c.sers().uiSrv.showMessage("\u83b7\u5f97"+t.huodejinbi*n+"\u91d1\u5e01")},function(){},function(){t.touzi()},{scene:"\u6e38\u620f\u7ed3\u675f\u9875\u9762",event:"\u63d0\u524d\u9886\u53d6"},"common_video")},t.prototype.touzi=function(){var e=this.passNode.getChildByName("touzi"),t=this.passNode2.getChildByName("touzi"),o=this.lossNode.getChildByName("touzi");e.stopAllActions(),t.stopAllActions(),o.stopAllActions(),cc.tween(e).to(.5,{x:222.5}).to(.5,{x:0}).to(.5,{x:-222.5}).to(.5,{x:0}).union().repeatForever().start(),cc.tween(t).to(.5,{x:222.5}).to(.5,{x:0}).to(.5,{x:-222.5}).to(.5,{x:0}).union().repeatForever().start(),cc.tween(o).to(.5,{x:222.5}).to(.5,{x:0}).to(.5,{x:-222.5}).to(.5,{x:0}).union().repeatForever().start()},t.prototype.share=function(){c.sers().platformSrv.platformApi.shareAppMessage()},t.prototype.newGame=function(){if(this.show||(this.show=!0,c.sers().uiSrv.showMessage("\u83b7\u5f97"+this.huodejinbi+"\u91d1\u5e01")),c.mgrs().soundMgr.playBtnSound(),2!=this.moshi&&3!=this.moshi){if(c.sers().userSrv.power<=0)return void c.sers().uiSrv.showUserGetPowerPage();c.sers().userSrv.addPower(-1)}c.mgrs().gameMgr.enterMode(this.moshi)},t.prototype.restartGame=function(){if(c.mgrs().soundMgr.playBtnSound(),2!=this.moshi&&3!=this.moshi){if(c.sers().userSrv.power<=0)return void c.sers().uiSrv.showUserGetPowerPage();c.sers().userSrv.addPower(-1)}c.mgrs().gameMgr.enterMode(this.moshi)},t.prototype.open=function(){s.default.openPageBasicAni(this.showNode,!0).then(function(){}).catch(function(){})},t.prototype.close=function(){var e=this;c.sers().platformSrv.platformApi.hideBanner(),this.closeAni().then(function(){c.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()}).catch()},t.prototype.onlyClose=function(){var e=this;this.closeAni().then(function(){c.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()}).catch()},t.prototype.OnBtnClose=function(){c.mgrs().soundMgr.playBtnSound(),c.mgrs().gameMgr.backHomePage(),this.close(),cc.log("OnBtnClose")},t.prototype.backIndex=function(){this.OnBtnClose()},t.prototype.closeAni=function(e){return void 0===e&&(e=!1),s.default.closePageBasicAni(this.showNode,e)},t.prototype.update=function(){var e=this.passNode.getChildByName("touzi"),t=this.passNode.getChildByName("touzi"),o=this.lossNode.getChildByName("touzi"),n=2,i=Math.abs(e.x);i<42.5?n=5:i<92.5?n=4:i<152.5&&(n=3),this.passNode.getChildByName("btnLayout").getChildByName("fanbei").children[0].children[1].getComponent(cc.Label).string=n+"\u500d\u9886\u5956";var a=2,r=Math.abs(t.x);r<42.5?a=5:r<92.5?a=4:r<152.5&&(a=3),this.passNode2.getChildByName("btnLayout").getChildByName("fanbei").children[0].children[1].getComponent(cc.Label).string=a+"\u500d\u9886\u5956";var s=2,c=Math.abs(o.x);c<42.5?s=5:c<92.5?s=4:c<152.5&&(s=3),this.lossNode.getChildByName("btnNode").getChildByName("fanbei").children[0].children[1].getComponent(cc.Label).string="\u63d0\u524d"+s+"\u500d\u9886\u5956"},i([p(cc.Node)],t.prototype,"passNode",void 0),i([p(cc.Node)],t.prototype,"passNode2",void 0),i([p(cc.Node)],t.prototype,"lossNode",void 0),i([p(cc.Node)],t.prototype,"caiNode",void 0),i([p(cc.Node)],t.prototype,"bgkuang",void 0),i([d],t)}(l.default);o.default=h,cc._RF.pop()},{Coin_fly_to_wallet:"Coin_fly_to_wallet",OverallSystem:"OverallSystem",pageBase:"pageBase",uiService:"uiService"}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"ed044EM18pI5pzNljS+PePp","UIManager");var n=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var i=e("GameEventType"),a=n(e("Loader")),r=n(e("EventManager")),s=function(){function e(){}return e.init=function(e){this.node=e,this.UIs={},this.onEvents()},e.onEvents=function(){r.default.on(i.EventType.UIEvent.enter,this.enterUI,this),r.default.on(i.EventType.UIEvent.exit,this.exitUI,this)},e.getUI=function(e){return this.UIs[e]?this.UIs[e]:(console.warn("UI\u5c1a\u672a\u52a0\u8f7d\uff0c\u65e0\u6cd5\u83b7\u53d6\uff1a",e),null)},e.enterUI=function(e,t){var o=this.UIs[e];null!==o&&(o?this.showUI(e,t):this.loadUI(e,t))},e.showUI=function(e,t){var o=this.UIs[e];o&&(o.show(t),r.default.emit(i.EventType.UIEvent.entered,e))},e.loadUI=function(e,t){var o=this,n=cc.find("Canvas").getComponentInChildren(e);n?(this.UIs[e]=n,this.showUI(e,t)):a.default.loadRes("myGame/Prefab/UI/"+e,function(n){if(!n)return o.UIs[e]=null,void console.error("\u8981\u663e\u793a\u7684\u754c\u9762\u9884\u5236\u4e0d\u5b58\u5728\uff1a",e);var i=cc.instantiate(n);o.node.getChildByName(e).addChild(i);var a=i.getComponent(cc.Widget);a&&a.updateAlignment();var r=i.getComponent(cc.Layout);r&&r.updateLayout();var s=i.getComponent(e);s.init(),o.UIs[e]=s,o.showUI(e,t)})},e.exitUI=function(e){var t=this.UIs[e];t&&(t.hide(),r.default.emit(i.EventType.UIEvent.exited,e))},e}();o.default=s,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader"}],Yinsi:[function(e,t,o){"use strict";cc._RF.push(t,"14823htYPFPo74sfKEHW+hU","Yinsi");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("http_request")),s=a(e("userService")),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tishiLabel=null,t.url="https://changshazhise01-1254961065.cos.ap-guangzhou.myqcloud.com/zhise/oppo/test_email.json",t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){r.default.getInstance().get(this.url,null,this.show.bind(this))},t.prototype.show=function(e){var t=this,o=e;console.log(o);var n="";for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var a=o[i],r="";if(a.style&&a.style.bold)if(a.test instanceof Array){for(var c="",l=0,u=a.test;l<u.length;l++)c+=u[l];r="<b>"+c+"</b>"}else r="<b>"+a.text+"</b>";else if(a.test instanceof Array){c="";for(var d=0,p=a.test;d<p.length;d++)c+=p[d];r=""+c}else r=""+a.text;n+=r}n=(n=n.replace(/company/gi,s.default.vivoSDKdata.zs_company)).replace(/email/gi,"email:"+s.default.vivoSDKdata.zs_postbox),t.tishiLabel.string=n,t.scheduleOnce(function(){t.tishiLabel.node.parent.height=t.tishiLabel.node.height})},i([d(cc.RichText)],t.prototype,"tishiLabel",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{http_request:"http_request",pageBase:"pageBase",userService:"userService"}],Zhuawawa:[function(e,t,o){"use strict";cc._RF.push(t,"a6e4baEUw5Ngb6NBC7R97SX","Zhuawawa");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("OverallSystem"),s=a(e("pageBase")),c=cc._decorator,l=c.ccclass;c.property;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u6293\u5a03\u5a03",t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;this.node.opacity=0,this.scheduleOnce(function(){e.node.scale=.01,cc.tween(e.node).parallel(cc.tween(e.node).to(.15,{opacity:255}),cc.tween(e.node).to(.2,{scale:1},cc.easeBackOut()),cc.tween(e.node).by(.2,{y:0})).start()});var t=r.sers().userSrv.getWawajiData();t.select=0,r.sers().userSrv.setWawajiData(t)},i([l],t)}(s.default);o.default=u,cc._RF.pop()},{OverallSystem:"OverallSystem",pageBase:"pageBase"}],bundleManager:[function(e,t,o){"use strict";cc._RF.push(t,"2d9b5Z/nPZBu4ehcV7oPOfg","bundleManager");var n=__extends,i=__awaiter,a=__generator,r=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var s=function(e){function t(){var t=e.call(this)||this;return t._managerName="bundle\u7ba1\u7406",t.length=0,t.bundList={frameBundle:null,soundBundle:null,home:null,loadingPage:null,Feibiao:null},t.bundleLoadList=["frameBundle","soundBundle","loadingPage","Feibiao","home"],t._Initialize(),t}return n(t,e),t.prototype._Initialize=function(){for(var t in e.prototype._Initialize.call(this),this.bundleLoadList)this.length++},t.prototype.getLength=function(){return this.length},Object.defineProperty(t.prototype,"BundleList",{get:function(){return this.bundList},enumerable:!1,configurable:!0}),t.prototype.loadAllBundle=function(e){return i(this,void 0,void 0,function(){var t,o,n,i;return a(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:return t<this.bundleLoadList.length?(o=this.bundleLoadList[t],n=this.bundList,i=o,[4,this.loadOnceBundle(o,o)]):[3,4];case 2:n[i]=a.sent(),e&&e(),console.debug(o),a.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.loadOnceBundle=function(e,t){return new Promise(function(o,n){var i={};cc.assetManager.loadBundle(e,i,function(a,r){if(a)return console.error("bundle (name:"+t+"path :"+e+") \u52a0\u8f7d\u51fa\u9519!!",a),void cc.assetManager.loadBundle(e,i,function(i,a){if(i)return console.error("bundle (name:"+t+"path :"+e+") \u52a0\u8f7d\u51fa\u95192!!",i),void n(null);o(a)});o(r)})})},t}(r(e("frameNamespace")).default.ManagerBase);o.default=s,cc._RF.pop()},{frameNamespace:"frameNamespace"}],checkScene:[function(e,t,o){"use strict";cc._RF.push(t,"99c82vmWKRN3Itf5qexxflK","checkScene");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("yyComponent")),c=e("GameEventType"),l=e("OverallSystem"),u=cc._decorator,d=u.ccclass;u.property;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){var e=this;this.show(),r.default.on(c.EventType.UIEvent.showCheckSceneBtn,function(){e&&e.node&&e.show()},this)},t.prototype.show=function(){if(window.tt&&window.tt.checkScene&&!l.sers().userSrv.getCheckScene()){var e=this;window.tt.checkScene({scene:"sidebar",success:function(t){console.log("check scene success: ",t.isExist),t.isExist||(e.node.parent=null)},fail:function(t){console.log("check scene fail:",t),e.node.parent=null}})}else if(window.ks&&window.ks.checkCommonUse){var t=this;window.ks.checkCommonUse({success:function(e){console.log("\u8bbe\u4e3a\u5e38\u7528\u67e5\u8be2\u7ed3\u679c\u4e3a\uff1a"+e.isCommonUse),e.isCommonUse&&(t.node.parent=null)},fail:function(e){-10005===e.code?console.log("\u6682\u4e0d\u652f\u6301\u8be5\u529f\u80fd"):console.log("\u8bbe\u4e3a\u5e38\u7528\u67e5\u8be2\u5931\u8d25",e.msg)}})}else this.node.parent=null},t.prototype.showCebianlan=function(){if(l.mgrs().soundMgr.playBtnSound(),window.ks&&window.ks.checkCommonUse){var e=this;window.ks.addCommonUse({success:function(){console.log("\u8bbe\u4e3a\u5e38\u7528\u6210\u529f"),e.node.parent=null},fail:function(e){-10005===e.code?console.log("\u6682\u4e0d\u652f\u6301\u8be5\u529f\u80fd"):console.log("\u8bbe\u4e3a\u5e38\u7528\u5931\u8d25",e.msg)}})}else l.sers().uiSrv.showPage("cebianlan","cebianlan")},i([d],t)}(s.default);o.default=p,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],crazyGamesApi:[function(e,t,o){"use strict";cc._RF.push(t,"9bb3dSR4qtI/qfYEGSQ98q+","crazyGamesApi");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0});var i=e("OverallSystem"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sdkAvailable=!1,t.wasPlayingMusic=!1,t}return n(t,e),t.prototype.validAppId=function(){console.log("CrazyGames API - validAppId called")},t.prototype.ready=function(){console.log("CrazyGames API initializing..."),this.sdkAvailable=void 0!==window.CrazyGames&&void 0!==window.CrazyGames.SDK,this.sdkAvailable?console.log("CrazyGames SDK loaded successfully"):console.warn("CrazyGames SDK not available - running in dev mode")},t.prototype.loadAndShowVideoAd=function(t,o,n){var i=this;if(!this.sdkAvailable||!window.CrazyGames||!window.CrazyGames.SDK)return console.warn("CrazyGames SDK not available - skipping ad"),t&&t(),void(n&&n());var a={adStarted:function(){console.log("Rewarded ad started"),i.pauseGame()},adFinished:function(){console.log("Rewarded ad finished"),i.resumeGame(),t&&t(),n&&n()},adError:function(e,t){console.error("Rewarded ad error",e,t),i.resumeGame(),o&&o(e),n&&n()}};try{window.CrazyGames.SDK.ad.requestAd("rewarded",a)}catch(e){console.error("Failed to request rewarded ad:",e),i.resumeGame(),o&&o(e),n&&n()}},t.prototype.showInsertAd=function(t,o){var n=this;if(!this.sdkAvailable||!window.CrazyGames||!window.CrazyGames.SDK)return console.warn("CrazyGames SDK not available - skipping ad"),void(t&&t());var i={adStarted:function(){console.log("Midgame ad started"),n.pauseGame()},adFinished:function(){console.log("Midgame ad finished"),n.resumeGame(),t&&t()},adError:function(e,t){console.error("Midgame ad error",e,t),n.resumeGame(),o&&o(e)}};try{window.CrazyGames.SDK.ad.requestAd("midgame",i)}catch(e){console.error("Failed to request midgame ad:",e),n.resumeGame(),o&&o(e)}},t.prototype.pauseGame=function(){cc.director.pause();var e=i.mgrs().soundMgr;e&&(this.wasPlayingMusic=e.isPlayMusic,e.pauseMusic&&e.pauseMusic(),e.pauseAllEffects&&e.pauseAllEffects()),console.log("Game paused for ad")},t.prototype.resumeGame=function(){cc.director.resume();var e=i.mgrs().soundMgr;e&&this.wasPlayingMusic&&e.playMusic&&e.playMusic(e.shangyige),console.log("Game resumed after ad")},t.prototype.vibrateShort=function(){},t.prototype.shareAppMessage=function(){console.log("Share not supported on CrazyGames")},t.prototype.hideBanner=function(){},t.prototype.showBannerAD=function(){},t.prototype.reportAnalytics=function(e,t){console.log("Analytics:",e,t)},t.prototype.getUserInfo=function(){console.log("getUserInfo not supported on CrazyGames")},t.prototype.showToast=function(e){console.log("Toast:",e)},t.prototype.showLoading=function(e){console.log("Loading:",e)},t.prototype.hideLoading=function(){},t.prototype.showModal=function(e){console.log("Modal:",e)},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.recordedGameScreenStart=function(e,t){console.log("CrazyGames: recordedGameScreenStart not supported"),t&&t(null)},t.prototype.recordedGameScreenStop=function(){return console.log("CrazyGames: recordedGameScreenStop not supported"),!0},t.prototype.shareRecordedGameScreen=function(e){console.log("CrazyGames: shareRecordedGameScreen not supported"),e&&e()},t.prototype.isHaveRecordedGameScreen=function(){return!1},t.prototype.login=function(e){console.log("CrazyGames: login not supported"),e&&e.success&&e.success()},t.prototype.FullScreenVideoAd=function(e,t,o){console.log("CrazyGames: FullScreenVideoAd - using loadAndShowVideoAd instead"),this.loadAndShowVideoAd(e,t,o)},t}(e("miniGameApiBase").MiniGameApiBase);o.default=a,cc._RF.pop()},{OverallSystem:"OverallSystem",miniGameApiBase:"miniGameApiBase"}],dialog:[function(e,t,o){"use strict";cc._RF.push(t,"f80f5HsyXRJd6xAXHycVZzl","dialog");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("uiService")),s=e("OverallSystem"),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u5bf9\u8bdd\u6846",t.title=null,t.message=null,t.confirmBtn=null,t.videoAdCB=null,t.isVideoAd=!1,t.videoAdCnt=0,t.videoAdLookCnt=0,t.lookVideoSource="",t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this._init()},t.prototype.setDate=function(e,t,o,n,i,a,r){void 0===t&&(t="\u6e29\u99a8\u63d0\u793a"),void 0===n&&(n=!1),void 0===i&&(i=0),this.title.string=t,this.message.string=e,this.colseDoFun=o,this.isVideoAd=n,this.videoAdCnt=i,this.videoAdCB=a,this.lookVideoSource=r},t.prototype._init=function(){var e=cc.find("showLayout/btnLayout",this.showNode);if(cc.find("showLayout/panel/btnX",this.showNode).active=!this.isVideoAd,e.active=this.isVideoAd,this.isVideoAd){var t=this.confirmBtn.getChildByName("cnt").getComponent(cc.Label);this.videoAdCnt>1?(t.node.active=!0,this.updateVideoCnt()):t.node.active=!1}this.open()},t.prototype.open=function(){r.default.openPageBasicAni(this.showNode,!0).then(function(){})},t.prototype.close=function(){var e=this;this.closeAni().then(function(){s.sers().uiSrv.deletePageRecord(e.id)})},t.prototype.OnBtnClose=function(){var e=this;s.mgrs().soundMgr.playBtnSound(),this.closeAni().then(function(){e.colseDoFun&&e.colseDoFun(),s.sers().uiSrv.deletePageRecord(e.id)})},t.prototype.OnBtnConfirm=function(){var e=this;s.mgrs().soundMgr.playBtnSound(),this.isVideoAd&&s.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){e.videoAdLookCnt++,e.updateVideoCnt(),e.videoAdLookCnt>=e.videoAdCnt&&e.closeAni().then(function(){s.sers().uiSrv.deletePageRecord(e.id),e.videoAdCB&&e.videoAdCB()})},function(e){console.error(e)},null,this.lookVideoSource)},t.prototype.closeAni=function(e){return void 0===e&&(e=!0),r.default.closePageBasicAni(this.showNode,e)},t.prototype.updateVideoCnt=function(){this.videoAdCnt>1&&(this.confirmBtn.getChildByName("cnt").getComponent(cc.Label).string="( "+this.videoAdLookCnt+" / "+this.videoAdCnt+" )")},t.prototype.update=function(){},i([d({type:cc.Label,displayName:"\u6807\u9898"})],t.prototype,"title",void 0),i([d({type:cc.Label,displayName:"\u5185\u5bb9"})],t.prototype,"message",void 0),i([d({type:cc.Node,displayName:"\u786e\u8ba4\u6309\u94ae"})],t.prototype,"confirmBtn",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",pageBase:"pageBase",uiService:"uiService"}],frameNamespace:[function(e,t,o){"use strict";var n;cc._RF.push(t,"97990n0ekNPXY/vyo/CR7/6","frameNamespace"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){(function(e){e.Frame="frameBundle",e.Sound="soundBundle",e.Home="home",e.loadingPage="loadingPage"})(e.BundleName||(e.BundleName={}));var t=function(){function e(){this._managerName="ManagerBase"}return e.prototype._Initialize=function(){console.log("\u6b63\u5728\u521d\u59cb\u5316--\u7ba1\u7406\u7c7b--",this._managerName)},e}();e.ManagerBase=t;var o=function(){function e(){this._serviceName="ServiceBase"}return e.prototype._Initialize=function(){console.log("\u6b63\u5728\u521d\u59cb\u5316--\u670d\u52a1--",this._serviceName)},e}();e.ServiceBase=o}(n||(n={})),o.default=n,cc._RF.pop()},{}],gameConfig1:[function(e,t,o){"use strict";cc._RF.push(t,"a6806AhxvdITI4YWac+ECRA","gameConfig1"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.GAME_NAME="\u667a\u5546\u7206\u8868",e.GAME_VIDEO_SHARE_DESC="\u667a\u5546\u7206\u8868",e.GAME_VIDEO_SHARE_TITLE="\u667a\u5546\u7206\u8868",e.POWER_RESUME_TIME=900,e.MAX_POWER=5,e.VIDEO_GET_POWER=1,e.INFINITY_POWER_VIDEO_CNT=5,e.ROPE_MAX_LEVEL=170,e}();o.default=n,cc._RF.pop()},{}],gameListItemNew:[function(e,t,o){"use strict";cc._RF.push(t,"70035duIndEBpGAu5AXn/w+","gameListItemNew");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("Loader")),c=a(e("yyComponent")),l=e("GameEventType"),u=e("OverallSystem"),d=a(e("userService")),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.vicon=null,t.gameNmae=null,t.tips=null,t.lockNode=null,t.huise=null,t.zhengchang=null,t.playGradeName=["\u4e5e\u4e10","\u4e66\u7ae5","\u4e66\u751f","\u79c0\u624d","\u4e3e\u4eba","\u8fdb\u58eb","\u63a2\u82b1","\u699c\u773c","\u72b6\u5143","\u77e5\u53bf","\u535a\u58eb","\u77e5\u5dde","\u77e5\u5e9c","\u4e2d\u4e66\u4ee4","\u5de1\u629a","\u4e1e\u76f8","\u9a78\u9a6c","\u7687\u5e1d","\u589e\u798f\u795e","\u8d22\u795e","\u5929\u5c06","\u4e1c\u5e1d","\u5929\u738b","\u795e\u541b","\u661f\u541b","\u5929\u5c0a","\u4e1c\u738b\u516c","\u7389\u5e1d"],t.data=null,t}return n(t,e),t.prototype.start=function(){this.on(l.EventType.UIEvent.updataGamelist,this.updataView,this)},t.prototype.setData=function(e){cc.log(e),this.data=e,this.updataView()},t.prototype.updataView=function(){var e=this;if(this.data){var t=this.data;this.gameNmae.string=t.name,+t.lockLevel<1?(this.vicon.children[0].active=!0,this.vicon.children[1].active=!1,this.tips.string="",this.tips.node.active=!1,this.lockNode.active=!0):(this.vicon.children[0].active=!1,this.vicon.children[1].active=!0,this.tips.string="\u9700\u8fbe\u5230"+this.playGradeName[t.lockLevel]+"\u89e3\u9501",this.lockNode.active=!1),(u.sers().userSrv.getTiyanGame().indexOf(t.lockName)>=0||1==Number(u.sers().localStorageSrv.get(d.default.changwanModel)))&&(this.vicon.children[0].active=!0,this.vicon.children[1].active=!1,this.tips.node.active=!1,this.lockNode.active=!0);var o=this.lockNode.active?this.zhengchang:this.huise;this.icon.setMaterial(0,o),this.icon.node.children[0].getComponent(cc.Sprite).setMaterial(0,o),s.default.loadBundleRes("mainScene","icon/"+this.data.icon,function(t){e&&e.node&&(e.icon.spriteFrame=new cc.SpriteFrame(t))})}},t.prototype.onTouchStart=function(){var e=this;if(u.mgrs().soundMgr.playBtnSound(),this.vicon.children[1].active)u.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){var t=u.sers().userSrv.getTiyanGame();t.push(e.data.lockName),u.sers().userSrv.setTiyanGame(t),r.default.emit(l.EventType.UIEvent.updataGamelist)},function(){},null,{game_name:"\u4e3b\u573a\u666f\u66f4\u591a\u6e38\u620f",prop_name:"\u89e3\u9501",level:this.data.gameType,slevel:this.data.name},"common_video");else if(10!=this.data.gameType){if(u.sers().userSrv.power<=0)return void u.sers().uiSrv.showUserGetPowerPage();u.sers().userSrv.addPower(-1),u.sers().userSrv.setGameList(this.data.gameType),u.mgrs().gameMgr.enterMode(this.data.gameType)}else u.sers().uiSrv.showModeSelectPage()},i([f(cc.Sprite)],t.prototype,"icon",void 0),i([f(cc.Node)],t.prototype,"vicon",void 0),i([f(cc.Label)],t.prototype,"gameNmae",void 0),i([f(cc.Label)],t.prototype,"tips",void 0),i([f(cc.Node)],t.prototype,"lockNode",void 0),i([f(cc.Material)],t.prototype,"huise",void 0),i([f(cc.Material)],t.prototype,"zhengchang",void 0),i([h],t)}(c.default);o.default=g,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",userService:"userService",yyComponent:"yyComponent"}],gameListItem:[function(e,t,o){"use strict";cc._RF.push(t,"83d7cr5V4hBX5LTqD4+KAKF","gameListItem");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("Loader")),c=a(e("yyComponent")),l=e("GameEventType"),u=e("OverallSystem"),d=e("gameMode_Json"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.vicon=null,t.gameNmae=null,t.lockNode=null,t.huise=null,t.zhengchang=null,t.data=null,t}return n(t,e),t.prototype.start=function(){this.on(l.EventType.UIEvent.updataGamelist,this.updataView,this)},t.prototype.setData=function(e){cc.log(e),this.data=e,this.updataView()},t.prototype.updataView=function(){var e=this;if(this.data){var t=this.data;this.gameNmae.string=""+t.name,(u.sers().userSrv.getGuanqiaGameList().indexOf(+t.key)>=0||1==+t.key)&&(this.vicon.active=!1,this.lockNode.active=!0),s.default.loadBundleRes("Majiang","guanqiaicon/"+this.data.id,function(t){e&&e.node&&(e.icon.spriteFrame=new cc.SpriteFrame(t))})}},t.prototype.onTouchStart=function(){var e=this;u.mgrs().soundMgr.playBtnSound(),this.vicon.active?u.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){var t=u.sers().userSrv.getGuanqiaGameList();t.push(+e.data.key),u.sers().userSrv.setGuanqiaGameList(t),r.default.emit(l.EventType.UIEvent.updataGamelist)},function(){},null,{scene:"\u5173\u5361\u6a21\u5f0f\u89e3\u9501",event:"\u89e3\u9501"+this.data.name},"common_video"):(window.guanqiaMODE=this.data.id,window.guanqiaMODE_name=this.data.name,window.guanqiaMODE_key=this.data.key,u.mgrs().gameMgr.enterMode(d.GAME_MODE.MAJIANGLEVEL))},i([f(cc.Sprite)],t.prototype,"icon",void 0),i([f(cc.Node)],t.prototype,"vicon",void 0),i([f(cc.Label)],t.prototype,"gameNmae",void 0),i([f(cc.Node)],t.prototype,"lockNode",void 0),i([f(cc.Material)],t.prototype,"huise",void 0),i([f(cc.Material)],t.prototype,"zhengchang",void 0),i([h],t)}(c.default);o.default=g,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",gameMode_Json:"gameMode_Json",yyComponent:"yyComponent"}],gameListNew:[function(e,t,o){"use strict";cc._RF.push(t,"0d5480+BgdPAbr2gr86GyDk","gameListNew");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=a(e("pageBase")),c=e("OverallSystem"),l=a(e("EventManager")),u=e("GameEventType"),d=a(e("userService")),p=a(e("gameListItemNew")),h=cc._decorator,f=h.ccclass,g=h.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u66f4\u591a\u6e38\u620f",t.item=null,t.scrContent=null,t.changwanBtn=null,t.tips=null,t.listData=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;r.default.loadBundle("mainScene",function(){r.default.loadBundleRes("mainScene","json/mainGameList",function(t){e.listData=t.json,e&&e.node&&e.initGame()})},!0,!0),this._init(),this.updateVideoCnt()},t.prototype.OnBtnEnterInifinityMod=function(){var e=this;c.mgrs().soundMgr.playBtnSound(),0!=Number(c.sers().localStorageSrv.get(d.default.changwanModel))?(c.sers().uiSrv.showMessage("\u5df2\u7ecf\u5f00\u542f\u7545\u73a9\u6a21\u5f0f\uff01"),this.changwanBtn.active=!1):c.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){window.LookCnt++,window.LookCnt>=3&&(c.sers().userSrv.addPower(1999),c.sers().localStorageSrv.set(d.default.infinityPowerModel,1),c.sers().localStorageSrv.set(d.default.infinityPowerDate,Date.now()),c.sers().localStorageSrv.set(d.default.changwanModel,1),c.sers().localStorageSrv.set(d.default.changwanModelDate,Date.now()),l.default.emit(u.EventType.UIEvent.updataGamelist)),e.updateVideoCnt()},function(){},null,{scene:"24\u5c0f\u65f6\u65e0\u9650\u7545\u73a9",event:"24\u5c0f\u65f6\u65e0\u9650\u7545\u73a9"},"common_video")},t.prototype.updateVideoCnt=function(){this.tips.string="\uff08"+window.LookCnt+"/3\uff09",this.changwanBtn.active=1!=Number(c.sers().localStorageSrv.get(d.default.changwanModel))},t.prototype.initGame=function(){if(this.listData)for(var e in this.scrContent.removeAllChildren(),this.listData)if(Object.prototype.hasOwnProperty.call(this.listData,e)){var t=this.listData[e],o=cc.instantiate(this.item);o.parent=this.scrContent,o.x=0,o.zIndex=999-t.zIndex,o.getComponent(p.default).setData(t)}},t.prototype._init=function(){this.open()},t.prototype.OnBtnConfirm=function(){},t.prototype.OnBtnClose=function(){c.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([g(cc.Node)],t.prototype,"item",void 0),i([g(cc.Node)],t.prototype,"scrContent",void 0),i([g(cc.Node)],t.prototype,"changwanBtn",void 0),i([g(cc.Label)],t.prototype,"tips",void 0),i([f],t)}(s.default);o.default=v,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",gameListItemNew:"gameListItemNew",pageBase:"pageBase",userService:"userService"}],gameList:[function(e,t,o){"use strict";cc._RF.push(t,"7ec1ekBBPRFY4Pj5zV1dvIu","gameList");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=e("OverallSystem"),c=a(e("gameListItem")),l=a(e("pageBase")),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u66f4\u591a\u6e38\u620f",t.item=null,t.scrContent=null,t.listData=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;r.default.loadBundle("Majiang",function(){r.default.loadBundleRes("Majiang","json/guanqia",function(t){console.log(t.json);var o=t.json;e&&e.node&&e.initGame(o)})},!0,!0),this._init()},t.prototype.initGame=function(e){for(var t in this.scrContent.removeAllChildren(),e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=e[t],n=cc.instantiate(this.item);n.parent=this.scrContent,n.x=0,o.key=t,n.getComponent(c.default).setData(o)}},t.prototype._init=function(){this.open()},t.prototype.OnBtnConfirm=function(){},t.prototype.OnBtnClose=function(){s.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([p(cc.Node)],t.prototype,"item",void 0),i([p(cc.Node)],t.prototype,"scrContent",void 0),i([d],t)}(l.default);o.default=h,cc._RF.pop()},{Loader:"Loader",OverallSystem:"OverallSystem",gameListItem:"gameListItem",pageBase:"pageBase"}],gameManager:[function(e,t,o){"use strict";cc._RF.push(t,"6a9fbr4AkZGzoCffUGKoKhf","gameManager");var n=__extends,i=__importStar,a=__awaiter,r=__generator,s=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var c=s(e("frameNamespace")),l=s(e("gameMode_Json")),u=i(e("OverallSystem")),d=function(e){function t(){var t=e.call(this)||this;return t._managerName="\u6e38\u620f\u7ba1\u7406",t.m_CurrMode=void 0,t._Initialize(),t}return n(t,e),t.prototype._Initialize=function(){e.prototype._Initialize.call(this)},t.prototype.openPhysics=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0),cc.director.getPhysicsManager().enabled=!0,t&&cc.game.setFrameRate(60)},t.prototype.openPhysicsDebugDrawFlags=function(e){void 0===e&&(e=!1),e&&(cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},t.prototype.openCollision=function(e){void 0===e&&(e=!1),cc.director.getCollisionManager().enabled=e},t.prototype.openCollisionDebugDraw=function(e){void 0===e&&(e=!1),cc.director.getCollisionManager().enabledDebugDraw=e},t.prototype.openDebugFPS=function(e){void 0===e&&(e=!1),cc.debug.setDisplayStats(e)},Object.defineProperty(t.prototype,"currMode",{get:function(){return this.m_CurrMode},enumerable:!1,configurable:!0}),t.prototype.enterMode=function(e,t){return void 0===t&&(t=!0),a(this,void 0,void 0,function(){var o,n=this;return r(this,function(i){switch(i.label){case 0:return t&&u.sers().uiSrv.showLoding(),o=l.default()[e],console.time("\u8fdb\u5165\u6a21\u5f0f\u8017\u65f6---"+o.explain),this.m_CurrMode=o,o.bundle||!o.bundleName||""==o.bundleName?[3,2]:(console.log("\u52a0\u8f7d\u6a21\u5f0f\u6240\u9700\u8d44\u6e90bundle---",o.bundleName),[4,new Promise(function(e,t){cc.assetManager.loadBundle(o.bundleName,function(i,a){if(i)return console.error("\u8fdb\u5165\u6a21\u5f0f :"+o.explain+",  \u52a0\u8f7d\u6240\u9700bundle\u5931\u8d25",i),void t();o.bundle=a,cc.director.preloadScene(o.sceneName),n.goToNeedEnterMode().then(e)})})]);case 1:return i.sent(),[3,3];case 2:return[2,this.goToNeedEnterMode()];case 3:return[2]}})})},t.prototype.goToNeedEnterMode=function(){return a(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return u.sers().uiSrv._closeCurrScenePage(),[4,u.default.loadScene(this.m_CurrMode.sceneName)];case 1:return e.sent(),u.sers().uiSrv.hideLoding(),console.timeEnd("\u8fdb\u5165\u6a21\u5f0f\u8017\u65f6---"+this.m_CurrMode.explain),[2]}})})},t.prototype.getCurrModeBundle=function(){var e;return null===(e=this.m_CurrMode)||void 0===e?void 0:e.bundle},t.prototype.backHomePage=function(){this.m_CurrMode=void 0,u.sers().uiSrv._closeCurrScenePage(),u.default.loadScene("home").then(function(){u.sers().uiSrv.hideLoding()}),console.log("\u8fd4\u56de\u4e3b\u9875")},t.prototype.enableMultiTouch=function(e){void 0===e&&(e=!0),cc.macro.ENABLE_MULTI_TOUCH=e},t}(c.default.ManagerBase);o.default=d,cc._RF.pop()},{OverallSystem:"OverallSystem",frameNamespace:"frameNamespace",gameMode_Json:"gameMode_Json"}],gameMode_Json:[function(e,t,o){"use strict";var n,i;cc._RF.push(t,"a1c67aPTatF6pe2jwqpDoqL","gameMode_Json"),Object.defineProperty(o,"__esModule",{value:!0}),o.GAME_MODE=void 0,(i=n=o.GAME_MODE||(o.GAME_MODE={}))[i.None=0]="None",i[i.Feibiao=1]="Feibiao";var a=[{id:n.None,sceneName:"NormalMode",bundleName:"NormalMode",explain:"\u666e\u901a\u6a21\u5f0f",videoCnt:0},{id:n.Feibiao,sceneName:"Feibiao",bundleName:"Feibiao",explain:"\u98de\u9556\u6a21\u5f0f",videoCnt:0}];o.default=function(){return a},cc._RF.pop()},{}],gameSettingPage:[function(e,t,o){"use strict";cc._RF.push(t,"a8dae6SaoNFt5uwrrhB0+ls","gameSettingPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("OverallSystem"),s=e("gameMode_Json"),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u6e38\u620f\u8bbe\u7f6e",t.btnMusic=null,t.btnSound=null,t.btnVibration=null,t.BtnNode=null,t.testNode=null,t.number=0,t.mode=s.GAME_MODE.None,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.gm=function(){this.number++,this.number>20&&(window["GM-mode"]=!0,this.testNode.active=!0,cc.director.loadScene("Feibiao"),this.close(),r.sers().uiSrv.showMessage("GM\u6a21\u5f0f\u5df2\u5f00\u542f")),this.number>30&&(localStorage.clear(),seeg.setUserData({level:0}),r.sers().uiSrv.showMessage("\u6e05\u9664\u6570\u636e\u6210\u529f"))},t.prototype.start=function(){this._init(),this.testNode.active=!1,window["GM-mode"]&&(this.testNode.active=!0)},t.prototype.setCloseDoFun=function(e){this.colseDoFun=e},t.prototype._init=function(){this.updateSoundBan(),this.updateMusicBan(),this.updateVibration(),this.open()},t.prototype.showBtn=function(e){this.BtnNode.active=e!==s.GAME_MODE.None,this.mode=e},t.prototype.OnBtnSound=function(){r.mgrs().soundMgr.playBtnSound(),r.mgrs().soundMgr.enableSound(!r.mgrs().soundMgr.isEnableSound),this.updateSoundBan()},t.prototype.OnBtnMusic=function(){r.mgrs().soundMgr.playBtnSound(),r.mgrs().soundMgr.enableAudio(!r.mgrs().soundMgr.isEnableAudio),this.updateMusicBan()},t.prototype.OnBtnVibration=function(){r.mgrs().soundMgr.playBtnSound(),r.mgrs().soundMgr.enableVibration(!r.mgrs().soundMgr.isVibration),console.log(r.mgrs().soundMgr.isVibration),this.updateVibration()},t.prototype.Toggle=function(e){var t=r.sers().userSrv.getSettingData();t[5]=+e.node.name,r.sers().userSrv.setSettingData(t)},t.prototype.updateSoundBan=function(){this.btnSound.getChildByName("ban").active=!r.mgrs().soundMgr.isEnableSound,this.btnSound.getChildByName("kai").active=r.mgrs().soundMgr.isEnableSound},t.prototype.updateMusicBan=function(){this.btnMusic.getChildByName("ban").active=!r.mgrs().soundMgr.isEnableAudio,this.btnMusic.getChildByName("kai").active=r.mgrs().soundMgr.isEnableAudio},t.prototype.updateVibration=function(){this.btnVibration.getChildByName("ban").active=!r.mgrs().soundMgr.isVibration,this.btnVibration.getChildByName("kai").active=r.mgrs().soundMgr.isVibration},t.prototype.OnBtnBackIndex=function(){r.sers().platformSrv.platformApi.hideBanner(),r.mgrs().soundMgr.playBtnSound(),r.mgrs().gameMgr.backHomePage(),this.OnBtnClose()},t.prototype.closePage=function(){this.OnBtnClose(),r.sers().platformSrv.platformApi.FullScreenVideoAd()},t.prototype.replayGame=function(){r.mgrs().soundMgr.playBtnSound(),r.mgrs().gameMgr.enterMode(this.mode,!0),this.closePage()},t.prototype.goIndex=function(){r.mgrs().soundMgr.playBtnSound(),r.mgrs().gameMgr.backHomePage()},t.prototype.showPath=function(){r.sers().uiSrv.showPathTips()},t.prototype.onEditEnd=function(e){var t=parseInt(e.string),o=r.sers().userSrv.getFeibiaoData();o.level=t,r.sers().userSrv.setFeibiaoData(o),cc.director.loadScene("Feibiao"),this.close()},i([d({type:cc.Node,displayName:"\u80cc\u666f\u97f3\u6309\u94ae"})],t.prototype,"btnMusic",void 0),i([d({type:cc.Node,displayName:"\u97f3\u6548\u6309\u94ae"})],t.prototype,"btnSound",void 0),i([d({type:cc.Node,displayName:"\u9707\u52a8\u6309\u94ae"})],t.prototype,"btnVibration",void 0),i([d(cc.Node)],t.prototype,"BtnNode",void 0),i([d(cc.Node)],t.prototype,"testNode",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",gameMode_Json:"gameMode_Json",pageBase:"pageBase"}],gameState:[function(e,t,o){"use strict";cc._RF.push(t,"aa5604WgGNJ6bmRorUzcJnJ","gameState");var n,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=void 0;var a,r=i(e("OverallSystem")),s=i(e("IConsleNamespace"));(a=n=o.GameState||(o.GameState={}))[a.start=0]="start",a[a.play=1]="play",a[a.wait=2]="wait",a[a.over=3]="over";var c=function(){function e(){this.stateName=["\u5f00\u59cb","\u8fd0\u884c","\u7b49\u5f85","\u7ed3\u675f"],this.m_State=n.start}return Object.defineProperty(e.prototype,"state",{get:function(){return this.m_State},enumerable:!1,configurable:!0}),e.prototype.check=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=e.includes(this.m_State);return o},e.prototype.shift=function(e){this.m_State=e,r.default.emit("Game-state"+e),s.default.log_red_bg_yellow("\u6e38\u620f\u72b6\u6001---",this.stateName[this.m_State])},e}();o.default=c,cc._RF.pop()},{IConsleNamespace:"IConsleNamespace",OverallSystem:"OverallSystem"}],getPowerPage:[function(e,t,o){"use strict";cc._RF.push(t,"d63be60CO9JXrGioi9WO5Bz","getPowerPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=e("GameEventType"),c=a(e("TimePlugIn")),l=a(e("gameConfig1")),u=a(e("userService")),d=e("OverallSystem"),p=a(e("pageBase")),h=cc._decorator,f=h.ccclass,g=h.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u83b7\u53d6\u4f53\u529b",t.lbRePowerCnt=null,t.number=null,t.changwanBtn=null,t.tips=null,t.tips2=null,t.wuxiandaojishi=null,t.tilitubiaoNode=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.node.zIndex=9999,this.updateVideoCnt(),this._init()},t.prototype._init=function(){this.open()},t.prototype.OnBtnConfirm=function(){d.mgrs().soundMgr.playBtnSound(),d.sers().userSrv.power>=l.default.MAX_POWER?d.sers().uiSrv.showMessage("\u4f53\u529b\u5df2\u6ee1"):d.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){d.sers().userSrv.addPower(l.default.VIDEO_GET_POWER),d.sers().uiSrv.showMessage("\u83b7\u5f97\u4f53\u529b"+l.default.VIDEO_GET_POWER+"\u70b9")},function(){},null,{scene:"\u83b7\u5f97\u4f53\u529b",event:"\u83b7\u5f97\u4f53\u529b"},"common_video")},t.prototype.jinbigoumai=function(){d.mgrs().soundMgr.playBtnSound(),d.sers().userSrv.power>=l.default.MAX_POWER?d.sers().uiSrv.showMessage("\u4f53\u529b\u5df2\u6ee1"):d.sers().userSrv.coin<200?d.sers().uiSrv.showMessage("\u91d1\u5e01\u4e0d\u8db3"):(d.sers().userSrv.addCoin(-200),d.sers().userSrv.addPower(l.default.VIDEO_GET_POWER),d.sers().uiSrv.showMessage("\u83b7\u5f97\u4f53\u529b"+l.default.VIDEO_GET_POWER+"\u70b9"),r.default.emit(s.EventType.DirectorEvent.updataGold))},t.prototype.OnBtnEnterInifinityMod=function(){var e=this;d.mgrs().soundMgr.playBtnSound(),0!=Number(d.sers().localStorageSrv.get(u.default.infinityPowerModel))?(d.sers().uiSrv.showMessage("\u5df2\u7ecf\u5f00\u542f\u7545\u73a9\u6a21\u5f0f\uff01"),this.changwanBtn.active=!1):d.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){window.LookCnt++,window.LookCnt>=3&&(d.sers().userSrv.addPower(1999),d.sers().localStorageSrv.set(u.default.infinityPowerModel,1),d.sers().localStorageSrv.set(u.default.infinityPowerDate,Date.now()),d.sers().localStorageSrv.set(u.default.changwanModel,1),d.sers().localStorageSrv.set(u.default.changwanModelDate,Date.now()),r.default.emit(s.EventType.UIEvent.updataGamelist)),e.updateVideoCnt()},function(){},null,{scene:"24\u5c0f\u65f6\u65e0\u9650\u4f53\u529b\u7545\u73a9",event:"24\u5c0f\u65f6\u65e0\u9650\u4f53\u529b\u7545\u73a9"},"common_video")},t.prototype.updateVideoCnt=function(){this.tips.string="\uff08"+window.LookCnt+"/3\uff09",this.changwanBtn.active=1!=Number(d.sers().localStorageSrv.get(u.default.infinityPowerModel)),this.tips2.node.active=this.changwanBtn.active,this.wuxiandaojishi.node.active=!this.changwanBtn.active},t.prototype.OnBtnClose=function(){d.mgrs().soundMgr.playBtnSound(),this.onlyClose()},t.prototype.update=function(){if(0!=Number(d.sers().localStorageSrv.get(u.default.infinityPowerModel))){this.tilitubiaoNode.children[1].active=!1,this.tilitubiaoNode.children[2].active=!1,this.tilitubiaoNode.children[3].active=!0;var e=Date.now(),t=d.sers().localStorageSrv.get(u.default.infinityPowerDate),o=0!=Number(d.sers().localStorageSrv.get(u.default.infinityPowerModel)),n=e-Number(t)>=864e5;return this.wuxiandaojishi.string="\u5269\u4f59\u65f6\u95f4:"+c.default().numberShiftTime(Math.floor((864e5-(e-Number(t)))/1e3)),void(null!=t&&""!=t&&o&&n&&(d.sers().userSrv.setPower(l.default.MAX_POWER),u.default.unlockCnt=0,d.sers().localStorageSrv.set(u.default.infinityPowerModel,0),d.sers().localStorageSrv.set(u.default.infinityPowerDate,e),window.LookCnt=0,this.updateVideoCnt()))}if(this.tilitubiaoNode.children[1].active=!0,this.tilitubiaoNode.children[2].active=!0,this.tilitubiaoNode.children[3].active=!1,d.sers().userSrv.isPowerLess()){this.lbRePowerCnt.node.active=!0;var i=d.sers().userSrv.getRePowerTimer(),a=Math.trunc(i/60)+":"+Math.trunc(i%60);this.lbRePowerCnt.string=a,this.number.string="("+d.sers().userSrv.power+"/"+l.default.MAX_POWER+")"}else this.lbRePowerCnt.string="\u4f53\u529b\u5df2\u6ee1",this.number.string="("+d.sers().userSrv.power+"/"+l.default.MAX_POWER+")"},i([g(cc.Label)],t.prototype,"lbRePowerCnt",void 0),i([g(cc.Label)],t.prototype,"number",void 0),i([g(cc.Node)],t.prototype,"changwanBtn",void 0),i([g(cc.Label)],t.prototype,"tips",void 0),i([g(cc.Label)],t.prototype,"tips2",void 0),i([g(cc.Label)],t.prototype,"wuxiandaojishi",void 0),i([g(cc.Node)],t.prototype,"tilitubiaoNode",void 0),i([f],t)}(p.default);o.default=v,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",OverallSystem:"OverallSystem",TimePlugIn:"TimePlugIn",gameConfig1:"gameConfig1",pageBase:"pageBase",userService:"userService"}],h5Api:[function(e,t,o){"use strict";cc._RF.push(t,"9708dmoLRlOi5bepszfowA4","h5Api");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=i(e("FMJava")),r=e("OverallSystem"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_BannerAdIdIndex=0,t}return n(t,e),t.prototype.validAppId=function(){console.log("h5-api-validAppId"),console.log("isNative"+cc.sys.isNative)},t.prototype.ready=function(){console.log("h5-api-ready")},t.prototype.getUserInfo=function(){console.log("h5-api-getUserInfo")},t.prototype.showToast=function(){console.log("h5-api-showToast")},t.prototype.showLoading=function(){console.log("h5-api-showLoading")},t.prototype.hideLoading=function(){console.log("h5-api-hideLoading")},t.prototype.showModal=function(){console.log("h5-api-showModal")},t.prototype.authorize=function(){console.log("h5-api-authorize")},t.prototype.login=function(){console.log("h5-api-login")},t.prototype.loadAndShowVideoAd=function(e,t,o,n){cc.sys.platform==cc.sys.ANDROID?(console.log("android-sdk-loadAndShowVideoAd"),this.showRewardedVideoAd(function(o){o?(console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5b8c\u6210"),setTimeout(function(){e()},60)):(console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5931\u8d25"),t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"))},function(){console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5931\u8d25"),o&&o()})):(console.log("h5-api-loadAndShowVideoAd"),cc.log(n),setTimeout(function(){e()},60),o&&o())},t.prototype.showRewardedVideoAd=function(e,t){console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891"),a.default.showRewardedVideoAd(e,t)},t.prototype.FullScreenVideoAd=function(e,t,o){cc.sys.platform==cc.sys.ANDROID&&a.default.show_FullScreenVideo(function(o){o?(console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5b8c\u6210"),e()):(console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5931\u8d25"),t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"))},function(){console.log("\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5931\u8d25"),o&&o()})},t.prototype.showInsertAd=function(e){console.log("h5-api-showInsertAd"),e()},t.prototype.showBannerAD=function(){console.log("h5-api-showBannerAD")},t.prototype.hideBanner=function(){console.log("h5-api-hideBanner")},t.prototype.recordedGameScreenStart=function(e,t){console.log("h5-api-recordedGameScreenStart"),t&&t(null)},t.prototype.recordedGameScreenStop=function(){return console.log("h5-api-recordedGameScreenStop"),!0},t.prototype.shareRecordedGameScreen=function(e){console.log("h5-api-shareRecordedGameScreen"),e&&e()},t.prototype.isHaveRecordedGameScreen=function(){return!0},t.prototype.reportAnalytics=function(e,t){console.log("\u57cb\u70b9"),console.log(e),console.log(t)},t.prototype.vibrateShort=function(e){void 0===e&&(e="heavy"),r.mgrs().soundMgr.isVibration},t.prototype.shareAppMessage=function(){},t}(e("miniGameApiBase").MiniGameApiBase);o.default=s,cc._RF.pop()},{FMJava:"FMJava",OverallSystem:"OverallSystem",miniGameApiBase:"miniGameApiBase"}],homeRankItem:[function(e,t,o){"use strict";cc._RF.push(t,"25b31Z25d1KDbtT3RHkvZPG","homeRankItem");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=a(e("yyComponent")),c=e("GameEventType"),l=e("OverallSystem"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label1=null,t.label2=null,t.label3=null,t.diquName=null,t.itemID=-1,t.qiqiuNode=null,t.city=null,t.pifu=0,t.shengming="",t}return n(t,e),t.prototype.start=function(){for(var e=this,t=function(t){var o=[16,10,16,10,16,16],n=Math.floor(Math.random()*o.length),i=["biaoqing","cunse","biaoqing","cunse","biaoqing","suipian"][n],a=o[n],s=Math.floor(Math.random()*a)+1;t.active=!1,r.default.loadBundleRes("home","rank/"+i+"/"+i+s,function(o){if(e&&e.node){var n=t.getComponent(cc.Sprite),i=o.width,a=o.height;t.width=i,t.height=a,n.spriteFrame=new cc.SpriteFrame(o),t.active=!0,e.scheduleOnce(function(){t.getComponent(cc.Animation).play()},Math.random()+.2)}})},o=0,n=this.qiqiuNode.children;o<n.length;o++)t(n[o]);this.on(c.EventType.DirectorEvent.pifugenghuan,this.updateRankItem,this),this.updateRankItem()},t.prototype.updateRankItem=function(){cc.log("\u66f4\u65b0\u6570\u636e"),this.city=l.sers().userSrv.getUserData().city,this.pifu=l.sers().userSrv.getQiqiupifu().index,this.wodepifu()},t.prototype.updateContent=function(e,t){this.itemID=t;var o=e.cityRankInfo[t];if(o){this.label1.string="\u7b2c"+this.numberToChinese(t+1)+"\u540d",this.label2.string=""+o.university;var n=this.node;0==this.itemID?(n.children[0].active=!0,n.children[1].active=!1,n.children[2].active=!1):1==this.itemID?(n.children[0].active=!1,n.children[1].active=!0,n.children[2].active=!1):(n.children[0].active=!1,n.children[1].active=!1,n.children[2].active=!0),this.renewSp(o.cityName)}},t.prototype.numberToChinese=function(e){if(10==e)return"\u5341";if(1==e)return"\u4e00";for(var t=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],o=["","\u5341","\u767e","\u5343","\u4e07"],n="",i=e.toString(),a=0;a<i.length;a++){var r=parseInt(i.charAt(a)),s=o[i.length-a-1];0===r?"\u96f6"!==n.charAt(n.length-1)&&(n+=""):n+=t[r]+s}return"\u4e00"===n.charAt(0)?n=n.substr(1,n.length):"\u767e"===n.charAt(0)?n="\u4e00"+n:"\u5343"===n.charAt(0)&&(n="\u4e00"+n),n},t.prototype.renewSp=function(e){this.diquName.string=e+"",this.shengming=e,this.wodepifu()},t.prototype.wodepifu=function(){var e=this,t=this.city,o=this.pifu;if(this.node.getChildByName("zheli").active=!1,t&&t.cityName==this.shengming&&o>0){cc.log("\u5728\u8fd9"+o);var n=this.qiqiuNode.children[this.qiqiuNode.childrenCount-1];r.default.loadBundleRes("home","rank/biaoqing/biaoqing"+o,function(t){if(e&&e.node){var o=n.getComponent(cc.Sprite),i=t.width,a=t.height;n.width=i,n.height=a,o.spriteFrame=new cc.SpriteFrame(t),n.active=!0,e.node.getChildByName("zheli").active=!0}})}},i([p(cc.Label)],t.prototype,"label1",void 0),i([p(cc.Label)],t.prototype,"label2",void 0),i([p(cc.Label)],t.prototype,"label3",void 0),i([p(cc.Label)],t.prototype,"diquName",void 0),i([p(cc.Node)],t.prototype,"qiqiuNode",void 0),i([d],t)}(s.default);o.default=h,cc._RF.pop()},{GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],home:[function(e,t,o){"use strict";cc._RF.push(t,"5c761zwNnRLYYDeweol1rFK","home");var n=__extends,i=__decorate,a=__awaiter,r=__generator,s=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var c=s(e("ResourceLoader")),l=s(e("yyComponent")),u=e("gameMode_Json"),d=s(e("userService")),p=e("OverallSystem"),h=s(e("LevelMgr")),f=s(e("PaintBoard")),g=cc._decorator,v=g.ccclass,y=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paintBoard=null,t.tianjiazhuomianBtn=null,t.rankNode=null,t.cebianlanNode=null,t.loadingOver=!1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){if(this.node.getComponent(cc.Canvas).fitHeight=d.default.IPAD,this.node.getComponent(cc.Canvas).fitWidth=!d.default.IPAD,window.tt){var e=window.tt.getLaunchOptionsSync();"101001"!=e.scene||p.sers().userSrv.getCheckScene()||(window.sceneCode=e.scene,p.sers().uiSrv.showPage("cebianlan","cebianlan"))}p.mgrs().soundMgr.playMusic("bgm"),this.cebianlanNode.active=cc.sys.platform==cc.sys.BYTEDANCE_GAME,this.showCheck();var t=p.sers().userSrv.getFeibiaoData();this.setImRankData(t.level),this.initPaintBoard(p.sers().userSrv.getSelectedPainting()),p.sers().platformSrv.platformApi.recordedGameScreenStop(),cc.game.on("changePainting",this.initPaintBoard,this)},t.prototype.initPaintBoard=function(e){return a(this,void 0,void 0,function(){var t,o;return r(this,function(n){switch(n.label){case 0:return t=h.default.getBundleName(e),[4,c.default.getInstance().load(t,"json/lv_"+e,cc.JsonAsset)];case 1:return o=n.sent(),cc.log("+++++++",o.json),this.paintBoard.loadGridData(o.json),this.paintBoard.jumpToLastStep(),[2]}})})},t.prototype.setBtn=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showSettingPage()},t.prototype.openGengDuoWanfa=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showGameListNewPage()},t.prototype.showPifuPage=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showPifuPage()},t.prototype.startGame=function(){p.mgrs().soundMgr.playBtnSound(),p.mgrs().gameMgr.enterMode(u.GAME_MODE.Feibiao,!0)},t.prototype.qiandao=function(){window.qiandao=!0,p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showSignInPage()},t.prototype.zhuti=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showZhutiListPage()},t.prototype.onPintu=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showPage("Collection","CollectionPage")},t.prototype.showRank=function(){if(p.mgrs().soundMgr.playBtnSound(),window.tt){var e=this;window.tt.login({force:!0,success:function(t){console.log("login \u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e.getImRankList()},fail:function(){console.log("login \u8c03\u7528\u5931\u8d25")}})}else if(window.wx)p.sers().uiSrv.showRankingListPage();else{var t=p.sers().userSrv.getUserData().city;if(null!=t&&""!=t)p.sers().uiSrv.showRankingListPage();else{var o={continueCall:function(){p.sers().uiSrv.showRankingListPage()},closeCall:function(){}};p.sers().uiSrv.showSelectDiQuPage(o)}}},t.prototype.setImRankData=function(e){this.rankNode.active=cc.sys.platform==cc.sys.BYTEDANCE_GAME,cc.log(" window",window.wx),cc.sys.platform==cc.sys.BYTEDANCE_GAME&&window.tt.setImRankData({dataType:0,value:e+"",priority:0,extra:"extra",zoneId:"default",success:function(e){console.log("setImRankData success res: "+e)},fail:function(e){console.log("setImRankData fail res: "+e.errMsg)}})},t.prototype.getImRankList=function(){window.tt.getImRankList({relationType:"default",dataType:0,rankType:"all",suffix:"",rankTitle:"\u6392\u884c\u699c",zoneId:"default",success:function(e){console.log("getImRankData success res: "+e)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg)}})},t.prototype.share=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showPage("Invite","InvitePage")},t.prototype.showCheck=function(){if(window.ks&&(window.tt=window.ks),window.tt&&window.tt.checkShortcut){var e=this;window.tt.checkShortcut({success:function(t){console.log("\u68c0\u67e5\u5feb\u6377\u65b9\u5f0f"),console.log(t.status),e.tianjiazhuomianBtn.active=!t.status.exist,window.tt.getSystemInfo({success:function(t){console.log("appName:"+t.appName),"Tt_lite"!=t.appName&&"Toutiao"!=t.appName&&"xigua"!=t.appName||(e.tianjiazhuomianBtn.active=!1),"ios"==t.platform&&(e.tianjiazhuomianBtn.active=!0)},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}})},fail:function(t){console.log("\u68c0\u67e5\u5feb\u6377\u65b9\u5f0f\u5931\u8d25",t.errMsg),e.tianjiazhuomianBtn.active=!0}})}else this.tianjiazhuomianBtn.active=!1},t.prototype.tianjiadaozhuomian=function(){if(p.mgrs().soundMgr.playBtnSound(),window.tt)window.tt.addShortcut({success:function(){cc.log("\u6dfb\u52a0\u684c\u9762\u6210\u529f"),p.sers().uiSrv.showMessage("\u6dfb\u52a0\u684c\u9762\u6210\u529f")},fail:function(e){cc.log("\u6dfb\u52a0\u684c\u9762\u5931\u8d25",e.errMsg),p.sers().uiSrv.showMessage("\u6dfb\u52a0\u684c\u9762\u5931\u8d25")}});else if(window.qg){var e=this;window.qg.installShortcut({success:function(){console.log("\u521b\u5efa\u6210\u529f"),e.tianjiazhuomianBtn.active=!1}})}},t.prototype.onMoreGame=function(){p.mgrs().soundMgr.playBtnSound(),p.sers().uiSrv.showMessage("Coming Soon")},i([y(f.default)],t.prototype,"paintBoard",void 0),i([y(cc.Node)],t.prototype,"tianjiazhuomianBtn",void 0),i([y(cc.Node)],t.prototype,"rankNode",void 0),i([y(cc.Node)],t.prototype,"cebianlanNode",void 0),i([v],t)}(l.default);o.default=m,cc._RF.pop()},{LevelMgr:"LevelMgr",OverallSystem:"OverallSystem",PaintBoard:"PaintBoard",ResourceLoader:"ResourceLoader",gameMode_Json:"gameMode_Json",userService:"userService",yyComponent:"yyComponent"}],http_request:[function(e,t,o){"use strict";cc._RF.push(t,"fc4338XyFhAlZZS67yxJL5M","http_request"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.objFunc={}}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.postRequest=function(e,t,o){console.log("postRequest ---\x3e",e);var n=new XMLHttpRequest;n.addEventListener("error",this.onRequestError),n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var i="";for(var a in t)i+=a+"="+encodeURIComponent(t[a])+"&";i=i.substr(0,i.length-1),n.send(i),n.onreadystatechange=function(){var e=n.readyState,t=n.status;if(4==e&&200==t){var i=n.responseText,a=JSON.parse(i);o&&o(a)}}},e.prototype.get=function(e,t,o){var n=cc.loader.getXMLHttpRequest();n.timeout=1e4,n.open("GET",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===this.readyState&&this.status>=200&&this.status<300){var e=n.responseText;e||console.log("httperror",e);var t=JSON.parse(e);o(t)}};var i="";for(var a in t)i+=a+"="+t[a]+"&";i=i.substr(0,i.length-1),n.send(i)},e.prototype.setRequestErrorFunc=function(e,t){this.objFunc.error={cb:e,target:t}},e.prototype.onRequestError=function(){if(this.objFunc.error){var e=this.objFunc.error;e.cb.call(e.target,"\u6e38\u620f\u7ef4\u62a4\u4e2d")}},e.url_ad="https://ad.geyian.ink/",e.url_login="https://mljyd.youdongxi.cn/",e.url_gamelevel="https://img.youdongxi.cn/",e.url_buy="https://tj.geyian.ink/",e._instance=null,e}();o.default=n,cc._RF.pop()},{}],huaWeiApi:[function(e,t,o){"use strict";cc._RF.push(t,"bf81eONRdZBp7/eVXikmSh1","huaWeiApi");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0});var i=e("miniGameApiBase"),a=window.tt,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_AppId="",t.m_Secret="",t.m_VideoAdIdIndex=0,t.m_VideoAdIdList=[],t.m_BannerAdIdIndex=0,t.m_BannerAdId=[],t.m_InsertAdIdIndex=0,t.m_InsertAdId=[],t.m_videoAd=void 0,t.m_BannerAd=void 0,t}return n(t,e),t.prototype.validAppId=function(){console.log("oppo-api-validAppId")},t.prototype.ready=function(){console.log("huaWei-api-ready")},t.prototype.getUserInfo=function(e){a.getUserInfo(e)},t.prototype.showToast=function(e){a.showToast(e)},t.prototype.showLoading=function(e){a.showLoading(e)},t.prototype.hideLoading=function(){a.hideLoading()},t.prototype.showModal=function(e){a.showModal(e)},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.login=function(e){a.login(e)},t.prototype.getVideoAdId=function(){var e=this.m_VideoAdIdList[this.m_VideoAdIdIndex];return this.m_VideoAdIdIndex++,this.m_VideoAdIdIndex>=this.m_VideoAdIdList.length&&(this.m_VideoAdIdIndex=0),e},t.prototype.loadAndShowVideoAd=function(e,t,o,n){var i=this;this.showLoading({title:"\u8bf7\u6c42\u4e2d",mask:!0});var r=this.getVideoAdId();console.log("tt \u89c6\u9891\u5e7f\u544a",r,n);var s=a.createRewardedVideoAd({adUnitId:r}),c=function n(i){s.offClose(n),console.log("tt \u89c6\u9891\u5e7f\u544a\u5173\u95ed",i),i&&i.isEnded?e():t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"),o&&o()};console.log("\u5c55\u793a\u4e00\u6b21"),s.show().then(function(){i.hideLoading(),s.onClose(c)}).catch(function(){console.log("\u91cd\u8bd5\u4e00\u6b21"),s.load().then(function(){s.show().then(function(){i.hideLoading(),s.onClose(c)}).catch(function(){t&&t("\u89c6\u9891\u5c55\u793a\u5f02\u5e38"),o&&o()})}).catch(function(){t&&t("\u89c6\u9891\u62c9\u53d6\u5f02\u5e3802"),o&&o()})})},t.prototype.getInsertAdId=function(){var e=this.m_InsertAdId[this.m_InsertAdIdIndex];return this.m_InsertAdIdIndex++,this.m_InsertAdIdIndex>=this.m_InsertAdId.length&&(this.m_InsertAdIdIndex=0),e},t.prototype.showInsertAd=function(e,t){console.log("\u52a0\u6296\u97f3 \u63d2\u5c4f \u5e7f\u544a");var o=this.getInsertAdId(),n=a.createInterstitialAd({adUnitId:o});n.load(),n.onLoad(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 :"+JSON.stringify(e)),n.destroy(),n=null,t&&t()})}),n.onError(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),n.destroy(),n=null,t&&t()}),n.onClose(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),null!=n&&(n.destroy(),n=null),e&&e()})},t.prototype.getBannerAdId=function(){var e=this.m_BannerAdId[this.m_BannerAdIdIndex];return this.m_BannerAdIdIndex++,this.m_BannerAdIdIndex>=this.m_BannerAdId.length&&(this.m_BannerAdIdIndex=0),e},t.prototype.showBannerAD=function(){},t.prototype.hideBanner=function(){},t.prototype.recordedGameScreenStart=function(e,t){console.log("huaWei-api-recordedGameScreenStart"),t&&t(null)},t.prototype.recordedGameScreenStop=function(){return console.log("huaWei-api-recordedGameScreenStop"),!0},t.prototype.shareRecordedGameScreen=function(e){console.log("huaWei-api-shareRecordedGameScreen"),e&&e()},t.prototype.isHaveRecordedGameScreen=function(){return!0},t}(i.MiniGameApiBase);o.default=r,cc._RF.pop()},{miniGameApiBase:"miniGameApiBase"}],infinityPowerPage:[function(e,t,o){"use strict";cc._RF.push(t,"5b4d8ZOiN1Ne5wJpuIkY16Z","infinityPowerPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("gameConfig1")),s=a(e("userService")),c=e("OverallSystem"),l=a(e("pageBase")),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u65e0\u9650\u4f53\u529b\u9875\u9762",t.confirmBtn=null,t.confirmCB=function(){},t.colseDoFun2=null,t}var o;return n(t,e),o=t,t.prototype.setCloseDoFun2=function(e){this.colseDoFun2=e},t.prototype.onLoad=function(){},t.prototype.start=function(){this.init()},t.prototype.init=function(){this.updateVideoCnt(),this.open()},t.prototype.OnBtnGetFWPower=function(){c.mgrs().soundMgr.playBtnSound(),c.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){c.sers().userSrv.addPower(5),c.sers().uiSrv.showMessage("\u83b7\u5f97\u4f53\u529b5\u70b9")},function(){},null,"\u65e0\u9650\u4f53\u529b\u9875\u9762\u9886\u53d6\u4e94\u70b9\u4f53\u529b")},t.prototype.OnBtnEnterInifinityMod=function(){var e=this;c.mgrs().soundMgr.playBtnSound(),0!=Number(c.sers().localStorageSrv.get(s.default.infinityPowerModel))?(c.sers().uiSrv.showMessage("\u5df2\u7ecf\u5f00\u542f\u65e0\u9650\u4f53\u529b\u6a21\u5f0f\uff01"),this.close()):c.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){o.infinityLookCnt++,e.updateVideoCnt(),o.infinityLookCnt>=r.default.INFINITY_POWER_VIDEO_CNT&&(c.sers().userSrv.addPower(999),c.sers().localStorageSrv.set(s.default.infinityPowerModel,1),c.sers().localStorageSrv.set(s.default.infinityPowerDate,Date.now()),e.close())},function(){},null,"\u65e0\u9650\u4f53\u529b")},t.prototype.updateVideoCnt=function(){r.default.INFINITY_POWER_VIDEO_CNT>1?this.confirmBtn.getChildByName("cnt").getComponent(cc.Label).string=o.infinityLookCnt+"/"+r.default.INFINITY_POWER_VIDEO_CNT:this.confirmBtn.getChildByName("cnt").active=!1},t.prototype.close=function(){var e=this;this.closeAni().then(function(){c.sers().uiSrv.deletePageRecord(e.id),c.sers().uiSrv.showReceiveInfinityPage(e.colseDoFun2),e.node.destroy()}).catch()},t.prototype.OnBtnClose=function(){var e=this;c.mgrs().soundMgr.playBtnSound(),this.closeAni().then(function(){e.colseDoFun&&e.colseDoFun(!0),c.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()})},t.prototype.update=function(){},t.infinityLookCnt=0,i([p({type:cc.Node,displayName:"\u786e\u8ba4\u6309\u94ae"})],t.prototype,"confirmBtn",void 0),o=i([d],t)}(l.default);o.default=h,cc._RF.pop()},{OverallSystem:"OverallSystem",gameConfig1:"gameConfig1",pageBase:"pageBase",userService:"userService"}],loadingPage:[function(e,t,o){"use strict";cc._RF.push(t,"1dcc0yosuNKrLaPi8B+8vDR","loadingPage");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("pageBase")),s=cc._decorator,c=s.ccclass;s.property;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u52a0\u8f7d\u4e2d\u9875\u9762",t}return n(t,e),t.prototype.start=function(){this.node.zIndex=9999,cc.log("show loading")},t.prototype.close=function(){this.node.destroy()},i([c],t)}(r.default);o.default=l,cc._RF.pop()},{pageBase:"pageBase"}],loading:[function(e,t,o){"use strict";cc._RF.push(t,"071615W33ZDS5yxbovan6Tu","loading");var n=__extends,i=__decorate,a=__importStar,r=__awaiter,s=__generator,c=__asyncValues,l=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var u=l(e("EventManager")),d=l(e("ResourceLoader")),p=e("GameEventType"),h=l(e("LevelMgr")),f=l(e("frameNamespace")),g=e("gameMode_Json"),v=l(e("userService")),y=a(e("OverallSystem")),m=cc._decorator,_=m.ccclass,S=m.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.totalBar=null,t.onceBar=null,t.lbLoad=null,t.totalCnt=0,t.completedCnt=0,t.tishi=null,t.kuaishouruanzhu=null,t.loadAssetList=[{bundleKey:f.default.BundleName.loadingPage,name:"\u6e38\u620f\u52a0\u8f7d\u9875\u9762"},{bundleKey:f.default.BundleName.Sound,name:"\u6e38\u620f\u97f3\u9891\u8d44\u6e90"}],t}return n(t,e),t.prototype.onLoad=function(){cc.sys.platform==cc.sys.ANDROID&&(this.tishi.active=!0),cc.sys.platform==cc.sys.VIVO_GAME&&(this.tishi.active=!0),window.LookCnt=0,cc.sys.platform==cc.sys.BYTEDANCE_GAME||cc.sys.platform==cc.sys.WECHAT_GAME?this.initSdk():this.Init(),window.ks&&(this.kuaishouruanzhu.active=!0)},t.prototype.initSdk=function(){return r(this,void 0,void 0,function(){var e;return s(this,function(){return e={gid:"wx_wgmxpt",version:"1.0.1",tdAppKey:"8C4558CFFF524A5F87AEC8C507A40008"},window.tt&&(e.gid="tt_wgemx"),seeg.init(e),this.login(),console.log("seeg init",e),[2]})})},t.prototype.login=function(){var e=this;seeg.onLoginRet(function(t){console.log("login ret",t),window.SEEG_USER_INFO=t,e.getUserData()})},t.prototype.getUserData=function(){var e=this,t=y.sers().userSrv.getFeibiaoData();seeg.getUserData(function(o){var n;if(console.log("getuserdata",o),0==o.errCode&&(null===(n=o.data)||void 0===n?void 0:n.level)){var i=parseInt(o.data.level);i?t.level>i?(seeg.setUserData({level:t.level}),console.log("\u540c\u6b65\u6570\u636e\uff1a\u6709\u670d\u52a1\u5668\u6570\u636e\uff0c\u4f46\u6bd4\u672c\u5730\u6570\u636e\u5ef6\u8fdf\uff0c\u540c\u6b65\u672c\u5730\u6570\u636e\u7ed9\u670d\u52a1\u5668")):i>t.level?(t.level=i,y.sers().userSrv.setFeibiaoData(t),console.log("\u540c\u6b65\u6570\u636e\uff1a\u6709\u670d\u52a1\u5668\u6570\u636e\uff0c\u4e14\u9ad8\u4e8e\u672c\u5730\u6570\u636e\uff0c\u540c\u6b65\u670d\u52a1\u5668\u6570\u636e\u7ed9\u672c\u5730")):console.log("\u540c\u6b65\u6570\u636e\uff1a\u4e0d\u505a\u4efb\u4f55\u64cd\u4f5c"):(seeg.setUserData({level:t.level}),console.log("\u540c\u6b65\u6570\u636e\uff1a\u6ca1\u6709\u670d\u52a1\u5668\u6570\u636e\uff0c\u540c\u6b65\u672c\u5730\u6570\u636e\u7ed9\u670d\u52a1\u5668"))}e.Init()})},t.prototype.getRemoteConfig=function(){var e=this;seeg.getGameConfig({success:function(t){cc.log("getRemoteConfig",t),window.RemoteLevelConfig=t.LevelConfig,e.Init()},fail:function(){e.Init()}})},t.prototype.start=function(){this.node.getComponent(cc.Canvas).fitHeight=v.default.IPAD,this.node.getComponent(cc.Canvas).fitWidth=!v.default.IPAD},t.prototype.Init=function(){return r(this,void 0,void 0,function(){var e=this;return s(this,function(t){switch(t.label){case 0:return this.totalBar.progress=0,this.onceBar.progress=0,console.log("\u52a0\u8f7dbundle"),y.default.InitBundle(),this.totalCnt+=y.default.Managers.bundleMgr.getLength(),this.totalCnt+=this.loadAssetList.length+1,this.updateLoadLabel("\u52a0\u8f7d\u6e38\u620f..."),[4,y.default.Managers.bundleMgr.loadAllBundle(this.updateTotalBar.bind(this))];case 1:return t.sent(),[4,this.loadAllFrameAsset()];case 2:return t.sent(),console.log("-----\u52a0\u8f7dbundle\u5b8c\u6bd5-----"),this.loadBeginningScener().then(function(t){cc.log("+++++loadScene",t),e.updateTotalBar(),y.default.loadScene(t)}).catch(function(){}),[2]}})})},t.prototype.loadAllFrameAsset=function(){var e,t;return r(this,void 0,void 0,function(){var o,n,i,a;return s(this,function(r){switch(r.label){case 0:r.trys.push([0,6,7,12]),o=c(this.loadAssetList),r.label=1;case 1:return[4,o.next()];case 2:return(n=r.sent()).done?[3,5]:(i=n.value,this.updateLoadLabel(i.name),[4,this.loadPreloadAsset(i.bundleKey,i.name)]);case 3:r.sent(),this.updateTotalBar(),r.label=4;case 4:return[3,1];case 5:return[3,12];case 6:return a=r.sent(),e={error:a},[3,12];case 7:return r.trys.push([7,,10,11]),n&&!n.done&&(t=o.return)?[4,t.call(o)]:[3,9];case 8:r.sent(),r.label=9;case 9:return[3,11];case 10:if(e)throw e.error;return[7];case 11:return[7];case 12:return[2]}})})},t.prototype.loadPreloadAsset=function(e,t){var o=this;return new Promise(function(n,i){y.default.Managers.bundleMgr.BundleList[e].preloadDir("preload",o.updateOnceBar.bind(o),function(e){if(e)return i(),void console.error(t+"---\u52a0\u8f7d\u5931\u8d25!!",e);n()})})},t.prototype.loadBeginningScener=function(){var e=this;return new Promise(function(){return r(e,void 0,void 0,function(){var e,t;return s(this,function(o){switch(o.label){case 0:return this.updateLoadLabel("\u52a0\u8f7d\u6e38\u620f\u521d\u59cb\u573a\u666f"),(window.tt||window.wx)&&(window.tt||window.wx).onShow(function(e){console.log("\u542f\u52a8\u53c2\u6570\u5982\u4e0b\uff1a",e.query),console.log("\u6765\u6e90\u4fe1\u606f\u5982\u4e0b\uff1a",e.refererInfo),console.log("\u542f\u52a8\u573a\u666f\uff1a",e.scene),"101001"!=e.scene&&"021036"!=e.scene||(window.sceneCode=e.scene,u.default.emit(p.EventType.UIEvent.showCheckSceneBtn)),y.mgrs().soundMgr.isPlayMusic&&(console.log("\u64ad\u653e\u97f3\u4e50"),y.mgrs().soundMgr.playMusic(y.mgrs().soundMgr.shangyige))}),e=y.sers().userSrv.getFeibiaoData(),t=h.default.getBundleName(e.level),[4,d.default.getInstance().loadBundle(t)];case 1:return o.sent(),y.sers().uiSrv.showLoding(!0,function(){y.mgrs().gameMgr.enterMode(g.GAME_MODE.Feibiao,!0)}),[2]}})})})},t.prototype.updateTotalBar=function(){this.completedCnt++,this.totalBar.progress=this.completedCnt/this.totalCnt,this.totalBar.node.children[0].children[0].x=this.completedCnt/this.totalCnt*567-283.5},t.prototype.updateOnceBar=function(e,t){this.onceBar.progress=e/t},t.prototype.updateLoadLabel=function(e){this.lbLoad.string=e},t.prototype.update=function(){},i([S({type:cc.ProgressBar,displayName:"\u6574\u4f53\u8fdb\u5ea6\u6761"})],t.prototype,"totalBar",void 0),i([S({type:cc.ProgressBar,displayName:"\u5355\u6b21\u8fdb\u5ea6\u6761"})],t.prototype,"onceBar",void 0),i([S({type:cc.Label,displayName:"\u52a0\u8f7d\u6587\u672c"})],t.prototype,"lbLoad",void 0),i([S(cc.Node)],t.prototype,"tishi",void 0),i([S(cc.Node)],t.prototype,"kuaishouruanzhu",void 0),i([_],t)}(cc.Component);o.default=w,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",LevelMgr:"LevelMgr",OverallSystem:"OverallSystem",ResourceLoader:"ResourceLoader",frameNamespace:"frameNamespace",gameMode_Json:"gameMode_Json",userService:"userService"}],localStorageService:[function(e,t,o){"use strict";cc._RF.push(t,"576eaSob/dDGpNB6k2M346O","localStorageService");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._serviceName="\u672c\u5730\u7f13\u5b58\u670d\u52a1",t.keyPrefix="UMeGame-",t.localStorage=void 0,t._Initialize(),t}return n(t,e),t.prototype._Initialize=function(){e.prototype._Initialize.call(this),this.localStorage=cc.sys.localStorage},t.prototype.set=function(e,t){void 0!==this.localStorage?this.localStorage.setItem(this.keyPrefix+e,t):console.error("\u672c\u5730\u7f13\u5b58\u670d\u52a1\u672a\u6b63\u5e38\u5de5\u4f5c --- localStorage\u5c5e\u6027\u672a\u8d4b\u503c")},t.prototype.get=function(e){return void 0===this.localStorage?(console.error("\u672c\u5730\u7f13\u5b58\u670d\u52a1\u672a\u6b63\u5e38\u5de5\u4f5c --- localStorage\u5c5e\u6027\u672a\u8d4b\u503c"),null):this.localStorage.getItem(this.keyPrefix+e)},t}(i(e("frameNamespace")).default.ServiceBase);o.default=a,cc._RF.pop()},{frameNamespace:"frameNamespace"}],message:[function(e,t,o){"use strict";cc._RF.push(t,"75dd2NYm+FHq5VKS/Bmgwwj","message");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("pageBase")),s=cc._decorator,c=s.ccclass;s.property;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delay=2,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.init()},t.prototype.setData=function(e,t,o,n){void 0===o&&(o=null),void 0===n&&(n=180),this.delay=t,this.showNode.getChildByName("text").getComponent(cc.Label).string=e,o&&(this.showNode.getChildByName("icon").active=!0,this.showNode.getChildByName("icon").angle=n,this.showNode.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o)},t.prototype.init=function(){this.open()},t.prototype.open=function(){this.showNode.scale=.01,this.showNode.y-=50,this.showNode.opacity=0,cc.tween(this.showNode).parallel(cc.tween(this.showNode).to(.2,{scale:1}),cc.tween(this.showNode).by(.2,{y:50}),cc.tween(this.showNode).to(.2,{opacity:255})).by(this.delay,{y:80}).parallel(cc.tween(this.showNode).to(.5,{opacity:0}),cc.tween(this.showNode).by(.5,{y:50})).call(this.close.bind(this)).start()},t.prototype.close=function(){this.node.destroy()},t.prototype.onlyClose=function(){this.close()},t.prototype.update=function(){},i([c],t)}(r.default);o.default=l,cc._RF.pop()},{pageBase:"pageBase"}],miniGameApiBase:[function(e,t,o){"use strict";cc._RF.push(t,"8607acUtIVK5qSHiv1ZuFJG","miniGameApiBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.MiniGameApiBase=void 0,o.MiniGameApiBase=function(){},cc._RF.pop()},{}],oppoApi:[function(e,t,o){"use strict";cc._RF.push(t,"788e8y+4pNBfbwi9Ko03HXM","oppoApi");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0});var i=e("miniGameApiBase"),a=window.qg,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_AppId="",t.m_Secret="",t.m_VideoAdIdIndex=0,t.m_VideoAdIdList=[],t.m_BannerAdIdIndex=0,t.m_BannerAdId=[],t.m_InsertAdIdIndex=0,t.m_InsertAdId=[],t.m_videoAd=void 0,t.m_BannerAd=void 0,t.bannerSuccese=!1,t}return n(t,e),t.prototype.validAppId=function(){console.log("oppo-api-validAppId")},t.prototype.ready=function(){console.log("oppo-api-ready")},t.prototype.getUserInfo=function(e){a.getUserInfo(e)},t.prototype.showToast=function(e){a.showToast(e)},t.prototype.showLoading=function(e){a.showLoading(e)},t.prototype.hideLoading=function(){a.hideLoading()},t.prototype.showModal=function(){},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.login=function(e){a.login(e)},t.prototype.getVideoAdId=function(){var e=this.m_VideoAdIdList[this.m_VideoAdIdIndex];return this.m_VideoAdIdIndex++,this.m_VideoAdIdIndex>=this.m_VideoAdIdList.length&&(this.m_VideoAdIdIndex=0),e},t.prototype.loadAndShowVideoAd=function(e,t,o){var n=this;null==this.m_videoAd&&(this.m_videoAd=a.createRewardedVideoAd({adUnitId:this.getVideoAdId()}));var i=function i(a){a&&a.isEnded?e():t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"),n.m_videoAd.offClose(i),o&&o()};this.m_videoAd.load().then(function(){n.m_videoAd.show().then(function(){n.m_videoAd.onClose(i)}).catch(function(e){t("\u89c6\u9891\u663e\u793a\u9519\u8bef  :"+JSON.stringify(e)),n.m_videoAd.offClose(i),o&&o()})}).catch(function(e){t("\u89c6\u9891\u52a0\u8f7d\u9519\u8bef  :"+JSON.stringify(e)),n.m_videoAd.offClose(i),o&&o()})},t.prototype.getInsertAdId=function(){var e=this.m_InsertAdId[this.m_InsertAdIdIndex];return this.m_InsertAdIdIndex++,this.m_InsertAdIdIndex>=this.m_InsertAdId.length&&(this.m_InsertAdIdIndex=0),e},t.prototype.showInsertAd=function(e,t){console.log("\u52a0\u6296\u97f3 \u63d2\u5c4f \u5e7f\u544a");var o=this.getInsertAdId(),n=a.createInterstitialAd({adUnitId:o});n.load(),n.onLoad(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 :"+JSON.stringify(e)),n.destroy(),n=null,t&&t()})}),n.onError(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),n.destroy(),n=null,t&&t()}),n.onClose(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),null!=n&&(n.destroy(),n=null),e&&e()})},t.prototype.getBannerAdId=function(){var e=this.m_BannerAdId[this.m_BannerAdIdIndex];return this.m_BannerAdIdIndex++,this.m_BannerAdIdIndex>=this.m_BannerAdId.length&&(this.m_BannerAdIdIndex=0),e},t.prototype.showBannerAD=function(e,t,o,n,i){var r=this,s=a.getSystemInfoSync(),c=s.screenWidth,l=s.screenHeight,u=i&&i({screenWidth:c,screenHeight:l})||cc.v2(0,0);this.m_BannerAd&&!this.bannerSuccese&&(this.m_BannerAd.destroy(),this.m_BannerAd=null),this.m_BannerAd?this.m_BannerAd.show().then(function(){t&&t(),console.log("---------------------Banner\u5e7f\u544a\u76f4\u63a5\u663e\u793a\u6210\u529f")}).catch(function(e){o&&o(e),console.log("---------------------Banner\u5e7f\u544a\u76f4\u63a5\u663e\u793a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))}):(this.bannerSuccese=!0,null==this.m_BannerAd&&(this.m_BannerAd=a.createBannerAd({adUnitId:this.getBannerAdId(),adIntervals:30,style:{left:u.x,top:u.y}})),this.m_BannerAd.onResize(function(e){console.log(e.width,e.height,"banner\u957f\u5bbd")}),this.m_BannerAd.onLoad(function(){null!=e&&e.active&&e.isValid?(r.bannerSuccese=!1,r.m_BannerAd.show().then(function(){console.log("---------------------Banner\u5e7f\u544a\u663e\u793a\u6210\u529f"),r.m_BannerAd.onHide(function(){console.log("oppo-banner \u5e7f\u544a\u9690\u85cf"),n&&n()})}).catch(function(e){console.log("---------------------Banner\u5e7f\u544a\u7ec4\u4ef6\u663e\u793a\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))})):console.log("---------------------------------------------------------")}),this.m_BannerAd.onError(function(e){r.bannerSuccese=!1,console.log("---------------------Banner\u5e7f\u544a\u52a0\u8f7d\u9519\u8bef,\u9519\u8bef\u539f\u56e0\uff1a",JSON.stringify(e))}))},t.prototype.hideBanner=function(){},t.prototype.recordedGameScreenStart=function(e,t){console.log("oppo-api-recordedGameScreenStart"),t&&t(null)},t.prototype.recordedGameScreenStop=function(){return console.log("oppo-api-recordedGameScreenStop"),!0},t.prototype.shareRecordedGameScreen=function(e){console.log("oppo-api-shareRecordedGameScreen"),e&&e()},t.prototype.isHaveRecordedGameScreen=function(){return!0},t}(i.MiniGameApiBase);o.default=r,cc._RF.pop()},{miniGameApiBase:"miniGameApiBase"}],pageBase:[function(e,t,o){"use strict";cc._RF.push(t,"2144bVkLXpMkYUDQRZ6QMVE","pageBase");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("uiService")),s=e("OverallSystem"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u9875\u9762\u57fa\u7840\u7ec4\u4ef6",t.id=-1,t.showNode=null,t.colseDoFun=null,t}return n(t,e),t.prototype.setCloseDoFun=function(e){this.colseDoFun=e},t.prototype.start=function(){this._init()},t.prototype._init=function(){this.open()},t.prototype.initData=function(){},t.prototype.open=function(){r.default.openPageBasicAni(this.showNode,!0).then(function(){}).catch(function(){})},t.prototype.close=function(){var e=this;this.closeAni().then(function(){e.colseDoFun&&e.colseDoFun(),s.sers().uiSrv.deletePageRecord(e.id),e.node.destroy(),console.log("?????????????")}).catch()},t.prototype.onlyClose=function(){var e=this;this.closeAni().then(function(){s.sers().uiSrv.deletePageRecord(e.id),e.node.destroy()}).catch()},t.prototype.OnBtnClose=function(){s.mgrs().soundMgr.playBtnSound(),this.close(),console.log("OnBtnClose")},t.prototype.closeAni=function(e){return void 0===e&&(e=!1),r.default.closePageBasicAni(this.showNode,e)},t.prototype.update=function(){},i([u({type:cc.Node,displayName:"\u9700\u8981\u5c55\u793a\u7684\u8282\u70b9"})],t.prototype,"showNode",void 0),i([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{OverallSystem:"OverallSystem",uiService:"uiService"}],platformService:[function(e,t,o){"use strict";cc._RF.push(t,"919a1qAgCFIlY+MZ+xd04YN","platformService");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=i(e("frameNamespace")),r=i(e("h5Api")),s=i(e("huaWeiApi")),c=i(e("oppoApi")),l=i(e("ttApi")),u=i(e("vivoApi")),d=i(e("wxApi")),p=i(e("crazyGamesApi")),h=function(e){function t(){var t=e.call(this)||this;return t._serviceName="\u5e73\u53f0\u670d\u52a1",t.m_PlatformApi=void 0,t._Initialize(),t}return n(t,e),Object.defineProperty(t.prototype,"platformApi",{get:function(){return this.m_PlatformApi},enumerable:!1,configurable:!0}),t.prototype._Initialize=function(){e.prototype._Initialize.call(this),this.platformCheck(),this.m_PlatformApi=new t.m_PlatformApiClass,console.log("\u52a0\u8f7d\u5e73\u53f0api"),this.m_PlatformApi.validAppId(),this.m_PlatformApi.ready()},t.prototype.platformCheck=function(){if(void 0!==window.CrazyGames)return console.log("Platform: CrazyGames"),void(t.m_PlatformApiClass=p.default);if(window.hasOwnProperty("gamebox"))return console.warn("4399\u6e38\u620f\u76d2\u5b50"),void(t.m_PlatformApiClass=r.default);switch(console.log("\u5e73\u53f0"+cc.sys.platform),cc.sys.platform){case cc.sys.WECHAT_GAME_SUB:case cc.sys.WECHAT_GAME:t.m_PlatformApiClass=d.default;break;case cc.sys.BYTEDANCE_GAME:case cc.sys.BYTEDANCE_GAME_SUB:t.m_PlatformApiClass=l.default;break;case cc.sys.VIVO_GAME:t.m_PlatformApiClass=u.default;break;case cc.sys.OPPO_GAME:t.m_PlatformApiClass=c.default;break;case cc.sys.HUAWEI_GAME:t.m_PlatformApiClass=s.default;break;default:cc.sys.isNative?t.m_PlatformApiClass=r.default:3==cc.sys.platform||4==cc.sys.platform?t.m_PlatformApiClass=r.default:(console.log("Platform: Default (CrazyGames)"),t.m_PlatformApiClass=p.default)}},t.getPlatformApiClass=function(){return t.m_PlatformApiClass},t.m_PlatformApiClass=null,t}(a.default.ServiceBase);o.default=h,cc._RF.pop()},{crazyGamesApi:"crazyGamesApi",frameNamespace:"frameNamespace",h5Api:"h5Api",huaWeiApi:"huaWeiApi",oppoApi:"oppoApi",ttApi:"ttApi",vivoApi:"vivoApi",wxApi:"wxApi"}],powerBar:[function(e,t,o){"use strict";cc._RF.push(t,"deb08LptzRL1LNtwsebf4SM","powerBar");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("gameConfig1")),s=a(e("userService")),c=e("OverallSystem"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbPowerCnt=null,t.lbRePowerCnt=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype._init=function(){},t.prototype.OnBtnGetPower=function(){c.mgrs().soundMgr.playBtnSound(),c.sers().uiSrv.showUserGetPowerPage()},t.prototype.updatePowerCnt=function(){var e,t=c.sers().userSrv.power,o=r.default.MAX_POWER;e=t>o?t.toFixed(0):t+"/"+o,this.lbPowerCnt.string=e,0!=Number(c.sers().localStorageSrv.get(s.default.infinityPowerModel))&&(this.lbPowerCnt.string="MAX")},t.prototype.updateRePowerTimer=function(){if(c.sers().userSrv.isPowerLess()){this.lbRePowerCnt.node.active=!0;var e=c.sers().userSrv.getRePowerTimer(),t=Math.trunc(e/60)+":"+Math.trunc(e%60);this.lbRePowerCnt.string=t}else this.lbRePowerCnt.node.active=!1},t.prototype.update=function(){this.updatePowerCnt(),this.updateRePowerTimer()},i([d({type:cc.Label,displayName:"\u4f53\u529b\u6570"})],t.prototype,"lbPowerCnt",void 0),i([d({type:cc.Label,displayName:"\u4f53\u529b\u56de\u590d\u8ba1\u65f6"})],t.prototype,"lbRePowerCnt",void 0),i([u],t)}(cc.Component);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",gameConfig1:"gameConfig1",userService:"userService"}],rankingList:[function(e,t,o){"use strict";cc._RF.push(t,"1b8a3aLZEJHxqjXpdJbkELT","rankingList");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("pageBase")),s=e("OverallSystem"),c=a(e("ScrollViewExample")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.UINode=null,t.initSelectMode=1,t.curSelectNode=null,t.wodediqu=null,t}return n(t,e),t.prototype.start=function(){e.prototype.start.call(this),this.curSelectNode=this.UINode.children[0],this.wodepaiming()},t.prototype.selectCurMode=function(e,t){s.mgrs().soundMgr.playBtnSound();var o=Number(t);this.initSelectMode=o,null!=this.curSelectNode&&this.renewTargetSelectState(this.curSelectNode,!1),this.curSelectNode=e.currentTarget,this.renewTargetSelectState(e.currentTarget,!0),this.scrollView.getComponent(c.default).renewShow()},t.prototype.renewTargetSelectState=function(e,t){var o=e.getChildByName("select");null!=o&&(o.active=t)},t.prototype.wodepaiming=function(){var e=s.sers().userSrv.getUserData().city;if(null!=e&&""!=e){var t="",o=s.sers().userSrv.getUserData();o.maxLevel>=8&&(t="\xb7\u5927\u5e08"),o.maxLevel>=11&&(t="\xb7\u96c0\u795e"),this.wodediqu.string=e.cityName+t+" \u5730\u533a\u6392\u540d:\u7b2c"+e.rank+"\u540d"}else this.wodediqu.string="\u672a\u9009\u5730\u533a"},i([d({type:cc.Node,displayName:"\u6ed1\u52a8\u89c6\u56fe\u8282\u70b9"})],t.prototype,"scrollView",void 0),i([d({type:cc.Node,displayName:"UI\u8282\u70b9"})],t.prototype,"UINode",void 0),i([d(cc.Label)],t.prototype,"wodediqu",void 0),i([u],t)}(r.default);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",ScrollViewExample:"ScrollViewExample",pageBase:"pageBase"}],rankingObj:[function(e,t,o){"use strict";cc._RF.push(t,"f3d46htdbJMN6Ti6H28icR8","rankingObj");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label1=null,t.label2=null,t.label3=null,t.bg2=null,t.itemID=-1,t.label4=null,t}return n(t,e),t.prototype.updateContent1=function(e,t,o){var n=this;this.itemID=t;var i=e.cityRankInfo[t];i?(this.node.active=!0,this.label1.string=""+(t+1),this.label2.string=""+i.cityName,this.label3.string=i.grade+"\u4f4d",this.label4.string=i.university+"\u4f4d",this.node.getChildByName("spDi").children.forEach(function(e,t){e.active=t==n.itemID}),this.bg2.active=t%2==1,this.label1.node.color=t<3?cc.color().fromHEX("#ffffff"):cc.color().fromHEX("#000000"),this.renewShow(o)):this.node.active=!1},t.prototype.renewShow=function(e){this.node.getChildByName("nums").children.forEach(function(t,o){t.active=o==e-1})},i([s(cc.Label)],t.prototype,"label1",void 0),i([s(cc.Label)],t.prototype,"label2",void 0),i([s(cc.Label)],t.prototype,"label3",void 0),i([s(cc.Node)],t.prototype,"bg2",void 0),i([s({type:cc.Label})],t.prototype,"label4",void 0),i([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],seeg_td:[function(e,t){"use strict";cc._RF.push(t,"d8ceaUS+GpBNqzg9xk+r2V7","seeg_td"),function(){var e={629:function(){!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof GameGlobal?GameGlobal:{};"undefined"==typeof window&&(e.window=e),window.zs=window.zs||{};var t=void 0!==window.ks?window.ks:void 0!==window.tt?window.tt:void 0!==window.wx?window.wx:null,o=void 0!==window.ks?"ks":void 0!==window.tt?"tt":void 0!==window.wx?"wx":"web";if(zs.pf=o,!t)return zs.login=function(e){var t,o=function(){var t,o;null==e||null===(t=e.fail)||void 0===t||t.call(e,{errCode:-1,errMsg:"\u5e73\u53f0\u4e0d\u652f\u6301"}),null==e||null===(o=e.complete)||void 0===o||o.call(e)};(t=[{name:"device",keyPath:"name"}],new Promise(function(e,o){if(window.indexedDB){var n=window.indexedDB.open("zs_sdk",2);n.onerror=function(){o&&o({errCode:-1,errMsg:"\u767b\u5f55\u5931\u8d25"})},n.onsuccess=function(t){var o=t.target.result;e(o)},n.onupgradeneeded=function(e){var o=e.target.result;t.forEach(function(e){o.objectStoreNames.contains(e.name)||(e.keyPath?o.createObjectStore(e.name,{keyPath:e.keyPath}):o.createObjectStore(e.name,{autoIncrement:!0}))})}}else o&&o({errCode:-1,errMsg:"\u5e73\u53f0\u4e0d\u652f\u6301"})})).then(function(t){(function(e,t){return new Promise(function(o){e.transaction(t).objectStore(t).openCursor().onsuccess=function(e){var t=e.target.result;t?("uuid"===t.key&&o(t.value),t.continue()):o(null)}})})(t,"device").then(function(o){var n,i,a;null==o?(a="web_"+Math.random().toString(36).substring(2),function(e,t,o){new Promise(function(){var n=e.transaction([t],"readwrite").objectStore(t).put(o);n.onsuccess=function(){},n.onerror=function(){}})}(t,"device",{name:"uuid",value:a})):a=o.value,null==e||null===(n=e.success)||void 0===n||n.call(e,{pf:"zs",code:a}),null==e||null===(i=e.complete)||void 0===i||i.call(e)}).catch(function(){o()})}).catch(function(){o()})},zs.request=function(e){if(null!=e){var t=!0,o=e.url;if(null!=o&&""!==o){var n,i=e.responseType||"text",a=e.dataType||"json",r=e.timeout||6e4,s=new XMLHttpRequest,c=e.method||"GET",l=null;if(e.data&&"string"!=typeof e.data?"GET"===c||"application/x-www-form-urlencoded"===(null===(n=e.header)||void 0===n?void 0:n["content-type"])?(l=function(e){var t="";for(var o in e)t+="".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o]),"&");return t.slice(0,t.length-1)}(e.data),"GET"===c&&(o+=l)):l=JSON.stringify(e.data):l=e.data,s.onreadystatechange=function(){if(4==s.readyState){if(s.status>=200&&s.status<400){var t,o,n=null;if(n="arraybuffer"===i?s.response:s.responseText,"json"===a)try{n=JSON.parse(n)}catch(e){return void d(-1,"\u670d\u52a1\u5668\u6570\u636e\u89e3\u6790\u5931\u8d25")}return null===(t=e.success)||void 0===t||t.call(e,{data:n,statusCode:s.status,header:s.getAllResponseHeaders()}),void(null===(o=e.complete)||void 0===o||o.call(e))}d(s.status,"\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25")}},s.onerror=function(){d(-1,"\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef")},s.ontimeout=function(){d(-1,"\u7f51\u7edc\u8bf7\u6c42\u8d85\u65f6")},s.timeout=r,s.responseType=i,s.open(c,o,!0),e.header)for(var u in e.header)s.setRequestHeader(u,e.header[u]);return"POST"===c&&null!=l?s.send(l):s.send(),s}d(-1,"\u7f51\u7edc\u8bf7\u6c42\u5730\u5740\u4e3a\u7a7a")}function d(o,n){var i,a;t&&(t=!1,null===(i=e.fail)||void 0===i||i.call(e,{errCode:o,errMsg:n}),null===(a=e.complete)||void 0===a||a.call(e))}},zs.getLaunchOptionsSync=function(){return{}},zs.getSystemInfoSync=function(){return{}},zs.getSystemInfo=function(e){var t,o;null==e||null===(t=e.success)||void 0===t||t.call(e,{}),null==e||null===(o=e.complete)||void 0===o||o.call(e,{})},zs.setStorageSync=localStorage.setItem,zs.getStorage=function(e){var t,o,n=localStorage.getItem(e.key);null==e||null===(t=e.success)||void 0===t||t.call(e,n),null==e||null===(o=e.complete)||void 0===o||o.call(e)},zs.getStorageSync=localStorage.getItem,zs.removeStorageSync=localStorage.removeItem,zs.getStorageInfoSync=function(){return null},zs.getNetworkType=function(e){var t,o;null==e||null===(t=e.success)||void 0===t||t.call(e,{networkType:"unknown"}),null==e||null===(o=e.complete)||void 0===o||o.call(e,{networkType:"unknown"})},zs.onShow=function(){},zs.onHide=function(){},void(zs.getAccountInfoSync=function(){return{miniProgram:{envVersion:"develop",version:"1.0.0"}}});if(zs.login=function(e){t.login({success:function(n){var i;"ks"===o&&e.old?t.getUserInfo({success:function(t){var o;null!=t&&t.unionID?e.success({pf:"ks",is_old:0,unionID:t.unionID}):null===(o=e.fail)||void 0===o||o.call(e,{errCode:-1,errMsg:"\u4e0d\u652f\u6301"})},fail:e.fail,complete:e.complete}):(n.pf=o,"ks"===o&&(n.is_old=1),null===(i=e.success)||void 0===i||i.call(e,n))},fail:function(t){var o,n;null===(o=e.fail)||void 0===o||o.call(e,t),null===(n=e.complete)||void 0===n||n.call(e)},complete:e.complete})},zs.request=t.request,zs.getLaunchOptionsSync=function(){var e=t.getLaunchOptionsSync();return"ks"===o&&(e.scene=e.from),e},zs.getSystemInfoSync=t.getSystemInfoSync,zs.getSystemInfo=t.getSystemInfo,zs.setStorageSync=t.setStorageSync,zs.getStorage=t.getStorage,zs.getStorageSync=t.getStorageSync,zs.removeStorageSync=t.removeStorageSync,zs.getStorageInfoSync=t.getStorageInfoSync,zs.getNetworkType=t.getNetworkType,zs.onShow=t.onShow,zs.onHide=t.onHide,"tt"===o){var n=null;zs.getAccountInfoSync=function(){if(n)return{miniProgram:n};n={};var e=zs.getLaunchOptionsSync();if(e&&e.extra&&(n.version=e.extra.mpVersion,n.appId=e.extra.appId),tt.getEnvInfoSync){var t=tt.getEnvInfoSync().microapp.envType;n.envVersion="production"===t?"release":"development"===t?"trial":"preview"===t?"develop":t}return{miniProgram:n}}}else zs.getAccountInfoSync=t.getAccountInfoSync}()},184:function(e,t,o){function n(){var e;n=function(){return t};var t={},o=Object.prototype,a=o.hasOwnProperty,r=Object.defineProperty||function(e,t,o){e[t]=o.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,o){return e[t]=o}}function p(e,t,o,n){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),s=new O(n||[]);return r(a,"_invoke",{value:A(e,o,s)}),a}function h(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",g="suspendedYield",v="executing",y="completed",m={};function _(){}function S(){}function w(){}var b={};d(b,c,function(){return this});var P=Object.getPrototypeOf,C=P&&P(P(E([])));C&&C!==o&&a.call(C,c)&&(b=C);var N=w.prototype=_.prototype=Object.create(b);function I(e){["next","throw","return"].forEach(function(t){d(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){function o(n,r,s,c){var l=h(e[n],e,r);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){o("next",e,s,c)},function(e){o("throw",e,s,c)}):t.resolve(d).then(function(e){u.value=e,s(u)},function(e){return o("throw",e,s,c)})}c(l.arg)}var n;r(this,"_invoke",{value:function(e,i){function a(){return new t(function(t,n){o(e,i,t,n)})}return n=n?n.then(a,a):a()}})}function A(t,o,n){var i=f;return function(a,r){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===a)throw r;return{value:e,done:!0}}for(n.method=a,n.arg=r;;){var s=n.delegate;if(s){var c=M(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=v;var l=h(t,o,n);if("normal"===l.type){if(i=n.done?y:g,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=y,n.method="throw",n.arg=l.arg)}}}function M(t,o){var n=o.method,i=t.iterator[n];if(i===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,M(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(i,t.iterator,o.arg);if("throw"===a.type)return o.method="throw",o.arg=a.arg,o.delegate=null,m;var r=a.arg;return r?r.done?(o[t.resultName]=r.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,m):r:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function E(t){if(t||""===t){var o=t[c];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function o(){for(;++n<t.length;)if(a.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=e,o.done=!0,o};return r.next=r}}throw new TypeError(i(t)+" is not iterable")}return S.prototype=w,r(N,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:S,configurable:!0}),S.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},I(T.prototype),d(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,o,n,i,a){void 0===a&&(a=Promise);var r=new T(p(e,o,n,i),a);return t.isGeneratorFunction(o)?r:r.next().then(function(e){return e.done?e.value:r.next()})},I(N),d(N,u,"Generator"),d(N,c,function(){return this}),d(N,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var o in this)"t"===o.charAt(0)&&a.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function n(n,i){return s.type="throw",s.arg=t,o.next=n,i&&(o.method="next",o.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),B(o),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;B(o)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:E(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=o.nmd(e);var a=function(e,t){return e.orderId&&"string"==typeof e.orderId?"number"!=typeof e.amount||e.amount!=e.amount?(console.warn("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8ba2\u5355\u91d1\u989d"),!1):"string"!=typeof e.currencyType||3!==e.currencyType.length?(console.warn("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8d27\u5e01\u7c7b\u578b"),!1):!t||"string"==typeof e.paymentType||void 0===e.paymentType||(console.warn("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u652f\u4ed8\u65b9\u5f0f"),!1):(console.warn("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8ba2\u5355ID"),!1)},r="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},s=null,c=[],l=["1","0","10"],u={device:!0,network:!0,uid:!0},d={sdk:{version:l[0],minorVersion:l[1],build:l[2],platform:"Weapp",partner:""},app:{versionCode:"1",versionName:"1.0.0",installTime:0,displayName:"",appKey:"",uniqueId:"wxAppId",channel:""},device:{type:"mobile",softwareConfig:{},hardwareConfig:{},deviceId:{}},networks:[{type:"wifi",available:!1,connected:!1},{type:"cellular",available:!1,connected:!1,current:[]},{type:"unknown",available:!1,connected:!1}],locations:[{}],appContext:{}};(function(e){function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,r=Object.create(a.prototype),s=new h(i||[]);return r._invoke=l(e,o,s),r}function o(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function n(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,i,a,s){var c=o(e[n],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"===(void 0===u?"undefined":r(u))&&m.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,s)},function(e){t("throw",e,a,s)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},function(e){return t("throw",e,a,s)})}s(c.arg)}var n;this._invoke=function(e,o){function i(){return new Promise(function(n,i){t(e,o,n,i)})}return n=n?n.then(i,i):i()}}function l(e,t,n){var i=P;return function(a,r){if(i===N)throw new Error("Generator is already running");if(i===I){if("throw"===a)throw r;return g()}for(n.method=a,n.arg=r;;){var s=n.delegate;if(s){var c=u(s,n);if(c){if(c===T)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===P)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=N;var l=o(e,t,n);if("normal"===l.type){if(i=n.done?I:C,l.arg===T)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=I,n.method="throw",n.arg=l.arg)}}}function u(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,u(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=o(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,T;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,T):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[S];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(m.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:g}}function g(){return{value:v,done:!0}}var v,y=Object.prototype,m=y.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},S=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",b=_.toStringTag||"@@toStringTag";e.wrap=t;var P="suspendedStart",C="suspendedYield",N="executing",I="completed",T={},A={};A[S]=function(){return this};var M=Object.getPrototypeOf,D=M&&M(M(f([])));D&&D!==y&&m.call(D,S)&&(A=D);var B=a.prototype=n.prototype=Object.create(A);i.prototype=B.constructor=a,a.constructor=i,a[b]=i.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,b in e||(e[b]="GeneratorFunction")),e.prototype=Object.create(B),e},e.awrap=function(e){return{__await:e}},s(c.prototype),c.prototype[w]=function(){return this},e.AsyncIterator=c,e.async=function(o,n,i,a){var r=new c(t(o,n,i,a));return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},s(B),B[b]="Generator",B[S]=function(){return this},B.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},e.values=f,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,o.next=t,n&&(o.method="next",o.arg=v),!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var r=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(r&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,T):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),p(o),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;p(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:f(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=v),T}}})("object"===r(e)?e.exports:{});var p=function e(t,o,n){function i(r){if(!o[r]){if(!t[r]){if(a)return a(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var c=o[r]={exports:{}};t[r][0].call(c.exports,function(e){return i(t[r][1][e]||e)},c,c.exports,e,t,o,n)}return o[r].exports}for(var a=void 0,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t){function o(){l=!1,r.length?c=r.concat(c):u=-1,c.length&&n()}function n(){if(!l){var e=setTimeout(o);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var r,s=t.exports={},c=[],l=!1,u=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new i(e,t)),1!==c.length||l||setTimeout(n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],2:[function(e,t){function o(e){i=function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(Array(256).keys())),o=0;e=function(e){for(var t=[],o=0,n=e.length;n>o;o++)t.push(e.charCodeAt(o));return t}(e);for(var n=0,i=t.length;i>n;n++){var a=[t[o=(o+t[n]+e[n%e.length])%256],t[n]];t[n]=a[0],t[o]=a[1]}return t}(e)}var i="",a=n().mark(function e(t){var o,i,a;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=0,i=0;case 1:return i=(i+t[o=(o+1)%256])%256,a=[t[i],t[o]],t[o]=a[0],t[i]=a[1],e.next=9,t[(t[o]+t[i])%256];case 9:e.next=1;break;case 11:case"end":return e.stop()}},e,this)});o.prototype.encrypt=function(e){for(var t=function(e){var t,o,n=new Array;t=e.length;for(var i=0;i<t;i++)(o=e.charCodeAt(i))>=65536&&o<=1114111?(n.push(o>>18&7|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)):o>=2048&&o<=65535?(n.push(o>>12&15|224),n.push(o>>6&63|128),n.push(63&o|128)):o>=128&&o<=2047?(n.push(o>>6&31|192),n.push(63&o|128)):n.push(255&o);return n}(e),o=t.length,n=new ArrayBuffer(o),r=a(i.slice(0)),s=new Int8Array(n),c=0;o>c;c++)s[c]=t[c]^r.next().value;return s},o.prototype.decrypt=function(e){for(var t="",o=a(i.slice(0)),n=0,r=(e=e.match(/[a-z0-9]{2}/gi)).length;r>n;n++)t+=String.fromCharCode(parseInt(e[n],16)^o.next().value);return t},t.exports=o},{}],3:[function(e,t){(function(e,o){function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":void 0===e?"undefined":r(e)}!function(o){function i(e,t,o,n){var i=Object.create((t||r).prototype),a=new g(n||[]);return i._invoke=p(e,o,a),i}function a(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function r(){}function s(){}function c(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){this.arg=e}function d(t){function o(e,o){var n=t[e](o),i=n.value;return i instanceof u?Promise.resolve(i.arg).then(a,r):Promise.resolve(i).then(function(e){return n.value=e,n})}var i;"object"===(void 0===e?"undefined":n(e))&&e.domain&&(o=e.domain.bind(o));var a=o.bind(t,"next"),r=o.bind(t,"throw");o.bind(t,"return"),this._invoke=function(e,t){function n(){return o(e,t)}return i=i?i.then(n,n):new Promise(function(e){e(n())})}}function p(e,t,o){var n=P;return function(i,r){if(n===N)throw new Error("Generator is already running");if(n===I){if("throw"===i)throw r;return y()}for(;;){var s=o.delegate;if(s){if("return"===i||"throw"===i&&s.iterator[i]===m){o.delegate=null;var c=s.iterator.return;if(c&&"throw"===(l=a(c,s.iterator,r)).type){i="throw",r=l.arg;continue}if("return"===i)continue}var l;if("throw"===(l=a(s.iterator[i],s.iterator,r)).type){o.delegate=null,i="throw",r=l.arg;continue}if(i="next",r=m,!(u=l.arg).done)return n=C,u;o[s.resultName]=u.value,o.next=s.nextLoc,o.delegate=null}if("next"===i)o._sent=r,o.sent=n===C?r:m;else if("throw"===i){if(n===P)throw n=I,r;o.dispatchException(r)&&(i="next",r=m)}else"return"===i&&o.abrupt("return",r);if(n=N,"normal"===(l=a(e,t,o)).type){n=o.done?I:C;var u={value:l.arg,done:o.done};if(l.arg!==T)return u;o.delegate&&"next"===i&&(r=m)}else"throw"===l.type&&(n=I,i="throw",r=l.arg)}}}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function v(e){if(e){var t=e[S];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,n=function t(){for(;++o<e.length;)if(_.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:m,done:!0}}var m,_=Object.prototype.hasOwnProperty,S="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"===(void 0===t?"undefined":n(t)),b=o.regeneratorRuntime;if(b)w&&(t.exports=b);else{(b=o.regeneratorRuntime=w?t.exports:{}).wrap=i;var P="suspendedStart",C="suspendedYield",N="executing",I="completed",T={},A=c.prototype=r.prototype;s.prototype=A.constructor=c,c.constructor=s,s.displayName="GeneratorFunction",b.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},b.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):e.__proto__=c,e.prototype=Object.create(A),e},b.awrap=function(e){return new u(e)},l(d.prototype),b.async=function(e,t,o,n){var a=new d(i(e,t,o,n));return b.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},l(A),A[S]=function(){return this},A.toString=function(){return"[object Generator]"},b.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},b.values=v,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,o.next=t,!!n}if(this.done)throw e;for(var o=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var r=_.call(i,"catchLoc"),s=_.call(i,"finallyLoc");if(r&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?this.next=i.finallyLoc:this.complete(a),T},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),f(o),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;f(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:v(e),resultName:t,nextLoc:o},T}}}}("object"===(void 0===o?"undefined":n(o))?o:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)}).call(this,e("_process"),void 0!==o.g?o.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],4:[function(e,t){t.exports={full:"1.2.0",major:"1",minor:"2",dot:"0"}},{}]},{},[2])(2),h={firstInit:!1,initTime:0,sessionId:"",sessionStartTime:0,appLaunchInfo:null,sendFailTimes:0,bakData:{},Store:{set:function(e,t){try{zs.setStorageSync("TDSDK_"+e,t)}catch(e){}h.bakData["TDSDK_"+e]=t},get:function(e){var t=null;try{t=zs.getStorageSync("TDSDK_"+e)}catch(e){}return t||(t=h.bakData["TDSDK_"+e]||null),t},remove:function(e){try{zs.removeStorageSync("TDSDK_"+e)}catch(e){}delete h.bakData["TDSDK_"+e]},getInfo:function(){try{return zs.getStorageInfoSync()||{}}catch(e){return{}}}},random:function(){for(var e="",t=0;t<12;t++)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".charAt(Math.floor(62*Math.random()));return e},isNumber:function(e){return"number"==typeof e&&!isNaN(e)},timestamp:function(){return(new Date).getTime()},deviceId:function(){return"weapp-"+this.timestamp()+"-"+this.random()},getEventId:function(e){if(!e&&!/0{1}/.test(e))return"";var t="";try{t=e.toString()}catch(o){try{t=JSON.stringify(e)}catch(e){}}return t.split(" ")[0].slice(0,64)},addStoreData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="EVENT_"+h.sessionId,o=h.Store.get(t);o=o&&o.length?o.concat(e):e,h.Store.set(t,o),o.length>=30&&(w.sessionContinue(),w.startLoop())},eventHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var o={eventId:e,count:1,startTime:h.timestamp()};if("WeappShare"===e){o.shareTickets=t.shareTickets;var n={};n.user=h.deviceId,n.title=t.title,n.desc=t.desc;var i=t.path;i?i=(i=h.getUrl("",h.getSearchParams(t.path))).substring(1):console.log("\u5206\u4eab\u4e8b\u4ef6\u7684path\u53c2\u6570\u7f3a\u5c11\u6709\u6548\u503c"),n.path=i,o.params=n}h.addStoreData([o])}},getCacheData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),o=[],n=[];return t.length&&t.forEach(function(t){var i=e[t];i&&i.sendFail&&i.data&&(o=o.concat(i.data),n.push(t))}),{data:o,keys:n}},sendCacheList:{},updateSendTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=d.device.deviceId,n=h.Store.get("uid"),i=h.Store.get("deviceId");return e.forEach(function(a,r){if(!a.device.deviceId.tid&&!a.device.deviceId.uid)if(o.tid){if(a.device.deviceId.tid=o.tid,o.uid)return a.device.deviceId.uid=o.uid,!0}else{if(o.uid)return a.device.deviceId.uid=o.uid,a.device.deviceId.tid=o.uid,!0;if(f.isWaitingForOpenid){if(n)return a.device.deviceId.uid=n,a.device.deviceId.tid=n,o.uid=n,o.tid=n,!0;if(i)a.device.deviceId.tid=i,a.device.deviceId.uid="";else{var s=h.deviceId();o.tid=s,o.uid="",h.Store.set("deviceId",s),a.device.deviceId.tid=s,a.device.deviceId.uid="",f.shouldOverwriteTid=!1}}else a.device.deviceId.tid=o.tid,a.device.deviceId.uid=o.uid}a.action&&a.action.data&&(e[r].action.data.start=t)}),e},getRequestData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=JSON.parse(JSON.stringify(e)),o=h.sendCacheList;if(Object.keys(o).length){var n=h.getCacheData(o);t=t.concat(n.data),n.keys.forEach(function(e){return delete o[e]})}var i=t.length;if(i){var a=[];i>=30?(JSON.stringify(t).length>61440&&a.push(t.splice(0,i/2)),a.push(t)):a.push(t),a.forEach(function(e){var t=h.timestamp();o[t]={data:e,sendFail:!1};var n=h.updateSendTime(e,h.timestamp());h.request(t,n)})}},handleData:function(e){return new p("r5czusfu0wjcaz4pp01v2k7qte55xc25fngq4ylby2civ230vdy6uy6goz9w4kgfqjk31l8khfzfvbxj7emcprjyy8nngf0r9dvxzwbhm2uw7ljre52jt95lg0knyp8e5c4go44s3z5ciy58h0tuosmwhupa62rdnkeicgdba6w6f0kenp0xac7so8j1vdbjpqwyprx2ouenv22isustwnpltt9ui5plnijd4bq4013o3mzdkllozn26zwds9x38").encrypt(e)},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=h.handleData(JSON.stringify(t));zs.request({url:"https://h5.udrig.com/app/wx/v1",data:o.buffer,header:{"content-type":"application/octet-stream","decrypt-version":"v1.0.0"},method:"POST",success:function(t){200===t.statusCode&&(delete h.sendCacheList[e],h.sendFailTimes=0,P.appIsHide||(clearTimeout(w.timeout),w.timeout=null,w.startLoop()))},fail:function(){P.appIsHide?(h.Store.set("RESEND_"+e,t),delete h.sendCacheList[e]):(h.sendCacheList[e].sendFail=!0,h.sendFailTimes<5&&h.sendFailTimes++)}})},getUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.keys(t).sort()||[],n=o.length?e+"?":e;return o.forEach(function(e,o){0!==o&&(n+="&"),n+=e+"="+t[e]}),n},getSearchParams:function(e){if(!e)return{};var t={};return e.split("&").forEach(function(e){var o=e.split("=");2===o.length&&(t[o[0]]=o[1])}),t}},f={shouldOverwriteTid:!0,isWaitingForOpenid:!0,isFirst:!0,init:function(){var e=this,t=h.Store.get("deviceId"),o=h.Store.get("uid");if(o){var n=t||o;e.setData(n,o)}else new Promise(this.getOpenid).then(function(o){var n=void 0;t?n=t:(n=o,h.Store.set("deviceId",o)),e.setData(n,o),h.Store.set("uid",o),f.isWaitingForOpenid=!1}).catch(function(){var o;o=t||h.deviceId(),e.setData(o,""),f.shouldOverwriteTid&&h.Store.set("deviceId",o),f.isWaitingForOpenid=!1})},setData:function(e,t){f.shouldOverwriteTid?d.device.deviceId={tid:e,uid:t}:d.device.deviceId.uid=t,u.uid=!1,w.getAppProfile()},getOpenid:function(e){s?e(s):c.push(e)},reGetOpenid:function(e,t){f.isFirst=!1,f.getOpenid(e,t)}},g={placeOrder:{domain:"iap",name:"placeOrder"},orderPaySucc:{domain:"iap",name:"pay"},cancelOrder:{domain:"iap",name:"cancelOrder"},register:{domain:"account",name:"register"},login:{domain:"account",name:"login"},update:{domain:"account",name:"update"}},v={sendTime:0,statusType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],o=JSON.parse(JSON.stringify(d)),n={domain:e.domain,name:e.name,data:e.data};o.ts=e.data.start||h.timestamp(),o.action=n,t.push(o),h.getRequestData(t)},dataType:function(e,t){var o=this.getStoreList(e,t);h.getRequestData(o)},getEventType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g[e.domainName];if(t)return t;if(e.pageEvent)return{domain:"page",name:"leave"};if(e.eventId){var o={};switch(e.eventId){case"WeappShare":o={domain:"user",name:"share"};break;case"WeappPullDownRefresh":o={domain:"page",name:"pullDownRefresh"};break;case"WeappReachBottom":o={domain:"page",name:"reachBottom"};break;default:o={domain:"appEvent",name:""}}return o}},getStoreList:function(e,t){var o=this,n=[],i=e||h.sessionId,a=JSON.stringify(d),r=h.Store.get("EVENT_"+i);return r&&r.length&&(r.forEach(function(e){var i=o.getEventType(e),r=JSON.parse(a);t&&r.appContext&&(r.appContext.sessionStartTime=t);var s=JSON.parse(JSON.stringify(e));s.pageEvent&&delete s.pageEvent,s.domainName||(s.status=2),s.domainName&&delete s.domainName;var c={domain:i.domain,name:i.name,data:s};r.ts=s.startTime?s.startTime:h.timestamp(),r.action=c,n.push(r)}),h.Store.remove("EVENT_"+i)),n}},y={handleData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=function(e){var t={},o=h.Store.get("account")||{};return"update"!==e&&"setProfile"!==e||(t=o||{}),{getInfo:function(){return t},setId:function(e){if("string"!=typeof e||""===e)return"accountId \u7c7b\u578b\u9519\u8bef";e===o.accountId?t=o:t.accountId=e},setName:function(e){if("string"!=typeof e)return"profile name \u7c7b\u578b\u9519\u8bef";t.name=e},setAge:function(e){if(!h.isNumber(e))return"profile age \u7c7b\u578b\u9519\u8bef";t.age=e},setGender:function(e){var o=Number(e);if(0!==o&&1!==o&&2!==o)return"profile gender \u7c7b\u578b\u9519\u8bef";t.gender=o},setType:function(e){var o=Number(e);if(!(h.isNumber(o)&&/^[0-9][0-9]*$/.test(o)&&(o>=0&&o<=6||o>=11&&o<=20)))return"account type \u7c7b\u578b\u9519\u8bef";t.type=o},setProperty:function(e,o){if(!h.isNumber(o)&&"string"!=typeof o)return"profile "+e+" \u7c7b\u578b\u9519\u8bef";t[e]=o}}}(t),n={name:"setName",gender:"setGender",age:"setAge",accountType:"setType"},i=!1,a=new RegExp("^property[1-9]$");if(e.accountId&&"update"!==t&&"setProfile"!==t){var r=o.setId(e.accountId);if(r)return i=!0,console.error(r)}if(Object.keys(e).forEach(function(t){if(!i){var r=e[t],s=n[t];if(s){var c=o[s](r);if(c)return i=!0,console.error(c)}else if(a.test(t)||"property10"===t){var l=o.setProperty(t,r);if(l)return i=!0,console.error(l)}}}),!i){var s=o.getInfo();if(y.updateAccountInfo("account",s),"register"===t||"login"===t||"update"===t){var c=Object.assign({domainName:t},e);h.addStoreData([c])}}},updateAccountInfo:function(e,t){h.Store.set(e,t),y.assignAccount(t)},setAccountInfo:function(e){var t=h.Store.get(e);"[object Object]"===Object.prototype.toString.call(t)&&y.assignAccount(t)},assignAccount:function(e){d.appContext.account=e}},m={register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.accountId?e.accountType||0===e.accountType?void y.handleData(e,"register"):console.error("Register\u4e8b\u4ef6\u7f3a\u5c11accountType\u5b57\u6bb5"):console.error("Register\u4e8b\u4ef6\u7f3a\u5c11accountId\u5b57\u6bb5")},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.accountId?e.accountType||0===e.accountType?void y.handleData(e,"login"):console.error("Login\u4e8b\u4ef6\u7f3a\u5c11accountType\u5b57\u6bb5"):console.error("Login\u4e8b\u4ef6\u7f3a\u5c11accountId\u5b57\u6bb5")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.handleData(e,"update")}},_={placeOrder:function(e){if(!a(e))return!1;var t={orderId:e.orderId,amount:e.amount,currencyType:e.currencyType,domainName:"placeOrder"};h.addStoreData([t])},orderPaySucc:function(e){if(!a(e,!0))return!1;var t={orderId:e.orderId,amount:e.amount,currencyType:e.currencyType,payType:e.paymentType,domainName:"orderPaySucc"};h.addStoreData([t])},cancelOrder:function(e){if(!a(e))return!1;var t={orderId:e.orderId,amount:e.amount,currencyType:e.currencyType,domainName:"cancelOrder"};h.addStoreData([t])}},S=!1,w={timeout:null,init:function(e){d.app.versionCode=e.versionCode||"1",d.app.versionName=e.versionName,d.app.displayName=e.displayName||"",d.app.appKey=e.appKey||"",d.app.channel=e.channel||"";var t=zs.getLaunchOptionsSync();h.appLaunchInfo=JSON.parse(JSON.stringify(t)),h.appLaunchInfo.scene=t.scene?t.scene.toString():"",f.init(),w.judgeRequireData(),w.getLocalParams(),w.getSystemInfo(),w.getNetwork()},launchRequest:function(){v.statusType({domain:"app",name:"init",data:{first:!0}})},sessionStart:function(e){var t=h.appLaunchInfo||{},o={status:1,duration:0,name:t.path,scene:t.scene,query:t.query||{},shareTicket:t.shareTicket,referrerInfo:t.referrerInfo};e&&w.setNewSession(),o.start=h.Store.get("session_time")||h.timestamp(),o.url=h.getUrl(o.name,o.query),v.statusType({domain:"session",name:"begin",data:o})},sessionContinue:function(){v.dataType()},sessionEnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={status:3,start:e.startTime,duration:e.duration};v.statusType({domain:"session",name:"end",data:t})},sendTmpSession:function(){w.sessionContinue(),w.startLoop()},startLoop:function(){w.timeout&&(clearTimeout(w.timeout),w.timeout=null);var e=3e3*(h.sendFailTimes+1);w.timeout=setTimeout(function(){w.sendTmpSession()},e)},judgeRequireData:function(){d.app.appKey||(d.app.appKey="",console.error("\u8bf7\u586b\u5199\u60a8\u5728TalkingData\u7533\u8bf7\u7684App ID")),d.app.displayName||(d.app.displayName="appname",console.error("\u8bf7\u586b\u5199\u60a8\u7684\u5c0f\u7a0b\u5e8f\u540d\u79f0"))},getLocalParams:function(){var e=h.Store.get("initTime");e?h.initTime=e:(h.initTime=h.timestamp(),h.Store.set("initTime",h.initTime),h.firstInit=!0),d.app.installTime=h.initTime,y&&y.setAccountInfo("account"),w.setNewSession()},setNewSession:function(){h.sessionId=h.deviceId(),h.sessionStartTime=h.timestamp(),h.Store.set("session_time",h.sessionStartTime),d.appContext.sessionId=h.sessionId,d.appContext.sessionStartTime=h.sessionStartTime},getLaunchInfo:function(){var e=JSON.parse(JSON.stringify(w.launchOptions));return e.type="appLaunch",e},getAppProfile:function(){if(!S){var e=!0;["device","network","uid"].forEach(function(t){u[t]&&(e=!1)}),e&&(S=!0,this.startRequest())}},startRequest:function(){h.firstInit&&w.launchRequest(),this.sessionStart(),this.startLoop()},getLocation:function(){},getNetwork:function(){zs.getNetworkType({success:function(e){var t=d.networks,o=e.networkType;"wifi"===o?(t[0].available=!0,t[0].connected=!0):"unknown"===o?(t[2].available=!0,t[2].connected=!0):"none"!==o&&(t[1].available=!0,t[1].connected=!0,t[1].current.push({type:o})),u.network=!1,w.getAppProfile()}})},getSystemInfo:function(){zs.getSystemInfo({success:function(e){if(e.model||e.system||e.SDKVersion){var t={model:e.model,pixel:e.screenWidth+"*"+e.screenHeight+"*"+e.pixelRatio,densityDpi:e.pixelRatio,brand:e.brand},o={os:e.system,local:e.language,language:"zh_CN",osVersionCode:e.version,timezone:-(new Date).getTimezoneOffset()/60,mpVersion:e.SDKVersion};d.device.hardwareConfig=t,d.device.softwareConfig=o}u.device=!1,w.getAppProfile()}})}},b={init:w.init,setOpenId:function(e){s=e,c.forEach(function(e){return e(s)}),c.length=0},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.getEventId(e.id);if(t){var o={};o.eventId=t,o.label=h.getEventId(e.label),o.count=e.count||1,o.params=e.params,o.startTime=h.timestamp(),void 0!==e.value?"number"!=typeof e.value?console.error('\u81ea\u5b9a\u4e49\u4e8b\u4ef6"'+t+'"\u4e2dvalue\u5bf9\u5e94\u7684\u503c\u7684\u7c7b\u578b\u9700\u4e3aNumber\u7c7b\u578b'):isNaN(e.value)?console.error('\u81ea\u5b9a\u4e49\u4e8b\u4ef6"'+t+'"\u4e2d\u8bf7\u8f93\u5165\u6709\u6548\u7684Number\u7c7b\u578b\u6570\u503c'):(o.value=e.value,h.addStoreData([o])):h.addStoreData([o])}},share:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.eventHandle("WeappShare",e)},pullDownRefresh:function(){h.eventHandle("WeappPullDownRefresh")},reachBottom:function(){h.eventHandle("WeappReachBottom")},setProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y.handleData(e,"setProfile")},profile:m,iap:_},P={isHide2Show:!1,appIsHide:!1,show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(P.appIsHide=!1,P.getlastTmpData(),P.isHide2Show){var t=h.Store.get("TMP_time_end_"+h.sessionId),o=e.scene?e.scene.toString():"";e.scene&&o===h.appLaunchInfo.scene?h.timestamp()-t>3e4?P.sessionRestart(t):h.Store.remove("TMP_time_end_"+h.sessionId):(h.appLaunchInfo=JSON.parse(JSON.stringify(e)),h.appLaunchInfo.scene=o,P.sessionRestart(t)),P.isHide2Show=!1,w.startLoop()}},sessionRestart:function(e){var t=h.Store.get("TMP_time_start_"+h.sessionId),o={startTime:t,duration:parseInt((e-t)/1e3)};w.sessionEnd(o),h.Store.remove("TMP_time_start_"+h.sessionId),h.Store.remove("TMP_time_end_"+h.sessionId),h.Store.remove("session_time"),w.sessionStart(!0)},hide:function(){P.appIsHide=!0,clearTimeout(w.timeout),w.timeout=null,w.sessionContinue(),P.isHide2Show=!0,h.Store.set("TMP_time_start_"+h.sessionId,h.Store.get("session_time")),h.Store.set("TMP_time_end_"+h.sessionId,h.timestamp())},getlastTmpData:function(){var e=[],t=h.Store.getInfo().keys||[],o=void 0,n=void 0;t&&t.length&&(o=t.filter(function(e){return e.indexOf("TDSDK_EVENT")>-1}),n=t.filter(function(e){return e.indexOf("TDSDK_RESEND")>-1})),o&&o.length&&(o.forEach(function(t){var o={};t.split("_")[2],o.id=t.split("_")[2],o.time=o.id.split("-")[1],e.push(o)}),P.sendLastTmpData(e)),n&&n.length&&n.forEach(function(e){zs.getStorage({key:e,success:function(t){h.getRequestData(t.data),zs.removeStorageSync(e)}})})},sendLastTmpData:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){v.dataType(e.id,e.time)})}};window.tdAppSdk=b,zs.onShow(P.show),zs.onHide(P.hide)},572:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpManager=void 0;var o=function(){function e(){this.config={timeout:5e3}}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.request=function(e){var t=this;if(!e.success)return new Promise(function(o,n){t._dealRequest(e,o,n)});this._dealRequest(e,e.success,e.fail,e.complete)},e.prototype._dealRequest=function(e,t,o,n,i){var a=this;void 0===i&&(i=0),zs.request({url:e.url,data:JSON.stringify(e.data),header:e.header,method:e.method||"POST",timeout:e.timeout||this.config.timeout,success:function(e){null==t||t(e.data)},fail:function(r){i<(e.retryTimes||0)?a._dealRequest(e,t,o,n,i+1):(r.errCode=r.errCode||r.errno,null==o||o(r))},complete:function(){i>=(e.retryTimes||0)&&(null==n||n())}})},e._instance=null,e}();t.HttpManager=o},397:function(e,t,o){var n,i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(o=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(6===s[0]&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],n=0}finally{o=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZSHttp=void 0;var r=o(652),s=o(997),c=o(49),l=o(572);!function(e){e.LOGIN="game/login",e.CONFIG="game/config",e.USER_INFO_UPDATE="game/batchEdit",e.USER_DATA_UPDATE="game/batchUpdate",e.USER_DATA_INFO="game/download",e.VIDEO="game/video",e.DY_REPORT="attribution/dyReport",e.DY_ZT="attribution/ztReport",e.KS_REPORT="attribution/allReport",e.KS_ZT="attribution/ksZtReport",e.USER_PROVINCE="rank/province/data",e.USER_PROVINCE_RANK="rank/province/list",e.USER_PROVINCE_RANK_CHANGE="rank/province/edit",e.USER_RANK="rank/generalList",e.USER_RANK_CHANGE="rank/generalEdit"}(n||(n={}));var u=function(){function e(){this._loginInfo=null,this._reportData={data:{},callback:[]},this._canSave=!1}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.req=function(e,t,o){var n,s,u=this;void 0===t&&(t=null);var d={};(null===(n=this._loginInfo)||void 0===n?void 0:n.version)?(d.v=this._loginInfo.version,d.version=this._loginInfo.version):(d.v=zs.gameConfig.v,d.version=zs.gameConfig.v),d.reqId=Date.now()+"_"+Math.ceil(1e3*Math.random()),d.gid=zs.gameConfig.gid,Object.assign(d,t||{});var p="".concat(zs.gameConfig.debug?"https://test-gameapi2.zxmn2018.com/":"https://gamesapi2.aslk2018.com/","v2/").concat(e),h={"content-type":"application/json"};return(null===(s=this._loginInfo)||void 0===s?void 0:s.token)&&(h.authorization=this._loginInfo.token),new Promise(function(t,n){return i(u,void 0,void 0,function(){var i,s;return a(this,function(a){switch(a.label){case 0:return i={url:p,header:h,data:d},o&&Object.assign(i,o),[4,l.HttpManager.instance.request(i).catch(function(t){r.Logger.log("\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef, router=",e,"params=",d,"errCode=",t.errCode,"errMsg=",t.errMsg),n(t)})];case 1:if(s=a.sent()){if(s.timestamp&&c.TimeUtil.updateServerTime(1e3*s.timestamp),1===s.code)return r.Logger.log("\u7f51\u7edc\u8bf7\u6c42\u6210\u529f, route=",e,"params=",d,"data=",s.data),t(s.data),[2];if(4006===s.code||4007===s.code)return r.Logger.log("\u60a8\u7684\u767b\u5f55\u5df2\u8fc7\u671f\u6216\u5728\u5176\u5b83\u5730\u70b9\u767b\u5f55"),[2];r.Logger.log("\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef, router=",e,"params=",d,"errCode=",s.code,"errMsg=",s.msg),n({errCode:s.code,errMsg:s.msg})}return[2]}})})})},e.prototype.login=function(e){return i(this,void 0,void 0,function(){var t,o,i,r,c;return a(this,function(a){switch(a.label){case 0:return t=null,s.StringUtil.isEmpty(zs.gameConfig.gid)?[2,Promise.reject({errCode:-1,errMsg:"\u6ca1\u6709\u586b\u5199gid"})]:(o=e.code,e.account,e.password,i=null,o?(i={pf:"zs",code:o},[3,3]):[3,1]);case 1:return[4,this.zsLogin()];case 2:i=a.sent(),"ks"===zs.pf&&(i.openid=i.unionID),a.label=3;case 3:i||(i={}),i.gid=zs.gameConfig.gid,i.scene=null===(c=zs.getLaunchOptionsSync())||void 0===c?void 0:c.scene,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.req(n.LOGIN,i)];case 5:return t=a.sent(),[3,7];case 6:return r=a.sent(),console.error("\u767b\u5f55\u9519\u8bef",r),[2,Promise.reject(r)];case 7:return this._loginInfo=t,"0"!=zs.gameConfig.v.split(".")[1]&&(this._loginInfo.version=zs.gameConfig.v),[2,this._loginInfo]}})})},e.prototype.getGameConfig=function(){return this.req(n.CONFIG,{type:"json"})},e.prototype.dmp=function(){var e,t=null,o=null;if("ks"===zs.pf){var i=zs.getLaunchOptionsSync().query||{},a=i.callback,r=i.ksCreativeId,c=void 0===r?"":r,l=i.advertiser_id,u=void 0===l?"":l,d=i.ksCampaignId,p=void 0===d?"":d,h=i.ksUnitId,f=void 0===h?"":h;if(s.StringUtil.isEmpty(a))return Promise.reject({errCode:-1,errMsg:"\u975e\u5feb\u624b\u6295\u653e\u573a\u666f\uff0c\u8bf7\u5ffd\u7565"});t=n.KS_REPORT,o={clue_token:a,creative_id:c,advertiser_id:u,ad_id:p,group_id:f,channel:"kuaishou",event_type:"1"}}else if("tt"===zs.pf){var g=zs.getLaunchOptionsSync().query||{},v=g.clickid,y=g.channel,m=void 0===y?this._loginInfo.channel||"":y,_=g.creativeid;c=void 0===_?"":_;var S=g.advertiser_id;u=void 0===S?"":S,p=g.adid;var w=g.request_id,b=void 0===w?"":w,P=g.projectid;f=void 0===P?"":P;var C=g.promotionid,N=void 0===C?"":C;if(s.StringUtil.isEmpty(v))return Promise.reject({errCode:-1,errMsg:"\u975e\u6296\u97f3\u6295\u653e\u573a\u666f\uff0c\u8bf7\u5ffd\u7565"});s.StringUtil.isEmpty(p)&&(p=N),t=n.DY_REPORT,o={click_id:v,channel:m,creative_id:c,advertiser_id:u,ad_id:p,request_id:b,group_id:f,event_type:"active"}}return t?this.req(t,Object.assign({v:"1.0.0",version:"1.0.0",uid:null===(e=this._loginInfo)||void 0===e?void 0:e.user_id,os:"ios"===zs.getSystemInfoSync().platform?"1":"2"},o)):Promise.reject({errCode:-1,errMsg:"\u975e\u76f4\u6295\u6e20\u9053\uff0c\u8bf7\u5ffd\u7565"})},e.prototype.reportAd=function(e){return i(this,void 0,void 0,function(){var t,o,i,s,c;return a(this,function(a){switch(a.label){case 0:if(t={uid:null===(c=this._loginInfo)||void 0===c?void 0:c.user_id,v:"1.0.0",version:"1.0.0",uvid:"1",video_id:"default",video_name:"\u9ed8\u8ba4\u89c6\u9891",video_type:"1",os:"ios"===zs.getSystemInfoSync().platform?"1":"2",scene:zs.getLaunchOptionsSync().scene},o=null,"ks"===zs.pf?(t.channel="kuaishou",o=n.KS_ZT):"tt"===zs.pf&&(o=n.DY_ZT),i=null,!o)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.req(o,t)];case 2:return a.sent(),[3,4];case 3:return s=a.sent(),i=s,[3,4];case 4:return e.complete&&this.req(n.VIDEO,{uvid:"1",video_id:"default",video_name:"\u9ed8\u8ba4\u89c6\u9891",video_type:"3",ecpm:0,timestamp:Date.now()}).catch(function(e){r.Logger.debug("\u666e\u901a\u5e7f\u544a\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25",e)}),i?[2,Promise.reject(i)]:[2,!0]}})})},e.prototype.getUserData=function(){return i(this,void 0,void 0,function(){var e,t,o,n,i,r,s,l,u,d,p,h,f,g;return a(this,function(a){switch(a.label){case 0:return[4,this._getUserData()];case 1:for(i in(e=a.sent())||(e={}),t={},o={},n={},e)"base"===(r=i.split("_",1)[0])?(s=i.substring(5),t[s]=e[i]):"game"===r?(s=i.substring(5),o[s]=e[i]):"report"===r&&(s=i.substring(5),n[s]=e[i]);return this._canSave=!0,l=zs.getSystemInfoSync(),u=zs.getLaunchOptionsSync(),d={},e.login?d.login=e.login:d.login={},(null==(p=u.query)?void 0:p.ad_params)&&delete p.ad_params,e.reg||(d.reg={version:this._loginInfo.version,device:"".concat(l.brand,"-").concat(l.model),appVersion:l.version,scene:u.scene,launchQuery:u.query,seegVersion:"1.0.8"}),Object.assign(d.login,{version:this._loginInfo.version,device:"".concat(l.brand,"-").concat(l.model),appVersion:l.version,system:l.system,scene:u.scene,launchQuery:u.query}),((h=c.TimeUtil.getDiffDayNum(1e3*((null===(g=this._loginInfo)||void 0===g?void 0:g.add_time)||0),Date.now()))<=7||14==h||30==h)&&(f="login_".concat(h),d.login[f]=(d.login[f]||0)+1),this._setUserData(d,[]),[2,{base:t,game:o,report:n}]}})})},e.prototype.setUserData=function(e,t,o){return i(this,void 0,void 0,function(){var n,i,r=this;return a(this,function(){if(n={},e)for(i in e)n["base_"+i]=e[i];if(t)for(i in t)n["game_"+i]=t[i];if(o)for(i in o)n["report_"+i]=o[i];return[2,new Promise(function(e,t){r._setUserData(n,[function(o){null==o?e(!0):t(o)}])})]})})},e.prototype.reportUserInfo=function(e,t){return this.req(n.USER_INFO_UPDATE,{data:{avatar:e,nickname:t}})},e.prototype.getUserProvince=function(){return this.req(n.USER_PROVINCE)},e.prototype.getProvinceList=function(e){return this.req(n.USER_PROVINCE_RANK,{type:e})},e.prototype.addProvinceData=function(e){return this.req(n.USER_PROVINCE_RANK_CHANGE,{type:e})},e.prototype.getRankList=function(e,t){return this.req(n.USER_RANK,{type:e,limit:t})},e.prototype.changeRankData=function(e,t,o,i,a,r){return this.req(n.USER_RANK_CHANGE,{type:e,value_type:t,num:o,limit:r,time_duration:i,rank_data:a})},e.prototype._getUserData=function(){return i(this,void 0,void 0,function(){return a(this,function(){return[2,this.req(n.USER_DATA_INFO)]})})},e.prototype._setUserData=function(e,t){return i(this,void 0,void 0,function(){var o,i,r,s,c;return a(this,function(a){switch(a.label){case 0:if(!this._canSave)return Object.assign(this._reportData.data,e),(c=this._reportData.callback).push.apply(c,t),[2];this._canSave=!1,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.req(n.USER_DATA_UPDATE,{data:e})];case 2:for(a.sent(),s=0;s<t.length;s++)t[s]&&t[s](null);return this._canSave=!0,o=this._reportData.data,Object.keys(o).length>0&&(this._reportData.data={},(i=this._reportData.callback).length>0&&(this._reportData.callback=[]),this._setUserData(o,i)),[3,4];case 3:for(r=a.sent(),this._reportData.data=Object.assign(e,this._reportData.data),s=0;s<t.length;s++)t[s]&&t[s](r);return this._canSave=!0,[3,4];case 4:return[2]}})})},e.prototype.zsLogin=function(){return new Promise(function(e,t){zs.login({old:zs.gameConfig.old,success:function(t){e(t)},fail:function(e){t(e)}})})},e._instance=null,e}();t.ZSHttp=u},862:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,a){function r(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(r,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(r=0)),r;)try{if(o=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(6===s[0]&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],n=0}finally{o=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(397),r=o(652),s=o(997),c=o(49);o(629),o(184),function(){var e=this,t=!1,o=!1,l=!0,u=[],d=[],p=0,h=0,f=null,g=0,v=null,y=null,m=null,_=[],S=[],w=[],b={},P=null,C=null,N=window.seeg=window.seeg||{};function I(){var e=c.TimeUtil.getTime(),t={},o=!1;_.length>0&&(_.forEach(function(e){t[e]=v[e]}),t._saveTime=e,_.length=0,o=!0);var n={};S.length>0&&(S.forEach(function(e){n[e]=y[e]}),n._saveTime=e,S.length=0,o=!0);var i={};w.length>0&&(w.forEach(function(e){i[e]=m[e]}),w.length=0,o=!0),o&&a.ZSHttp.instance.setUserData(t,n,i).catch(function(){})}function T(e,t,o,n,i,r){void 0===i&&(i=""),void 0===r&&(r=100);var s=c.TimeUtil.getTime(),l=0===n?c.TimeUtil.getDayEndTime(s):1===n?c.TimeUtil.getWeekEndTime(s):c.TimeUtil.getMonthEndTime(s);try{a.ZSHttp.instance.changeRankData(e,t,o,Math.ceil((l-s)/1e3),i,r)}catch(e){}}function A(e){return n(this,void 0,void 0,function(){var t,o;return i(this,function(n){switch(n.label){case 0:if(y)return null==e||e({errCode:0,data:y}),[2];if(e&&d.push(e),l)return[2];l=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a.ZSHttp.instance.getUserData()];case 2:return t=n.sent(),[3,4];case 3:return o=n.sent(),l=!1,d.forEach(function(e){e({errCode:(null==o?void 0:o.errCode)||-1,errMsg:"\u83b7\u53d6\u6570\u636e\u5931\u8d25"})}),d.length=0,[2];case 4:return v=t.base,y=t.game,m=t.report,P||(P=setInterval(function(){I()},6e4)),d.forEach(function(e){e({errCode:0,data:t.game})}),d.length=0,[2]}})})}function M(e){return n(this,arguments,void 0,function(e,t){var n,s,d,p;return void 0===t&&(t=2),i(this,function(i){switch(i.label){case 0:if(o)return r.Logger.debug("\u6b63\u5728\u767b\u5f55\u4e2d..."),[2];o=!0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.ZSHttp.instance.login({})];case 2:return n=i.sent(),[3,4];case 3:return s=i.sent(),o=!1,e<t?(M(e+1),[2]):(r.Logger.error("\u7528\u6237\u767b\u5f55\u5931\u8d25",s),[2]);case 4:return tdAppSdk.setOpenId(n.openid),d=Number(n.version.split(".")[1]),f={userId:n.user_id,openId:n.openid,isTest:1===n.is_white_list,abTest:d,avatar:n.avatar,nickname:n.nickname,gender:n.gender},g=c.TimeUtil.getDiffDayNum(1e3*(n.add_time||0),Date.now()),u.length>0&&(p=Object.assign({},f),u.forEach(function(e){null==e||e(p)})),u.length=0,l=!1,A(),a.ZSHttp.instance.dmp().then(function(){r.Logger.debug("\u6295\u653e\u7528\u6237\u4e0a\u62a5\u6210\u529f")}).catch(function(e){r.Logger.error("\u6295\u653e\u7528\u6237\u4e0a\u62a5\u5931\u8d25",e)}),r.Logger.debug("\u7528\u6237\u767b\u5f55\u6210\u529f"),[2]}})})}N.init=function(e){if(!t){if(null==e)throw"\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a";if(e.loggerLevel&&r.Logger.setLoggerLevel(e.loggerLevel),s.StringUtil.isEmpty(e.gid))r.Logger.error("gid\u4e0d\u80fd\u4e3a\u7a7a");else{var o=e.gid.split("_");if(1!==o.length)if("web"==zs.pf||e.gid.startsWith(zs.pf))if(r.Logger.debug("SDK\u5f00\u59cb\u96c6\u6210\uff0c\u7248\u672c=","1.0.8"),t=!0,zs.gameConfig=zs.gameConfig||{},zs.gameConfig.gid=e.gid,zs.gameConfig.v=e.version||"1.0.0",zs.gameConfig.old=e.old||!1,s.StringUtil.isEmpty(e.tdAppKey))r.Logger.error("\u8bf7\u586b\u5199\u6b63\u786e\u7684TDAppKey");else{var n="1.0.0",i=zs.getAccountInfoSync&&zs.getAccountInfoSync()||null;i&&i.miniProgram&&i.miniProgram.version&&(n=i.miniProgram.version),tdAppSdk.init({versionCode:3,versionName:n,displayName:o[1],appKey:e.tdAppKey||"",channel:e.gid}),M(0)}else r.Logger.error("\u8bf7\u586b\u5199\u6b63\u786e\u7684gid\uff0c\u6216\u8005\u8bf7\u52ff\u5728\u8be5sdk\u524d\u4fee\u6539ks\u3001tt\u3001wx\u7b49\u5e73\u53f0\u5168\u5c40\u53d8\u91cf");else r.Logger.error("\u8bf7\u586b\u5199\u6b63\u786e\u7684gid")}}},N.getGameConfig=function(e){N.onLoginRet(function(){var t=e.success,o=e.fail;a.ZSHttp.instance.getGameConfig().then(function(e){null==t||t(e)}).catch(function(e){null==o||o(e)})})},N.onLoginRet=function(e){f?null==e||e(Object.assign({},f)):u.push(e)},N.getUserData=A,N.reportAd=function(e){f?(a.ZSHttp.instance.reportAd(e).then(function(){r.Logger.debug("\u5e7f\u544a\u4e0a\u62a5\u6210\u529f")}).catch(function(e){r.Logger.error("\u5e7f\u544a\u4e0a\u62a5\u5931\u8d25",e)}),e.name&&e.complete&&function(e){var t="rv_".concat(e);if(v[t]=(v[t]||0)+1,v.rv_sum=(v.rv_sum||0)+1,_.push(t,"rv_sum"),g<=7||14===g||30===g){var o="rv_sum_".concat(g);v[o]=(v[o]||0)+1,_.push(o)}I()}(e.name)):M(0,0)},N.now=c.TimeUtil.getTime,N.onEvent=function(e,t){tdAppSdk.event({id:e,params:t})},N.reportEvent=function(e,t){m&&(w.push(e),m[e]=t)},N.reportEventAdd=function(e,t){m&&N.reportEvent(e,(m[e]||0)+t)},N.reportEventStart=function(e){b[e]=c.TimeUtil.getTime()},N.reportEventEnd=function(e){N.reportEventAdd("time_".concat(e),c.TimeUtil.getTime()-b[e])},N.setUserData=function(e){if(y){var t=c.TimeUtil.getTime();(!p||t-p>6e4)&&(p=t,h=0),++h>6&&r.Logger.debug("\u4e00\u5206\u949f\u5185\u8bf7\u6c42\u8be5\u63a5\u53e3\u8d85\u8fc76\u6b21\uff0c\u8bf7\u6ce8\u610f\u68c0\u67e5\u903b\u8f91"),Object.assign(y,e),S.push.apply(S,Object.keys(e)),I()}},N.reportUserInfo=function(e,t,o){a.ZSHttp.instance.reportUserInfo(e,t,o).catch(function(){})},N.getUserProvince=function(){return n(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return C?[2,C]:[4,a.ZSHttp.instance.getUserProvince().catch(function(){})];case 1:return[2,C=e.sent()]}})})},N.getProvinceList=function(t){return n(e,void 0,void 0,function(){var e,o,n,r;return i(this,function(i){switch(i.label){case 0:return[4,a.ZSHttp.instance.getProvinceList(t).catch(function(){})];case 1:for(r in null==(e=i.sent())&&(e={list:[]}),null==e.list&&(e.list=[]),n=function(t){e.list.find(function(e){return e.province_code==t})||e.list.push({province:o[t],province_code:t,num:1})},o={p11:"\u5317\u4eac",p12:"\u5929\u6d25",p13:"\u6cb3\u5317",p14:"\u5c71\u897f",p15:"\u5185\u8499\u53e4",p21:"\u8fbd\u5b81",p22:"\u5409\u6797",p23:"\u9ed1\u9f99\u6c5f",p31:"\u4e0a\u6d77",p32:"\u6c5f\u82cf",p33:"\u6d59\u6c5f",p34:"\u5b89\u5fbd",p35:"\u798f\u5efa",p36:"\u6c5f\u897f",p37:"\u5c71\u4e1c",p41:"\u6cb3\u5357",p42:"\u6e56\u5317",p43:"\u6e56\u5357",p44:"\u5e7f\u4e1c",p45:"\u5e7f\u897f",p46:"\u6d77\u5357",p50:"\u91cd\u5e86",p51:"\u56db\u5ddd",p52:"\u8d35\u5dde",p53:"\u4e91\u5357",p54:"\u897f\u85cf",p61:"\u9655\u897f",p62:"\u7518\u8083",p63:"\u9752\u6d77",p64:"\u5b81\u590f",p65:"\u65b0\u7586",p71:"\u53f0\u6e7e",p81:"\u9999\u6e2f",p82:"\u6fb3\u95e8"})n(r);return[2,e]}})})},N.addProvinceData=function(e){try{a.ZSHttp.instance.addProvinceData(e)}catch(e){}},N.getRankList=function(e,t){return void 0===t&&(t=100),a.ZSHttp.instance.getRankList(e,t).catch(function(){})},N.changeDayRankData=function(e,t,o,n,i){void 0===n&&(n=""),void 0===i&&(i=100),T(e,t,o,0,n,i)},N.changeWeekRankData=function(e,t,o,n,i){void 0===n&&(n=""),void 0===i&&(i=100),T(e,t,o,1,n,i)},N.changeMonthRankData=function(e,t,o,n,i){void 0===n&&(n=""),void 0===i&&(i=100),T(e,t,o,2,n,i)}}()},652:function(e,t){var o,n,i=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LoggerLevel=void 0,function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.DEBUG=3]="DEBUG",e[e.INFO=4]="INFO",e[e.ALL=5]="ALL"}(o||(t.LoggerLevel=o={})),function(e){var t="[Seeg SDK]",n=o.OFF;e.setLoggerLevel=function(e){n=e},e.log=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n===o.ALL&&console.log.apply(console,i([t],e,!0))},e.debug=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n>=o.DEBUG&&console.debug.apply(console,i([t],e,!0))},e.info=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n>=o.INFO&&console.info.apply(console,i([t],e,!0))},e.warn=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n>=o.WARN&&console.warn.apply(console,i([t],e,!0))},e.error=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n>=o.ERROR&&console.error.apply(console,i([t],e,!0))}}(n||(t.Logger=n={}))},997:function(e,t){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtil=void 0,(o||(t.StringUtil=o={})).isEmpty=function(e){return null==e||""===e}},49:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TimeUtil=void 0;var o=function(){function e(){}return e.updateServerTime=function(e){this._diff=e-(new Date).getTime()},e.getTime=function(){return(new Date).getTime()+this._diff},e.getDayStartTime=function(e){return new Date(e).setHours(0,0,0,0)},e.getDayEndTime=function(e){return new Date(e).setHours(23,59,59,999)},e.getWeekEndTime=function(e){var t=new Date(e).getDay();return this.getDayEndTime(e)+(0===t?0:864e5*(7-t))},e.getMonthEndTime=function(e){var t=new Date(e);return 11===t.getMonth()?t.setFullYear(t.getFullYear()+1,0,0):t.setMonth(t.getMonth()+1,0),t.setHours(23,59,59,999)},e.getDiffDayNum=function(e,t){var o=this.getDayStartTime(e),n=this.getDayStartTime(t);return Math.ceil(Math.abs(o-n)/864e5)},e._diff=0,e}();t.TimeUtil=o}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":typeof globalThis))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":typeof window))return window}}(),o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o(862)}(),cc._RF.pop()},{}],selectArea:[function(e,t,o){"use strict";cc._RF.push(t,"3bd55y1ZyNDPqc6JgF5htVj","selectArea");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("RankMgr")),s=e("OverallSystem"),c=a(e("pageBase")),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.diquObjPrefab=null,t.RankMgrScript=null,t.data=null,t.curSelectDiQu=null,t.curSelectDiQuData=null,t.pageData=null,t}return n(t,e),t.prototype.start=function(){e.prototype.start.call(this),this.RankMgrScript=this.node.getComponent(r.default),this.data=this.RankMgrScript.getRankInfo(),this.showDiQu()},t.prototype.showDiQu=function(){var e=this;this.data.cityRankInfo.sort(function(){return Math.random()-.5});for(var t=function(t){var n=o.data.cityRankInfo[t],i=cc.instantiate(o.diquObjPrefab);i.parent=o.content,i.getChildByName("label").getComponent(cc.Label).string=""+n.cityName,i.on(cc.Node.EventType.TOUCH_END,function(t){e.creatorObjClickEvent(t,i,n)}.bind(o))},o=this,n=0;n<this.data.cityRankInfo.length;n++)t(n)},t.prototype.creatorObjClickEvent=function(e,t,o){s.mgrs().soundMgr.playSound("click");var n=t.getChildByName("select"),i=t.getChildByName("label");null!=this.curSelectDiQu&&(this.curSelectDiQu.getChildByName("select").active=!1,this.curSelectDiQu.getChildByName("label").color=(new cc.Color).fromHEX("#312c2c")),this.curSelectDiQu=t,this.curSelectDiQuData=o,n.active=!0,i.color=(new cc.Color).fromHEX("#f0d29c")},t.prototype.selectDiQu=function(){if(s.mgrs().soundMgr.playSound("click"),null!=this.curSelectDiQu){var e=s.sers().userSrv.getUserData();e.city=this.curSelectDiQuData,s.sers().userSrv.setUserData(e),this.pageData.closeCall&&this.pageData.closeCall(),this.closeSelectDiQu()}else this.closeSelectDiQu()},t.prototype.closeSelectDiQu=function(){s.mgrs().soundMgr.playSound("click"),this.close()},i([d({type:cc.Node,displayName:"\u5185\u5bb9\u6302\u8f7d\u8282\u70b9"})],t.prototype,"content",void 0),i([d({type:cc.Prefab,displayName:"\u5730\u533a\u7269\u54c1\u7684\u9884\u5236\u4f53"})],t.prototype,"diquObjPrefab",void 0),i([u],t)}(c.default);o.default=p,cc._RF.pop()},{OverallSystem:"OverallSystem",RankMgr:"RankMgr",pageBase:"pageBase"}],soundManager:[function(e,t,o){"use strict";cc._RF.push(t,"2c75dRf55lD1LuncZPrrcVK","soundManager");var n=__extends,i=__awaiter,a=__generator,r=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var s=r(e("Loader")),c=r(e("frameNamespace")),l=e("OverallSystem"),u=r(e("ResourceLoader")),d=function(e){function t(){var t=e.call(this)||this;t._managerName="\u97f3\u9891\u7ba1\u7406",t.previousMusic=void 0,t._isEnableAudio=!0,t._isEnableSound=!0,t._isVibration=!0,t._isRensheng=!0,t._isPlayMusic=!1,t._isFangyan=!0,t.fangyan=-1,t.pengzhuang=!1,t.toubi=-1,t.shangyige="bgm",t.effectPlayTimeMap=new Map,t.audioClipCache=new Map,t._Initialize();var o=l.sers().userSrv.getSettingData();return t._isEnableAudio=o[0],t._isEnableSound=o[1],t._isVibration=o[2],t._isRensheng=o[3],t._isFangyan=o[4],t}return n(t,e),t.prototype._Initialize=function(){e.prototype._Initialize.call(this)},Object.defineProperty(t.prototype,"isEnableAudio",{get:function(){return this._isEnableAudio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnableSound",{get:function(){return this._isEnableSound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVibration",{get:function(){return this._isVibration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRensheng",{get:function(){return this._isRensheng},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayMusic",{get:function(){return this._isPlayMusic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFangyan",{get:function(){return this._isFangyan},enumerable:!1,configurable:!0}),t.prototype.enableAudio=function(e){void 0===e&&(e=!0),this._isEnableAudio=e;var t=l.sers().userSrv.getSettingData();t[0]=this._isEnableAudio,l.sers().userSrv.setSettingData(t),this._isEnableAudio?this.playPreviousMusic():(this.stopMusic(),this.stopAllSound())},t.prototype.enableSound=function(e){void 0===e&&(e=!0),this._isEnableSound=e;var t=l.sers().userSrv.getSettingData();t[1]=this._isEnableSound,l.sers().userSrv.setSettingData(t)},t.prototype.enableVibration=function(e){void 0===e&&(e=!0),this._isVibration=e;var t=l.sers().userSrv.getSettingData();t[2]=this._isVibration,l.sers().userSrv.setSettingData(t)},t.prototype.enableRensheng=function(e){void 0===e&&(e=!0),this._isRensheng=e;var t=l.sers().userSrv.getSettingData();t[3]=this._isRensheng,l.sers().userSrv.setSettingData(t)},t.prototype.enableFangyan=function(e){void 0===e&&(e=!0),this._isFangyan=e;var t=l.sers().userSrv.getSettingData();t[4]=this._isFangyan,l.sers().userSrv.setSettingData(t)},t.prototype.getAudioClipWithSoundBundle=function(e){return new Promise(function(t){l.mgrs().bundleMgr.BundleList.soundBundle.load(e,cc.AudioClip,function(o,n){if(o)return cc.log(e),void console.error("\u4ece\u9ed8\u8ba4\u97f3\u9891bundle\u83b7\u53d6\u97f3\u9891\u5931\u8d25");t(n)})})},t.prototype.playSound=function(e,t,o){var n=this;return void 0===t&&(t=!1),void 0===o&&(o=50),new Promise(function(i){if(n._isEnableSound){var a=e,r=["hu","chi","peng","gang"];if(r.indexOf(e)>=0){var s=l.sers().userSrv.getSettingData()[5]||"";e+=s,2==+s&&Math.random()<.5&&(e+="-"),n.fangyan&&(cc.log("\u505c\u6b62\u4e0a\u4e00\u4e2a\u97f3\u6548"),cc.audioEngine.stopEffect(n.fangyan),n.fangyan=-1)}if("\u6295\u5e01"==e&&n.toubi&&(cc.audioEngine.stopEffect(n.toubi),n.fangyan=-1),"pengzhuang"==e){if(n.pengzhuang)return;n.pengzhuang=!0,setTimeout(function(){n.pengzhuang=!1},o)}n.getAudioClipWithSoundBundle(e).then(function(o){var s=cc.audioEngine.playEffect(o,t);r.indexOf(a)>=0&&(n.fangyan=s),"\u6295\u5e01"==e&&(n.toubi=s),i(s)}).catch(function(){console.warn(t?"\u5faa\u73af":"\u64ad\u653e"+e+"\u5931\u8d25!!")})}})},t.prototype.playMusic=function(e,t){var o=this;return void 0===t&&(t=!0),this._isPlayMusic&&this.stopMusic(),new Promise(function(n){o._isEnableAudio&&o.getAudioClipWithSoundBundle(e).then(function(i){var a=cc.audioEngine.playMusic(i,t);o._isPlayMusic=!0,o.shangyige=e,o.previousMusic={name:e,loop:t},n(a)}).catch(function(){console.warn(t?"\u5faa\u73af":"\u64ad\u653e"+e+"\u5931\u8d25!!")})})},t.prototype.playBtnSound=function(){return this.playSound("click")},t.prototype.stopMusic=function(){this._isPlayMusic=!1,cc.audioEngine.stopMusic()},t.prototype.stopAllSound=function(){cc.audioEngine.stopAllEffects()},t.prototype.stopSound=function(e){cc.audioEngine.stopEffect(e)},t.prototype.playPreviousMusic=function(){if(null!=this.previousMusic){var e=this.previousMusic,t=e.name,o=e.loop;null!=t&&""!=t&&this.playMusic(t,o)}else this.playMusic("bgm")},t.prototype.getAudioClipWithSoundBundle2=function(e,t){return new Promise(function(o){s.default.loadBundle(t,function(){s.default.loadBundleDir(t,"sound",function(t){for(var n=0,i=t;n<i.length;n++){var a=i[n];a.name==e&&o(a)}},cc.AudioClip,!0)},!0,!0)})},t.prototype.playSound2=function(e,t,o){var n=this;return void 0===o&&(o=!1),new Promise(function(i){n._isEnableSound&&n.getAudioClipWithSoundBundle2(e,t).then(function(e){var t=cc.audioEngine.playEffect(e,o);i(t)}).catch(function(){console.warn(o?"\u5faa\u73af":"\u64ad\u653e"+e+"\u5931\u8d25!!")})})},t.prototype.playMusic2=function(e,t,o){var n=this;return void 0===o&&(o=!0),this._isPlayMusic&&this.stopMusic(),new Promise(function(i){n._isEnableAudio&&n.getAudioClipWithSoundBundle2(e,t).then(function(t){var a=cc.audioEngine.playMusic(t,o);n._isPlayMusic=!0,n.shangyige=e,n.previousMusic={name:e,loop:o},i(a)}).catch(function(){console.warn(o?"\u5faa\u73af":"\u64ad\u653e"+e+"\u5931\u8d25!!")})})},t.prototype.playEffect=function(e,t,o,n){return void 0===o&&(o=!1),void 0===n&&(n=-1),i(this,void 0,void 0,function(){var i,r,s,c,l,d;return a(this,function(a){switch(a.label){case 0:return this._isEnableSound?(i=Date.now(),r=this.effectPlayTimeMap.get(e)||0,n>0&&i<r+1e3*n?(cc.log("\u97f3\u6548 "+e+" \u95f4\u9694\u4e2d\uff0c\u8df3\u8fc7\u64ad\u653e"),[2]):(c=t+"_"+(s="sound/"+e),(l=this.audioClipCache.get(c))?[3,2]:[4,u.default.getInstance().load(t,s,cc.AudioClip)])):[2];case 1:l=a.sent(),this.audioClipCache.set(c,l),a.label=2;case 2:return d=cc.audioEngine.playEffect(l,o),this.effectPlayTimeMap.set(e,i),[2,d]}})})},t}(c.default.ManagerBase);o.default=d,cc._RF.pop()},{Loader:"Loader",OverallSystem:"OverallSystem",ResourceLoader:"ResourceLoader",frameNamespace:"frameNamespace"}],start:[function(e,t,o){"use strict";cc._RF.push(t,"e6439BHVhJE6atjTpTUMG0w","start");var n=__extends,i=__decorate,a=__spreadArrays,r=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var s=r(e("userService")),c=r(e("OverallSystem"));cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=512;var l=cc._decorator,u=l.ccclass;l.property,cc.macro.ENABLE_WEBGL_ANTIALIAS=!0,cc.macro.ENABLE_MULTI_TOUCH=!1;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){c.default.Initialize();var e=this.node.parent.getChildByName("UIRoot");cc.game.addPersistRootNode(e),c.default.Servers.uiSrv._setUIRoot(e);var t=cc.winSize.width/cc.winSize.height;s.default.IPAD=!0,s.default.daren=!1,t<750/1334&&(s.default.IPAD=!1),console.log("winSize:",cc.winSize)},t.prototype.start=function(){this.onReady()},t.prototype.onReady=function(){this.initEngineConfig(),this.printEngineConfig(),this.goToLoading()},t.prototype.initEngineConfig=function(){c.default.Managers.gameMgr.openPhysics(!0,!0),c.default.Managers.gameMgr.openCollision(!0),c.default.Managers.gameMgr.openPhysicsDebugDrawFlags(!1),c.default.Managers.gameMgr.openCollisionDebugDraw(!1),c.default.Managers.gameMgr.openDebugFPS(!1)},t.prototype.printEngineConfig=function(){console.log("cocos\u5f15\u64ce\u914d\u7f6e"),console.log("\u662f\u5426\u5f00\u542f\u6297\u952f\u9f7f",cc.view.isAntiAliasEnabled(),cc.macro.ENABLE_WEBGL_ANTIALIAS),console.log("\u662f\u5426\u5f00\u542f\u591a\u70b9\u89e6\u6478",cc.macro.ENABLE_MULTI_TOUCH),console.log("\u662f\u5426\u663e\u793a\u5de6\u4e0b\u89d2\u8c03\u8bd5\u4fe1\u606f",cc.debug.isDisplayStats()),console.log("\u662f\u5426\u5f00\u542f\u74e6\u7247\u5730\u56fe\u7684\u81ea\u52a8\u88c1\u51cf\u529f\u80fd",cc.macro.ENABLE_TILEDMAP_CULLING),console.log("\u5355\u6b21\u6279\u5904\u7406\u6e32\u67d3\u7684\u9876\u70b9\u6570\u91cf",cc.macro.BATCH_VERTEX_COUNT),console.log("Canvas\u80cc\u666f\u662f\u5426\u652f\u6301 alpha \u901a\u9053",cc.macro.ENABLE_TRANSPARENT_CANVAS),console.log.apply(console,a(["\u5f15\u64ce\u652f\u6301\u7684\u56fe\u7247\u683c\u5f0f"],cc.macro.SUPPORT_TEXTURE_FORMATS))},t.prototype.goToLoading=function(){c.default.loadScene("loading")},i([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{OverallSystem:"OverallSystem",userService:"userService"}],systemBase:[function(e,t,o){"use strict";cc._RF.push(t,"f26a5/hImtFM76noTt66VtZ","systemBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this._systemName="SystemBase"}return e.prototype.Initialize=function(){console.log("\u6b63\u5728\u521d\u59cb\u5316--\u7cfb\u7edf--",this._systemName)},e}();o.default=n,cc._RF.pop()},{}],tianjiazhuomian:[function(e,t,o){"use strict";cc._RF.push(t,"bf486pbDnZPibdWHVGeljEG","tianjiazhuomian");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=e("GameEventType"),c=e("OverallSystem"),l=a(e("pageBase")),u=cc._decorator,d=u.ccclass;u.property;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.queding=function(){var e=this;window.tt.addShortcut({success:function(){cc.log("\u6dfb\u52a0\u684c\u9762\u6210\u529f"),r.default.emit(s.EventType.DirectorEvent.showCheck),c.sers().uiSrv.showMessage("\u6dfb\u52a0\u684c\u9762\u6210\u529f"),e.OnBtnClose()},fail:function(e){cc.log("\u6dfb\u52a0\u684c\u9762\u5931\u8d25",e.errMsg),c.sers().uiSrv.showMessage("\u6dfb\u52a0\u684c\u9762\u5931\u8d25")}})},i([d],t)}(l.default);o.default=p,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",OverallSystem:"OverallSystem",pageBase:"pageBase"}],tishi:[function(e,t,o){"use strict";cc._RF.push(t,"535e1osqdVIX7SFmNNc59by","tishi");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=e("OverallSystem"),s=a(e("pageBase")),c=cc._decorator,l=c.ccclass;c.property;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.tongyi=function(){r.sers().localStorageSrv.set("yinsixieyi",1),this.OnBtnClose()},t.prototype.showYinsi=function(){r.sers().uiSrv.showYinsiPage()},t.prototype.showFuwu=function(){r.sers().uiSrv.showFuwuPage()},t.prototype.butongyi=function(){window.qg?window.qg.exitApplication():cc.game.end()},i([l],t)}(s.default);o.default=u,cc._RF.pop()},{OverallSystem:"OverallSystem",pageBase:"pageBase"}],ts:[function(e,t){"use strict";cc._RF.push(t,"e8daag5u5FDjrxScuTMiOty","ts"),cc._RF.pop()},{}],ttApi:[function(e,t,o){"use strict";cc._RF.push(t,"4c466yw9V5Jw78JIy9EugKA","ttApi");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=i(e("gameConfig1")),r=e("OverallSystem"),s=e("miniGameApiBase"),c=window.tt,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_AppId="",t.m_Secret="",t.m_VideoAdIdIndex=0,t.m_VideoAdIdList=["5l5gbhmk6259pjllhl"],t.m_BannerAdIdIndex=0,t.m_BannerAdId=[],t.m_InsertAdIdIndex=0,t.m_InsertAdId=[],t.m_videoAd=void 0,t.m_BannerAd=void 0,t.m_gameRecorder=null,t.m_gameRecordDate=0,t.m_gameRecordUrl=void 0,t}return n(t,e),t.prototype.validAppId=function(){},t.prototype.ready=function(){cc.log("tt-api-ready"),this.m_gameRecorder=c.getGameRecorderManager();var e=c.getUpdateManager();e.onUpdateReady(function(){c.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(e){console.log("\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\u539f\u56e0",e),c.showToast({title:"\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",icon:"none"})})},t.prototype.getUserInfo=function(e){c.getUserInfo(e)},t.prototype.showToast=function(e){c.showToast(e)},t.prototype.showLoading=function(e){c.showLoading(e)},t.prototype.hideLoading=function(){c.hideLoading()},t.prototype.showModal=function(e){c.showModal(e)},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.login=function(e){c.login(e)},t.prototype.getVideoAdId=function(){var e=this.m_VideoAdIdList[this.m_VideoAdIdIndex];return this.m_VideoAdIdIndex++,this.m_VideoAdIdIndex>=this.m_VideoAdIdList.length&&(this.m_VideoAdIdIndex=0),e},t.prototype.loadAndShowVideoAd=function(e,t,o,n,i){var a=this;if(void 0===i&&(i="game_use_prop"),window["GM-mode"])e();else{this.showLoading({title:"\u8bf7\u6c42\u4e2d",mask:!0});var s=this.getVideoAdId();cc.log("tt \u89c6\u9891\u5e7f\u544a",s,n);var l=c.createRewardedVideoAd({adUnitId:s}),u=function s(c){l.offClose(s),cc.log("tt \u89c6\u9891\u5e7f\u544a\u5173\u95ed",c),c&&c.isEnded?(e(),a.reportAnalytics(i,n)):t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"),a.hideLoading();var u=!(!c||!c.isEnded);a.reportAd(u),o&&o(),r.mgrs().soundMgr.isPlayMusic&&r.mgrs().soundMgr.playMusic(r.mgrs().soundMgr.shangyige)};cc.log("\u5c55\u793a\u4e00\u6b21"),l.load().then(function(){l.show().then(function(){a.hideLoading(),l.onClose(u)}).catch(function(){cc.log("\u91cd\u8bd5\u4e00\u6b21"),l.load().then(function(){l.show().then(function(){a.hideLoading(),l.onClose(u)}).catch(function(){t&&t("\u89c6\u9891\u5c55\u793a\u5f02\u5e38"),a.showToast({title:"\u89c6\u9891\u5c55\u793a\u5f02\u5e38",duration:2e3}),a.hideLoading(),o&&o()})}).catch(function(){t&&t("\u89c6\u9891\u62c9\u53d6\u5f02\u5e3802"),o&&o(),a.hideLoading(),a.showToast({title:"\u89c6\u9891\u62c9\u53d6\u5f02\u5e38",duration:2e3})})})}).catch(function(){t&&t("\u89c6\u9891\u62c9\u53d6\u5f02\u5e3801"),o&&o(),a.hideLoading(),a.showToast({title:"\u89c6\u9891\u62c9\u53d6\u5f02\u5e38",duration:1e3})})}},t.prototype.reportAd=function(e){var t={complete:e};console.log("reportAd",t),seeg.reportAd(t)},t.prototype.FullScreenVideoAd=function(){},t.prototype.getInsertAdId=function(){var e=this.m_InsertAdId[this.m_InsertAdIdIndex];return this.m_InsertAdIdIndex++,this.m_InsertAdIdIndex>=this.m_InsertAdId.length&&(this.m_InsertAdIdIndex=0),e},t.prototype.showInsertAd=function(e,t){cc.log("\u52a0\u6296\u97f3 \u63d2\u5c4f \u5e7f\u544a");var o=this.getInsertAdId(),n=c.createInterstitialAd({adUnitId:o});n.load(),n.onLoad(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 :"+JSON.stringify(e)),n.destroy(),n=null,t&&t()})}),n.onError(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),n.destroy(),n=null,t&&t()}),n.onClose(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),null!=n&&(n.destroy(),n=null),e&&e()})},t.prototype.getBannerAdId=function(){var e=this.m_BannerAdId[this.m_BannerAdIdIndex];return this.m_BannerAdIdIndex++,this.m_BannerAdIdIndex>=this.m_BannerAdId.length&&(this.m_BannerAdIdIndex=0),e},t.prototype.showBannerAD=function(){},t.prototype.hideBanner=function(){},t.prototype.recordedGameScreenStart=function(e,t){var o=this;this.m_gameRecordDate=Date.now(),this.m_gameRecordUrl=null,this.m_gameRecorder.onStart(function(e){cc.log("tt \u5f55\u5c4f\u5f00\u59cb",e),t&&t(e)}),this.m_gameRecorder.onStop(function(e){cc.log("tt \u5f55\u5c4f\u7ed3\u675f",e.videoPath),o.m_gameRecordUrl=e.videoPath}),this.m_gameRecorder.start(e)},t.prototype.recordedGameScreenStop=function(){return!(Date.now()-this.m_gameRecordDate<3500||(this.m_gameRecorder.stop(),0))},t.prototype.shareRecordedGameScreen=function(e,t){this.m_gameRecordUrl?c.shareAppMessage({channel:"video",title:a.default.GAME_NAME,desc:a.default.GAME_VIDEO_SHARE_DESC,extra:{hashtag_list:[a.default.GAME_NAME],videoPath:this.m_gameRecordUrl,videoTopics:[a.default.GAME_NAME],video_title:a.default.GAME_VIDEO_SHARE_TITLE,withVideoId:!0,defaultBgm:"https://v.douyin.com/JmcxWo8/"},success:function(t){cc.log("tt \u5206\u4eab\u89c6\u9891\u6210\u529f"),cc.log(t.videoId),cc.log(t.shareWithShareBgmStatus),cc.log("\u5206\u4eab\u89c6\u9891\u6210\u529f 4"),e&&e()},fail:function(e){cc.log("tt \u5206\u4eab\u89c6\u9891\u5931\u8d25",e),t&&t(e)}}):(t&&t(null),cc.log("tt \u5206\u4eab\u89c6\u9891\u4e3a\u7a7a"))},t.prototype.isHaveRecordedGameScreen=function(){return!0},t.prototype.reportAnalytics=function(e,t){var o=window.SEEG_USER_INFO,n="";o&&(11===o.abTest?n="tt_B_":10===o.abTest&&(n="tt_A_"));var i=n+e;t.level&&(i=i+"_"+t.level),t.level&&t.level>80||(console.log("\u57cb\u70b9"),console.log(i),console.log(t),seeg.onEvent(i,t))},t.prototype.vibrateShort=function(e,t){void 0===e&&(e=!0),void 0===t&&(t="medium"),r.mgrs().soundMgr.isVibration&&(cc.log("\u9707\u52a8"+t),cc.sys.platform!=cc.sys.VIVO_GAME&&cc.sys.platform!=cc.sys.OPPO_GAME&&window.wx&&window.wx.vibrateShort&&(e?window.wx.vibrateLong({type:t,style:t}):window.wx.vibrateShort({type:t,style:t})))},t.prototype.shareAppMessage=function(e,t,o){void 0===e&&(e=""),void 0===t&&(t=""),void 0===o&&(o=null),c.shareAppMessage({title:e,desc:t,imageUrl:"",query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},t}(s.MiniGameApiBase);o.default=l,cc._RF.pop()},{OverallSystem:"OverallSystem",gameConfig1:"gameConfig1",miniGameApiBase:"miniGameApiBase"}],uiService:[function(e,t,o){"use strict";cc._RF.push(t,"327934klvVH5Z17CuazQwBH","uiService");var n,i=__extends,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r,s=a(e("frameNamespace")),c=a(e("dialog")),l=a(e("Fuwu")),u=a(e("gameList")),d=a(e("gameListNew")),p=a(e("gameSettingPage")),h=a(e("getPowerPage")),f=a(e("infinityPowerPage")),g=a(e("loadingPage")),v=a(e("message")),y=a(e("pageBase")),m=a(e("PathTips")),_=a(e("PifuPage")),S=a(e("selectArea")),w=a(e("SignIn")),b=a(e("tianjiazhuomian")),P=a(e("tishi")),C=a(e("Tujian")),N=a(e("Yinsi")),I=a(e("zhutiList")),T=e("OverallSystem"),A=a(e("userService"));(r=n||(n={}))[r.portrait=0]="portrait",r[r.landscape=1]="landscape";var M=function(e){function t(){var t=e.call(this)||this;return t._serviceName="ui\u670d\u52a1",t.uiRoot=null,t._pageList=[],t.framePagePrefix="",t._deviceOrientation=n.landscape,t.pathTips=null,t.loadingPage=null,t._Initialize(),t}return i(t,e),t.prototype._Initialize=function(){e.prototype._Initialize.call(this)},Object.defineProperty(t.prototype,"UIRoot",{get:function(){return this.uiRoot},enumerable:!1,configurable:!0}),t.prototype._setUIRoot=function(e){this.uiRoot=e},Object.defineProperty(t.prototype,"deviceOrientation",{get:function(){return this._deviceOrientation},set:function(e){this._deviceOrientation=e},enumerable:!1,configurable:!0}),t.prototype.openPageInit=function(e,t,o){for(void 0===t&&(t=!1),void 0===o&&(o=!0),t&&(this._pageList.forEach(function(e){e.onlyClose()}),this._pageList=[]),this._pageList.push(e);o&&this._pageList.length>2;)this._pageList.shift().onlyClose();for(var n=0;n<this._pageList.length;n++)this._pageList[n].id=n;console.log("\u6dfb\u52a0\u9875\u9762\u5165\u8868 >>>> ",e.pageName)},t.prototype.deletePageRecord=function(e){this._pageList.splice(e,1);for(var t=0;t<this._pageList.length;t++)this._pageList[t].id=t},t.prototype._closeCurrScenePage=function(){this._pageList.forEach(function(e){e.node&&e.node.destroy()}),this._pageList=[]},t.prototype.showDialog=function(e,t,o,n,i,a,r,s,l,u){var d=this;void 0===t&&(t="\u6e29\u99a8\u63d0\u793a"),void 0===i&&(i=!1),void 0===a&&(a=0),void 0===s&&(s=!1),void 0===l&&(l=!0),n=n||this.uiRoot;var p=this.framePagePrefix+"dialog";this.loadPagePrefab(p).then(function(p){var h=cc.instantiate(p),f=h.getComponent(c.default);f.setDate(e,t,o,i,a,r,u),d.openPageInit(f,s,l),n.addChild(h)})},t.prototype.showSettingPage=function(e,t,o,n){var i=this;void 0===e&&(e=0),void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"gameSetting";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(p.default);s.showBtn(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showUsePropPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot,this.loadPrefab("link","prefabs/UsePropPage").then(function(a){var r=cc.instantiate(a),s=r.getComponent(y.default);s.initData(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showRevivePage=function(e,t,o){var n=this;void 0===t&&(t=!0),void 0===o&&(o=!1),this.loadPrefab("link","prefabs/RevivePage").then(function(i){var a=cc.instantiate(i),r=a.getComponent(y.default);r.initData(e),n.openPageInit(r,t,o),n.uiRoot.addChild(a)})},t.prototype.showTipsPage=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0),e=e||this.uiRoot;var i=this.framePagePrefix+"tishi";this.loadPagePrefab(i).then(function(i){var a=cc.instantiate(i),r=a.getComponent(P.default);n.openPageInit(r,t,o),e.addChild(a)})},t.prototype.showYinsiPage=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0),e=e||this.uiRoot;var i=this.framePagePrefix+"Yinsi";this.loadPagePrefab(i).then(function(i){var a=cc.instantiate(i),r=a.getComponent(N.default);n.openPageInit(r,t,o),e.addChild(a)})},t.prototype.showtianjiazhuomianPage=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0),e=e||this.uiRoot;var i=this.framePagePrefix+"tianjiazhuomian";this.loadPagePrefab(i).then(function(i){var a=cc.instantiate(i),r=a.getComponent(b.default);n.openPageInit(r,t,o),e.addChild(a)})},t.prototype.showFuwuPage=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0),e=e||this.uiRoot;var i=this.framePagePrefix+"Fuwu";this.loadPagePrefab(i).then(function(i){var a=cc.instantiate(i),r=a.getComponent(l.default);n.openPageInit(r,t,o),e.addChild(a)})},t.prototype.showGameListNewPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"gameListNew";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(d.default);s.setCloseDoFun(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showPifuPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"PifuPage";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(_.default);s.setCloseDoFun(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showOverPage=function(e,t,o,n,i){var a=this;void 0===n&&(n=!1),void 0===i&&(i=!0),o=o||this.uiRoot;var r=this.framePagePrefix+"OverPage";this.loadPagePrefab(r).then(function(r){var s=cc.instantiate(r),c=s.getComponent(y.default);a.openPageInit(c,n,i),c.setCloseDoFun(t),c.initData(e),o.addChild(s)})},t.prototype.showPathTips=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),e=e||this.uiRoot;var i=this.framePagePrefix+"PathTips";this.pathTips?this.pathTips.active=!this.pathTips.active:this.loadPagePrefab(i).then(function(e){var t=cc.instantiate(e);t.getComponent(m.default),n.pathTips=t,n.uiRoot.addChild(t)})},t.prototype.showTyOverPage=function(e,t,o,n,i){var a=this;void 0===n&&(n=!1),void 0===i&&(i=!0),o=o||this.uiRoot;var r=this.framePagePrefix+"TyOverPage";this.loadPagePrefab(r).then(function(r){var s=cc.instantiate(r),c=s.getComponent(y.default);a.openPageInit(c,n,i),c.setCloseDoFun(t),c.initData(e),o.addChild(s)})},t.prototype.showSelectDiQuPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"selectArea";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(S.default);s.pageData=e,i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showRankingListPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"rankingList";this.loadPagePrefab(a).then(function(e){var a=cc.instantiate(e),r=a.getComponent(y.default);i.openPageInit(r,o,n),t.addChild(a)})},t.prototype.showGameListPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"gameList";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(u.default);s.setCloseDoFun(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showZhutiListPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"zhutiList";this.loadPagePrefab(a).then(function(e){var a=cc.instantiate(e),r=a.getComponent(I.default);i.openPageInit(r,o,n),t.addChild(a)})},t.prototype.showSignInPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"SignIn";this.loadPagePrefab(a).then(function(e){var a=cc.instantiate(e),r=a.getComponent(w.default);i.openPageInit(r,o,n),t.addChild(a)})},t.prototype.showTujianPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"Tujian";this.loadPagePrefab(a).then(function(e){var a=cc.instantiate(e),r=a.getComponent(C.default);i.openPageInit(r,o,n),t.addChild(a)})},t.prototype.showInfinityPage=function(e,t,o,n,i){var a=this;if(void 0===n&&(n=!1),void 0===i&&(i=!0),0!=Number(T.sers().localStorageSrv.get(A.default.infinityPowerModel)))e&&e(!1);else{o=o||this.uiRoot;var r=this.framePagePrefix+"infinityPower";this.loadPagePrefab(r).then(function(r){var s=cc.instantiate(r),c=s.getComponent(f.default);c.setCloseDoFun(e),c.setCloseDoFun2(t),a.openPageInit(c,n,i),o.addChild(s)})}},t.prototype.showReceiveInfinityPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!0),t=t||this.uiRoot;var a=this.framePagePrefix+"receiveInfinit";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(y.default);i.openPageInit(s,o,n),s.setCloseDoFun(e),t.addChild(r)})},t.prototype.showUserGetPowerPage=function(e,t,o,n){var i=this;void 0===o&&(o=!1),void 0===n&&(n=!1),t=t||this.uiRoot;var a=this.framePagePrefix+"getPower";this.loadPagePrefab(a).then(function(a){var r=cc.instantiate(a),s=r.getComponent(h.default);s.setCloseDoFun(e),i.openPageInit(s,o,n),t.addChild(r)})},t.prototype.showMessage=function(e,t,o,n,i){void 0===t&&(t=2),o=o||this.uiRoot,this.loadPagePrefab("message").then(function(a){var r=cc.instantiate(a);r.getComponent(v.default).setData(e,t,n,i),o.addChild(r),r.zIndex=cc.macro.MAX_ZINDEX})},t.prototype.showLoding=function(e,t){var o=this;void 0===e&&(e=!1),void 0===t&&(t=null),this.hideLoding(),this.loadingPage&&this.loadingPage.node.parent?this.loadingPage.node.active=!0:this.loadPagePrefab2("loading").then(function(n){var i=cc.instantiate(n);o.loadingPage=i.getComponent(g.default),o.uiRoot.addChild(i),e&&(o.hideLoding(),t&&t())})},t.prototype.hideLoding=function(){null!=this.loadingPage&&(this.loadingPage.node.active=!1)},t.prototype.loadPagePrefab=function(e){return new Promise(function(t,o){T.mgrs().bundleMgr.BundleList.frameBundle.load("prefabs/"+e,cc.Prefab,function(n,i){if(n)return console.error("\u4ecebundle\u52a0\u8f7d\u9875\u9762\u9884\u5236\u4f53\u51fa\u9519 :",e,"-----",n),void o();t(i)})})},t.prototype.loadPagePrefab2=function(e){return new Promise(function(t,o){T.mgrs().bundleMgr.BundleList.loadingPage.load("prefabs/"+e,cc.Prefab,function(n,i){if(n)return console.error("\u4ecebundle\u52a0\u8f7d\u9875\u9762\u9884\u5236\u4f53\u51fa\u9519 :",e,"-----",n),void o();t(i)})})},t.prototype.loadPrefab=function(e,t){return new Promise(function(o,n){cc.assetManager.loadBundle(e,function(e,i){if(e)return console.error("\u52a0\u8f7d\u6240\u9700bundle\u5931\u8d25",e),void n();i.load(t,cc.Prefab,function(e,i){if(e)return console.error("\u4ecebundle\u52a0\u8f7d\u9875\u9762\u9884\u5236\u4f53\u51fa\u9519 :",t,"-----",e),void n();o(i)})})})},t.prototype.showPage=function(e,t,o,n,i){var a=this;void 0===n&&(n=!0),void 0===i&&(i=!1),this.showLoding(),this.loadPrefab(e,"prefabs/"+t).then(function(e){a.hideLoding();var t=cc.instantiate(e),r=t.getComponent(y.default);r.initData(o),a.openPageInit(r,n,i),a.uiRoot.addChild(t)}).catch(function(){a.hideLoding()})},t.openPageBasicAni=function(e,t){return void 0===t&&(t=!1),new Promise(function(o,n){return null!=e&&e.isValid?t||e.active?(t&&(e.active=!0),e.scale=.01,e.opacity=0,void cc.tween(e).parallel(cc.tween(e).to(.15,{opacity:255}),cc.tween(e).to(.2,{scale:1},cc.easeBackOut()),cc.tween(e).by(.2,{y:0})).call(function(){o()}).start()):(console.error("openPageBasicAni \u8282\u70b9\u672a\u6fc0\u6d3b"),void n()):(console.error("openPageBasicAni \u8282\u70b9\u4e3a\u7a7a \u6216 \u4e0d\u53ef\u7528"),void n())})},t.openPageBasicAni2=function(e,t){return void 0===t&&(t=!1),new Promise(function(o,n){return null!=e&&e.isValid?t||e.active?(t&&(e.active=!0),e.scale=.01,e.opacity=0,e.children[0]&&(e.children[0].active=!1),void cc.tween(e).parallel(cc.tween(e).to(.15,{opacity:255}),cc.tween(e).to(.2,{scale:1},cc.easeBackOut()),cc.tween(e).by(.2,{y:0})).call(function(){e.children[0]&&(e.children[0].active=!0,e.children[0].opacity=0,cc.tween(e.children[0]).to(.3,{opacity:180}).start()),o()}).start()):(console.error("openPageBasicAni \u8282\u70b9\u672a\u6fc0\u6d3b"),void n()):(console.error("openPageBasicAni \u8282\u70b9\u4e3a\u7a7a \u6216 \u4e0d\u53ef\u7528"),void n())})},t.closePageBasicAni=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=!1),new Promise(function(n,i){return null!=e&&e.isValid?e.active?void cc.tween(e).parallel(cc.tween(e).to(.2,{scale:.01},cc.easeInOut(3)),cc.tween(e).by(.2,{y:-50}),cc.tween(e).delay(.1).to(.1,{opacity:0})).call(function(){n(),t&&(e.scale=1),o&&(e.active=!1)}).start():(console.error("closePageBasicAni \u8282\u70b9\u672a\u6fc0\u6d3b"),void i()):(console.error("closePageBasicAni \u8282\u70b9\u4e3a\u7a7a \u6216 \u4e0d\u53ef\u7528"),void i())})},t.closePageBasicAni2=function(e,t,o){return void 0===t&&(t=!1),void 0===o&&(o=!1),new Promise(function(n,i){return null!=e&&e.isValid?e.active?(e.children[0]&&cc.tween(e.children[0]).to(.1,{opacity:0}).call(function(){e.children[0].active=!1}).start(),void cc.tween(e).parallel(cc.tween(e).to(.2,{scale:.01},cc.easeInOut(3)),cc.tween(e).by(.2,{y:0}),cc.tween(e).delay(.1).to(.1,{opacity:0})).call(function(){n(),t&&(e.scale=1),o&&(e.active=!1)}).start()):(console.error("closePageBasicAni \u8282\u70b9\u672a\u6fc0\u6d3b"),void i()):(console.error("closePageBasicAni \u8282\u70b9\u4e3a\u7a7a \u6216 \u4e0d\u53ef\u7528"),void i())})},t}(s.default.ServiceBase);o.default=M,cc._RF.pop()},{Fuwu:"Fuwu",OverallSystem:"OverallSystem",PathTips:"PathTips",PifuPage:"PifuPage",SignIn:"SignIn",Tujian:"Tujian",Yinsi:"Yinsi",dialog:"dialog",frameNamespace:"frameNamespace",gameList:"gameList",gameListNew:"gameListNew",gameSettingPage:"gameSettingPage",getPowerPage:"getPowerPage",infinityPowerPage:"infinityPowerPage",loadingPage:"loadingPage",message:"message",pageBase:"pageBase",selectArea:"selectArea",tianjiazhuomian:"tianjiazhuomian",tishi:"tishi",userService:"userService",zhutiList:"zhutiList"}],userService:[function(e,t,o){"use strict";cc._RF.push(t,"8e1d42+D2RAVIuIze4YpNFs","userService");var n=__extends,i=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var a=i(e("TimePlugIn")),r=i(e("gameConfig1")),s=i(e("frameNamespace")),c=e("OverallSystem"),l=function(e){function t(){var t=e.call(this)||this;return t._serviceName="\u7528\u6237\u670d\u52a1",t.powerKey="user-power",t.coinKey="coin-power",t.powerRestoresScheduleKey="power_restores_schedule",t.m_Power=5,t.m_Coin=0,t.restoresPowerTimer=0,t._Initialize(),t}return n(t,e),t.prototype._Initialize=function(){e.prototype._Initialize.call(this)},Object.defineProperty(t.prototype,"power",{get:function(){return this.m_Power},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coin",{get:function(){return this.m_Coin},enumerable:!1,configurable:!0}),t.prototype._initPower=function(){var e=Date.now(),o=c.sers().localStorageSrv.get(t.infinityPowerDate),n=0!=Number(c.sers().localStorageSrv.get(t.infinityPowerModel)),i=e-Number(o)>=864e5,s=c.sers().localStorageSrv.get(t.changwanModelDate),l=0!=Number(c.sers().localStorageSrv.get(t.changwanModel)),u=e-Number(s)>=864e5;if(null!=s&&""!=s&&l&&u&&(console.log(s),console.log(u),c.sers().localStorageSrv.set(t.changwanModel,0),c.sers().localStorageSrv.set(t.changwanModelDate,e)),null!=o&&""!=o&&n&&i)this.setPower(r.default.MAX_POWER),t.unlockCnt=0,c.sers().localStorageSrv.set(t.infinityPowerModel,0),c.sers().localStorageSrv.set(t.infinityPowerDate,e);else{var d=c.sers().localStorageSrv.get(this.powerKey);if(console.log(d),console.log(+d),console.log(null!=d),console.log(""!=d),console.log(+d>=0),""===d?(console.log("\u9ed8\u8ba4\u4f53\u529b"),this.m_Power=r.default.MAX_POWER):null!=d&&+d>=0?this.setPower(+d):(console.log("\u6062\u590d\u6700\u5927\u4f53\u529b"),this.m_Power=r.default.MAX_POWER),this.isPowerLess()){var p=a.default().getPreviousPlayDate2(),h=Date.now(),f=Math.floor((h-p)/1e3),g=Math.trunc(f/r.default.POWER_RESUME_TIME);this.m_Power+=g,this.m_Power=Math.min(r.default.MAX_POWER,this.m_Power),console.log("\u79bb\u7ebf\u56de\u590d\u4f53\u529b ",g," \u70b9")}}c.sers().localStorageSrv.set(this.powerKey,this.m_Power),a.default().setScheduleOneSeconds(this.powerRestoresScheduleKey,this.restoresPower.bind(this))},t.prototype._initCoin=function(){var e=c.sers().localStorageSrv.get(this.coinKey);null!=e&&""!=e&&(this.m_Coin=JSON.parse(e)),c.sers().localStorageSrv.set(this.coinKey,this.m_Coin)},t.prototype.restoresPower=function(){this.isPowerLess()?(this.restoresPowerTimer++,this.restoresPowerTimer>=r.default.POWER_RESUME_TIME&&(this.addPower(),this.restoresPowerTimer=0)):this.restoresPowerTimer=0},t.prototype.setPower=function(e){this.m_Power=e,c.sers().localStorageSrv.set(this.powerKey,this.m_Power)},t.prototype.addPower=function(e){void 0===e&&(e=1),this.m_Power+=e,!window.tt&&!window.wx&&this.m_Power<=0&&(this.m_Power=r.default.MAX_POWER),c.sers().localStorageSrv.set(this.powerKey,this.m_Power)},t.prototype.enterModeDeductPower=function(e,t,o){this.m_Power>=e?(this.addPower(-e),t&&t()):o&&o()},t.prototype.isPowerLess=function(){return this.m_Power<r.default.MAX_POWER},t.prototype.getRePowerTimer=function(){return r.default.POWER_RESUME_TIME-this.restoresPowerTimer},t.prototype.setCoin=function(e){this.m_Coin=e,c.sers().localStorageSrv.set(this.coinKey,this.m_Coin)},t.prototype.addCoin=function(e){this.m_Coin+=e,c.sers().localStorageSrv.set(this.coinKey,this.m_Coin)},t.prototype.setLevel=function(e){e>t.maxLevel?c.sers().localStorageSrv.set(t.nowLevel,t.maxLevel):c.sers().localStorageSrv.set(t.nowLevel,e),cc.log("\u6e38\u620f\u5173\u5361"+this.getLevel())},t.prototype.getLevel=function(){return+c.sers().localStorageSrv.get(t.nowLevel)||1},t.prototype.setGameId=function(e){c.sers().localStorageSrv.set(t.gameId,e),cc.log("\u5f53\u524d\u6e38\u620fID"+this.getGameId())},t.prototype.getGameId=function(){return+c.sers().localStorageSrv.get(t.gameId)||0},t.prototype.setGameList=function(e){c.sers().localStorageSrv.set(t.getGameList,e),cc.log("\u5f53\u524d\u6e38\u620fList"+this.getGameList())},t.prototype.getGameList=function(){return+c.sers().localStorageSrv.get(t.getGameList)||0},t.prototype.getGameLevelData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.GameLevelData)||null);return e||(e={lock:[],pass:[]}),c.sers().localStorageSrv.set(t.GameLevelData,JSON.stringify(e)),e},t.prototype.setGameLevelData=function(e){c.sers().localStorageSrv.set(t.GameLevelData,JSON.stringify(e))},t.prototype.setGuanqiaID=function(e){c.sers().localStorageSrv.set(t.GuanqiaID,e),cc.log("\u5f53\u524d\u5173\u5361ID"+this.getGuanqiaID())},t.prototype.getGuanqiaID=function(){return+c.sers().localStorageSrv.get(t.GuanqiaID)||0},t.prototype.setGuanqiaData=function(e){c.sers().localStorageSrv.set(t.GuanqiaData,JSON.stringify(e))},t.prototype.getGuanqiaData=function(){return JSON.parse(c.sers().localStorageSrv.get(t.GuanqiaData)||null)},t.prototype.getpassNumber=function(){return+c.sers().localStorageSrv.get(t.passNumber)||0},t.prototype.setpassNumber=function(e){c.sers().localStorageSrv.set(t.passNumber,e),cc.log("\u8fc7\u5173\u6b21\u6570"+this.getpassNumber())},t.prototype.setStoreData=function(e){c.sers().localStorageSrv.set(t.Pukepai,JSON.stringify(e))},t.prototype.getStoreData=function(){return JSON.parse(c.sers().localStorageSrv.get(t.Pukepai)||null)},t.prototype.setUserData=function(e){c.sers().localStorageSrv.set(t.UserData,JSON.stringify(e))},t.prototype.getUserData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.UserData)||null);return e||(e={city:"",level:1,maxLevel:1}),e},t.prototype.getCheckScene=function(){return c.sers().localStorageSrv.get(t.CheckScene||null)},t.prototype.setCheckScene=function(e){c.sers().localStorageSrv.set(t.CheckScene,e)},t.prototype.setStoreMajiang2Data=function(e){c.sers().localStorageSrv.set(t.Majiang2,JSON.stringify(e))},t.prototype.getStoreMajiang2Data=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.Majiang2)||null);return e||(e={over:!1}),e},t.prototype.getGuanqiaGameList=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.GuanqiaGameList)||null);return e||(e=[]),e},t.prototype.setGuanqiaGameList=function(e){c.sers().localStorageSrv.set(t.GuanqiaGameList,JSON.stringify(e))},t.prototype.getZhuti=function(){return c.sers().localStorageSrv.get(t.Zhuti)||0},t.prototype.setZhuti=function(e){c.sers().localStorageSrv.set(t.Zhuti,e)},t.prototype.getZhutiBg=function(){return c.sers().localStorageSrv.get(t.ZhutiBg)||0},t.prototype.setZhutiBg=function(e){c.sers().localStorageSrv.set(t.ZhutiBg,e)},t.prototype.getZhutiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.ZhutiData)||null);return e||(e=[]),e},t.prototype.setZhutiData=function(e){c.sers().localStorageSrv.set(t.ZhutiData,JSON.stringify(e))},t.prototype.getSignInList=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.SignInList)||null);return e||(e={one:!1,list:[],lastTime:null}),e},t.prototype.setSignInList=function(e){c.sers().localStorageSrv.set(t.SignInList,JSON.stringify(e))},t.prototype.getTiyanGame=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.TiyanGame)||null);return e||(e=[]),e},t.prototype.setTiyanGame=function(e){c.sers().localStorageSrv.set(t.TiyanGame,JSON.stringify(e))},t.prototype.setPaiduiData=function(e){c.sers().localStorageSrv.set(t.PaiduiData,JSON.stringify(e))},t.prototype.getPaiduiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.PaiduiData)||null);return e||(e={level:1}),e},t.prototype.setXianyuData=function(e){c.sers().localStorageSrv.set(t.XianyuData,JSON.stringify(e))},t.prototype.getXianyuData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.XianyuData)||null);return e||(e={level:1}),e},t.prototype.setLiushuiData=function(e){c.sers().localStorageSrv.set(t.LiushuiData,JSON.stringify(e))},t.prototype.getLiushuiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.LiushuiData)||null);return e||(e={level:1}),e},t.prototype.getNowScene=function(){return c.sers().localStorageSrv.get(t.NowScene)||0},t.prototype.setNowScene=function(e){c.sers().localStorageSrv.set(t.NowScene,e)},t.prototype.getSettingData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.SettingData)||null);return e||(e=[!1,!0,!0,!0,!0,0]),e},t.prototype.setSettingData=function(e){c.sers().localStorageSrv.set(t.SettingData,JSON.stringify(e))},t.prototype.setPeiduiData=function(e){c.sers().localStorageSrv.set(t.PeiduiData,JSON.stringify(e))},t.prototype.getPeiduiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.PeiduiData)||null);return e||(e={level:1}),e},t.prototype.setHuahuaData=function(e){c.sers().localStorageSrv.set(t.HuahuaData,JSON.stringify(e))},t.prototype.getHuahuaData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.HuahuaData)||null);return e||(e={level:1}),e},t.prototype.setDaxiguaData=function(e){c.sers().localStorageSrv.set(t.DaxiguaData,JSON.stringify(e))},t.prototype.getDaxiguaData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaData)||null);return e||(e={level:1}),e},t.prototype.setDaxiguaMapData=function(e){c.sers().localStorageSrv.set(t.DaxiguaMapData,JSON.stringify(e))},t.prototype.getDaxiguaMapData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaMapData)||null);return e||(e={}),e},t.prototype.setDaxiguaData2=function(e){c.sers().localStorageSrv.set(t.DaxiguaData2,JSON.stringify(e))},t.prototype.getDaxiguaData2=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaData2)||null);return e||(e={level:1}),e},t.prototype.setDaxiguaMapData2=function(e){c.sers().localStorageSrv.set(t.DaxiguaMapData2,JSON.stringify(e))},t.prototype.getDaxiguaMapData2=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaMapData2)||null);return e||(e={}),e},t.prototype.setDaxiguaData3=function(e){c.sers().localStorageSrv.set(t.DaxiguaData3,JSON.stringify(e))},t.prototype.getDaxiguaData3=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaData3)||null);return e||(e={level:1}),e},t.prototype.setDaxiguaMapData3=function(e){c.sers().localStorageSrv.set(t.DaxiguaMapData3,JSON.stringify(e))},t.prototype.getDaxiguaMapData3=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaMapData3)||null);return e||(e={}),e},t.prototype.setDaxiguaData4=function(e){c.sers().localStorageSrv.set(t.DaxiguaData4,JSON.stringify(e))},t.prototype.getDaxiguaData4=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaData4)||null);return e||(e={level:1}),e},t.prototype.setDaxiguaMapData4=function(e){c.sers().localStorageSrv.set(t.DaxiguaMapData4,JSON.stringify(e))},t.prototype.getDaxiguaMapData4=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.DaxiguaMapData4)||null);return e||(e={}),e},t.prototype.setFanpaiData=function(e){c.sers().localStorageSrv.set(t.FanpaiData,JSON.stringify(e))},t.prototype.getFanpaiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.FanpaiData)||null);return e||(e={level:1}),e},t.prototype.setFanKuaiData=function(e){c.sers().localStorageSrv.set(t.FanKuaiData,JSON.stringify(e))},t.prototype.getFanKuaiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.FanKuaiData)||null);return e||(e={level:1}),e},t.prototype.setTiantiData=function(e){c.sers().localStorageSrv.set(t.TiantiData,JSON.stringify(e))},t.prototype.getTiantiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.TiantiData)||null);return e||(e={level:1}),e},t.prototype.setFandabingData=function(e){c.sers().localStorageSrv.set(t.Fandabing,JSON.stringify(e))},t.prototype.getFandabingData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.Fandabing)||null);return e||(e={level:1}),e},t.prototype.setFeibiaoData=function(e){c.sers().localStorageSrv.set(t.FeibiaoData,JSON.stringify(e))},t.prototype.getFeibiaoData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.FeibiaoData)||null);return e||(e={level:0,selectedPainting:0}),e},t.prototype.getSelectedPainting=function(){var e=c.sers().userSrv.getFeibiaoData().selectedPainting;return(!e||e<0)&&(e=0),e>r.default.ROPE_MAX_LEVEL&&(e=r.default.ROPE_MAX_LEVEL),e},t.prototype.getTujianData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.TujianData)||null);return e||(e=[]),e},t.prototype.setTujianData=function(e){c.sers().localStorageSrv.set(t.TujianData,JSON.stringify(e))},t.prototype.getMianfeidaojuData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.MianfeidaojuData)||null);return e||(e={cishu:1}),e},t.prototype.setMianfeidaojuData=function(e){c.sers().localStorageSrv.set(t.MianfeidaojuData,JSON.stringify(e))},t.prototype.getQiqiupifu=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.Qiqiupifu)||null);return e||(e={leixing:"biaoqing",index:1}),e},t.prototype.setQiqiupifu=function(e){c.sers().localStorageSrv.set(t.Qiqiupifu,JSON.stringify(e))},t.prototype.setTiaozhanData=function(e){c.sers().localStorageSrv.set(t.TiaozhanData,JSON.stringify(e))},t.prototype.getTiaozhanData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.TiaozhanData)||null);return e||(e={level:1,xunhuan:1,qiqiu:[],nextqiqiu:[],cao:[],top:[],scene:[]}),e},t.prototype.setLockDaeData=function(e){c.sers().localStorageSrv.set(t.LockDaeData,JSON.stringify(e))},t.prototype.getLockDaeData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.LockDaeData)||null);return e||(e=[]),e},t.prototype.setLockDaeDayData=function(e){c.sers().localStorageSrv.set(t.LockDaeDayData,JSON.stringify(e))},t.prototype.getLockDaeDayData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.LockDaeDayData)||null);return e||(e={date:null,number:3}),e},t.prototype.setSheqiqiuData=function(e){c.sers().localStorageSrv.set(t.SheqiqiuData,JSON.stringify(e))},t.prototype.getSheqiqiuData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.SheqiqiuData)||null);return e||(e={level:0}),e},t.prototype.setWawajiData=function(e){c.sers().localStorageSrv.set(t.WawajiData,JSON.stringify(e))},t.prototype.getWawajiData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.WawajiData)||null);return e||(e={level:1,select:1,number:3,date:null}),e},t.prototype.setZumaData=function(e){c.sers().localStorageSrv.set(t.ZumaData,JSON.stringify(e))},t.prototype.getZumaData=function(){var e=JSON.parse(c.sers().localStorageSrv.get(t.ZumaData)||null);return e||(e={level:1}),e},t.infinityPowerDate="inifinity-power-date",t.infinityPowerModel="inifinity-power-model",t.changwanModel="changwan-model",t.changwanModelDate="changwan-model-date",t.nowLevel="nowLevel",t.gameId="gameId",t.getGameList="getGameList",t.GameLevelData="GameLevelData",t.GuanqiaID="GuanqiaID",t.GuanqiaData="GuanqiaData",t.passNumber="passNumber",t.passlevelDate="passlevelDate",t.Pukepai="PukepaiData",t.UserData="UserData",t.CheckScene="CheckScene",t.Majiang2="Majiang2",t.GuanqiaGameList="GuanqiaGameList",t.Zhuti="Zhuti",t.ZhutiBg="ZhutiBg",t.ZhutiData="ZhutiData",t.SignInList="SignInList",t.TiyanGame="TiyanGame",t.PaiduiData="PaiduiData",t.LiushuiData="LiushuiData",t.NowScene="NowScene",t.SettingData="SettingData",t.PeiduiData="PeiduiData",t.HuahuaData="HuahuaData",t.DaxiguaData="DaxiguaData",t.FanpaiData="FanpaiData",t.DaxiguaMapData="DaxiguaMapData",t.DaxiguaData2="DaxiguaData2",t.DaxiguaMapData2="DaxiguaMapData2",t.TiantiData="TiantiData",t.DaxiguaData3="DaxiguaData3",t.DaxiguaMapData3="DaxiguaMapData3",t.DaxiguaData4="DaxiguaData4",t.DaxiguaMapData4="DaxiguaMapData4",t.Fandabing="Fandabing",t.FandabingMap="FandabingMap",t.XianyuData="XianyuData",t.FanKuaiData="FanKuaiData",t.TujianData="TujianData",t.FeibiaoData="FeibiaoData",t.MianfeidaojuData="MianfeidaojuData",t.Qiqiupifu="Qiqiupifu",t.TiaozhanData="TiaozhanData",t.LockDaeData="LockDaeData",t.SheqiqiuData="SheqiqiuData",t.LockDaeDayData="LockDaeDayData",t.WawajiData="WawajiData",t.ZumaData="ZumaData",t.maxLevel=10,t.gameLevel=[10,1],t.zs_level_switch=null,t.guanqia=null,t.unlockCnt=0,t.IPAD=!1,t.daren=!1,t.level=1,t.vivoSDKdata=null,t.levelNumber=0,t}(s.default.ServiceBase);o.default=l,cc._RF.pop()},{OverallSystem:"OverallSystem",TimePlugIn:"TimePlugIn",frameNamespace:"frameNamespace",gameConfig1:"gameConfig1"}],vivoApi:[function(e,t,o){"use strict";cc._RF.push(t,"1e152kxqYJLBonNnPur7eq+","vivoApi");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0});var i=e("OverallSystem"),a=e("miniGameApiBase"),r=window.qg,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_AppId="",t.m_Secret="",t.m_VideoAdIdIndex=0,t.m_VideoAdIdList=["240a2919d9684d4d9a9ac0d79619635d"],t.m_BannerAdIdIndex=0,t.m_BannerAdId=["9942cc2afd0f41ac8241b38c86ef2eec"],t.m_InsertAdIdIndex=0,t.m_InsertAdId=[],t.m_videoAd=void 0,t.m_BannerAd=void 0,t.bannerSuccese=!1,t}return n(t,e),t.prototype.validAppId=function(){console.log("vivo-api-validAppId"),r.onShow(function(){i.mgrs().soundMgr.playMusic("bgm")})},t.prototype.ready=function(){console.log("vivo-api-ready")},t.prototype.getUserInfo=function(e){r.getUserInfo(e)},t.prototype.showToast=function(e){r.showToast(e)},t.prototype.showLoading=function(e){r.showLoading(e)},t.prototype.hideLoading=function(){r.hideLoading()},t.prototype.showModal=function(){},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.login=function(e){r.login(e)},t.prototype.FullScreenVideoAd=function(){},t.prototype.reportAnalytics=function(){},t.prototype.getVideoAdId=function(){var e=this.m_VideoAdIdList[this.m_VideoAdIdIndex];return this.m_VideoAdIdIndex++,this.m_VideoAdIdIndex>=this.m_VideoAdIdList.length&&(this.m_VideoAdIdIndex=0),e},t.prototype.loadAndShowVideoAd=function(e,t,o){var n=this;this.showLoading({message:"\u8bf7\u6c42\u4e2d"}),null==this.m_videoAd&&(this.m_videoAd=r.createRewardedVideoAd({adUnitId:this.getVideoAdId()}));var i=function i(a){a&&a.isEnded?e():t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa"),n.m_videoAd.offClose(i),o&&o()};this.m_videoAd.load().then(function(){n.m_videoAd.show().then(function(){n.hideLoading(),n.m_videoAd.onClose(i)}).catch(function(e){n.showToast({title:"\u89c6\u9891\u52a0\u8f7d\u9519\u8bef",icon:"none"}),n.hideLoading(),t("\u89c6\u9891\u663e\u793a\u9519\u8bef  :"+JSON.stringify(e)),n.m_videoAd.offClose(i),o&&o()})}).catch(function(e){n.showToast({title:"\u89c6\u9891\u52a0\u8f7d\u9519\u8bef",icon:"none"}),n.hideLoading(),t("\u89c6\u9891\u52a0\u8f7d\u9519\u8bef  :"+JSON.stringify(e)),n.m_videoAd.offClose(i),o&&o()})},t.prototype.getInsertAdId=function(){var e=this.m_InsertAdId[this.m_InsertAdIdIndex];return this.m_InsertAdIdIndex++,this.m_InsertAdIdIndex>=this.m_InsertAdId.length&&(this.m_InsertAdIdIndex=0),e},t.prototype.showInsertAd=function(e,t){console.log("\u52a0\u6296\u97f3 \u63d2\u5c4f \u5e7f\u544a");var o=this.getInsertAdId(),n=r.createInterstitialAd({adUnitId:o});n.load(),n.onLoad(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 :"+JSON.stringify(e)),n.destroy(),n=null,t&&t()})}),n.onError(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),n.destroy(),n=null,t&&t()}),n.onClose(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),null!=n&&(n.destroy(),n=null),e&&e()})},t.prototype.getBannerAdId=function(){var e=this.m_BannerAdId[this.m_BannerAdIdIndex];return this.m_BannerAdIdIndex++,this.m_BannerAdIdIndex>=this.m_BannerAdId.length&&(this.m_BannerAdIdIndex=0),e},t.prototype.showBannerAD=function(e,t,o,n,i){var a=this,s=r.getSystemInfoSync(),c=s.screenWidth,l=s.screenHeight,u=i&&i({screenWidth:c,screenHeight:l})||cc.v2(0,0);this.m_BannerAd&&!this.bannerSuccese&&(this.m_BannerAd.destroy(),this.m_BannerAd=null),this.m_BannerAd?this.m_BannerAd.show().then(function(){t&&t(),console.log("---------------------Banner\u5e7f\u544a\u76f4\u63a5\u663e\u793a\u6210\u529f")}).catch(function(e){o&&o(e),console.log("---------------------Banner\u5e7f\u544a\u76f4\u63a5\u663e\u793a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",JSON.stringify(e))}):(this.bannerSuccese=!0,null==this.m_BannerAd&&(this.m_BannerAd=r.createBannerAd({posId:this.getBannerAdId(),adIntervals:30,style:{left:u.x,top:u.y}})),this.m_BannerAd.onSize(function(e){console.log(e.width,e.height,"------------banner\u957f\u5bbd-----------")}),this.m_BannerAd.onLoad(function(){null!=e&&e.active&&e.isValid?(a.bannerSuccese=!1,a.m_BannerAd.show().then(function(){t&&t(),console.log("---------------------Banner\u5e7f\u544a\u663e\u793a\u6210\u529f"),a.m_BannerAd.onClose(function(){n&&n()})}).catch(function(e){o&&o(e),console.log("---------------------Banner\u5e7f\u544a\u7ec4\u4ef6\u663e\u793a\u51fa\u73b0\u95ee\u9898"+e.errCode+" :"+e.errMsg)})):console.log("---------------------------------------------------------")}),this.m_BannerAd.onError(function(e){a.bannerSuccese=!1,o&&o(e),console.log("---------------------Banner\u5e7f\u544a\u52a0\u8f7d\u9519\u8bef,\u9519\u8bef\u539f\u56e0\uff1a"+e.errCode+" :"+e.errMsg)}))},t.prototype.hideBanner=function(){},t.prototype.recordedGameScreenStart=function(e,t){console.log("vivo-api-recordedGameScreenStart"),t&&t(null)},t.prototype.recordedGameScreenStop=function(){return console.log("vivo-api-recordedGameScreenStop"),!0},t.prototype.shareRecordedGameScreen=function(e){console.log("vivo-api-shareRecordedGameScreen"),e&&e()},t.prototype.isHaveRecordedGameScreen=function(){return!0},t}(a.MiniGameApiBase);o.default=s,cc._RF.pop()},{OverallSystem:"OverallSystem",miniGameApiBase:"miniGameApiBase"}],wxApi:[function(e,t,o){"use strict";cc._RF.push(t,"c8e313gJ2JE0oiNpQcHiAfN","wxApi");var n=__extends;Object.defineProperty(o,"__esModule",{value:!0});var i=e("OverallSystem"),a=e("miniGameApiBase"),r=window.wx,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_AppId="",t.m_Secret="",t.m_VideoAdIdIndex=0,t.m_VideoAdIdList=["adunit-a02607c5f9e6e058"],t.m_BannerAdIdIndex=0,t.m_BannerAdId=[],t.m_InsertAdIdIndex=0,t.m_InsertAdId=[],t.m_videoAd=void 0,t.m_BannerAd=void 0,t.m_gameRecorder=null,t.m_gameRecordDate=0,t.m_gameRecordUrl=void 0,t}return n(t,e),t.prototype.FullScreenVideoAd=function(){},t.prototype.validAppId=function(){cc.log("\u6d4b\u8bd5\u4fee\u6539")},t.prototype.ready=function(){var e=this;if(console.log("wx-api"),window.ks){var t=window.ks.getGameRecorder();this.m_gameRecorder=t,t.on("start",function(){}),t.on("error",function(){}),t.on("stop",function(t){t&&t.videoID?(console.log("videoID is "+t.videoID),e.m_gameRecordUrl=t.videoID,console.log("\u5f55\u5c4f\u505c\u6b62\uff0c\u5f55\u5236\u6210\u529f")):console.log("\u5f55\u5c4f\u505c\u6b62\uff0c\u5f55\u5236\u5931\u8d25")}),t.on("pause",function(){console.log("\u6682\u505c\u5f55\u5236")}),t.on("resume",function(){console.log("\u7ee7\u7eed\u5f55\u5236")}),t.on("abort",function(){console.log("\u5e9f\u5f03\u5df2\u5f55\u5236\u89c6\u9891")})}window.ks||(r.showShareMenu({withShareTicket:!0,success:function(){console.log("\u8bbe\u7f6e\u5206\u4eab\u6210\u529f")},fail:function(){},complete:function(){}}),cc.resources.load("share",function(e,t){e?cc.error("\u52a0\u8f7d\u5206\u4eab\u56fe\u7247\u5931\u8d25:",e):(r.onShareAppMessage(function(){return{title:"",imageUrl:t.nativeUrl}}),console.log("\u6210\u529f\u52a0\u8f7d\u5206\u4eab\u56fe\u7247",t.nativeUrl))}))},t.prototype.getUserInfo=function(e){r.getUserInfo(e)},t.prototype.showToast=function(e){r.showToast(e)},t.prototype.showLoading=function(e){r.showLoading(e)},t.prototype.hideLoading=function(){r.hideLoading()},t.prototype.showModal=function(e){r.showModal(e)},t.prototype.authorize=function(e){e.success&&e.success()},t.prototype.login=function(e){r.login(e)},t.prototype.getVideoAdId=function(){var e=this.m_VideoAdIdList[this.m_VideoAdIdIndex];return this.m_VideoAdIdIndex++,this.m_VideoAdIdIndex>=this.m_VideoAdIdList.length&&(this.m_VideoAdIdIndex=0),e},t.prototype.loadAndShowVideoAd=function(e,t,o,n,a){var s=this;if(void 0===a&&(a="game_use_prop"),window["GM-mode"])e();else{var c=this.getVideoAdId();if(window.ks&&(c="2300005486_01"),c){this.showLoading({title:"\u8bf7\u6c42\u4e2d",mask:!0}),console.log("tt \u89c6\u9891\u5e7f\u544a",c,n);var l=r.createRewardedVideoAd({adUnitId:c}),u=function r(c){l.offClose(r),console.log("tt \u89c6\u9891\u5e7f\u544a\u5173\u95ed",c),c&&c.isEnded?setTimeout(function(){e(),s.reportAnalytics(a,n)},60):t("\u89c6\u9891\u4e2d\u9014\u9000\u51fa");var u=!(!c||!c.isEnded);s.reportAd(u),o&&o(),i.mgrs().soundMgr.isPlayMusic&&i.mgrs().soundMgr.playMusic(i.mgrs().soundMgr.shangyige)};console.log("\u5c55\u793a\u4e00\u6b21"),l.load().then(function(){l.show().then(function(){s.hideLoading(),l.onClose(u)}).catch(function(){console.log("\u91cd\u8bd5\u4e00\u6b21"),l.load().then(function(){l.show().then(function(){s.hideLoading(),l.onClose(u)}).catch(function(){t&&t("\u89c6\u9891\u5c55\u793a\u5f02\u5e38"),o&&o()})}).catch(function(){t&&t("\u89c6\u9891\u62c9\u53d6\u5f02\u5e3802"),o&&o()})})}).catch(function(){t&&t("\u89c6\u9891\u62c9\u53d6\u5f02\u5e3801"),o&&o()}),l.onError(function(e){console.log(e),s.hideLoading()})}else e()}},t.prototype.getInsertAdId=function(){var e=this.m_InsertAdId[this.m_InsertAdIdIndex];return this.m_InsertAdIdIndex++,this.m_InsertAdIdIndex>=this.m_InsertAdId.length&&(this.m_InsertAdIdIndex=0),e},t.prototype.showInsertAd=function(e,t){console.log("\u52a0\u6296\u97f3 \u63d2\u5c4f \u5e7f\u544a");var o=this.getInsertAdId(),n=r.createInterstitialAd({adUnitId:o});n.load(),n.onLoad(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 :"+JSON.stringify(e)),n.destroy(),n=null,t&&t()})}),n.onError(function(e){console.warn("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+JSON.stringify(e)),n.destroy(),n=null,t&&t()}),n.onClose(function(){console.warn("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),null!=n&&(n.destroy(),n=null),e&&e()})},t.prototype.getBannerAdId=function(){var e=this.m_BannerAdId[this.m_BannerAdIdIndex];return this.m_BannerAdIdIndex++,this.m_BannerAdIdIndex>=this.m_BannerAdId.length&&(this.m_BannerAdIdIndex=0),e},t.prototype.showBannerAD=function(){},t.prototype.hideBanner=function(){},t.prototype.recordedGameScreenStart=function(){this.m_gameRecorder&&this.m_gameRecorder.start()},t.prototype.recordedGameScreenStop=function(){return!1},t.prototype.shareRecordedGameScreen=function(e,t){this.m_gameRecordUrl?this.m_gameRecorder.publishVideo({video:this.m_gameRecordUrl,callback:function(e){null==e||null==e?console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"):console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(e))}}):(t&&t(null),console.log("tt \u5206\u4eab\u89c6\u9891\u4e3a\u7a7a"))},t.prototype.isHaveRecordedGameScreen=function(){return!0},t.prototype.reportAnalytics=function(e,t){var o=window.SEEG_USER_INFO,n="";o&&(13===o.abTest?n="wx_B_":12===o.abTest&&(n="wx_A_"));var i=n+e;t.level&&(i=i+"_"+t.level),t.level&&t.level>80||(console.log("\u57cb\u70b9"),console.log(i),console.log(t),seeg.onEvent(i,t))},t.prototype.reportAd=function(e){if(window.ks){var t={complete:e};console.log("\u5feb\u624b"),console.log(t),seeg.reportAd(t)}},t.prototype.vibrateShort=function(e,t){void 0===e&&(e=!0),void 0===t&&(t="medium"),i.mgrs().soundMgr.isVibration&&(cc.log("\u9707\u52a8"+t),cc.sys.platform!=cc.sys.VIVO_GAME&&cc.sys.platform!=cc.sys.OPPO_GAME&&window.wx&&window.wx.vibrateShort&&(e?window.wx.vibrateLong({type:t,style:t}):window.wx.vibrateShort({type:t,style:t})))},t.prototype.shareAppMessage=function(e,t,o){var n=this;void 0===e&&(e=""),void 0===t&&(t=""),void 0===o&&(o=null),o?window.canvas.toTempFilePath({x:o.x,y:o.y,width:o.width,height:o.height,destWidth:o.destWidth,destHeight:o.destHeight,success:function(o){n.wxShareAppMessage(e,t,o.tempFilePath)},fail:function(e){cc.warn("\u622a\u56fe\u5931\u8d25:",e)}}):cc.resources.load("share",function(o,i){o?cc.error("\u52a0\u8f7d\u5206\u4eab\u56fe\u7247\u5931\u8d25:",o):(n.wxShareAppMessage(e,t,i.nativeUrl),console.log("\u6210\u529f\u52a0\u8f7d\u5206\u4eab\u56fe\u7247",i.nativeUrl))})},t.prototype.wxShareAppMessage=function(e,t,o){r.shareAppMessage({title:e,desc:t,imageUrl:o,query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},t}(a.MiniGameApiBase);o.default=s,cc._RF.pop()},{OverallSystem:"OverallSystem",miniGameApiBase:"miniGameApiBase"}],xinshouyindao:[function(e,t,o){"use strict";cc._RF.push(t,"a7222DCs9JHFoHG/lvWWR4H","xinshouyindao");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("yyComponent")),c=e("GameEventType"),l=a(e("Ipha_tool")),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.yuanquan=null,t.yindaoLabel=null,t.maskButtonNode=null,t.str=["\u70b9\u51fb\u9009\u62e9","\u540c\u7c7b\u578b\u653e\u5728\u4e00\u8d77","\u6ee1\u8db3\u6570\u91cf\u540e\u5408\u5e76\u4e3a\u4e0b\u4e00\u4e2a\u7b49\u7ea7","\u5373\u5c06\u4e0b\u843d\u7684\u724c","\u70b9\u51fb\u4e0b\u843d","\u70b9\u51fb\u9009\u62e9","\u540c\u7c7b\u578b\u653e\u5728\u4e00\u8d77","\u7ee7\u7eed\u5408\u6210","\u8fd9\u662f\u672c\u5173\u7684\u5408\u6210\u76ee\u6807","\u83b7\u5f97\u66f4\u591a\u7684\u724c"],t.fx=[1,1,1,2,1,1,1,1,2,1],t.nodeArr=[],t.zhuanhuang=!0,t.pianyiY=0,t.nowindex=0,t.chumo=8,t.chumoArr=[],t.yindaoIndex=0,t}return n(t,e),t.prototype.start=function(){var e=this;this.yindaoLabel.string=this.str[this.nowindex],this.gengxinweizhi(),this.on(c.EventType.DirectorEvent.xinshouyindao,this.nextyindao,this),this.node.getChildByName("maskNode").getChildByName("bg").on(cc.Node.EventType.TOUCH_END,function(){(e.nowindex==e.chumo||-999==e.chumo||e.chumoArr.indexOf(e.nowindex)>=0)&&e.nextyindao()},this),this.maskButtonNode.getComponent(cc.BlockInputEvents)&&this.maskButtonNode.getComponent(cc.BlockInputEvents).destroy(),this.maskButtonNode.on(cc.Node.EventType.TOUCH_END,this.onMaskNodeClick,this)},t.prototype.onMaskNodeClick=function(){cc.log("onMaskNodeClick"),this.nextyindao()},t.prototype.nextyindao=function(){var e=this;if(cc.log("nextyindao"),this.node&&this.node.parent){var t=0;this.nowindex+1==this.chumo&&(t=.5,this.node.opacity=0),this.scheduleOnce(function(){if(e.node.opacity=255,e.nowindex++,e.nowindex>=e.str.length&&e.node&&e.node.parent)return e.node.parent=null,void r.default.emit(c.EventType.DirectorEvent.xinshouyindaoEnd);e.yindaoLabel.string=e.str[e.nowindex],e.gengxinweizhi()},t)}},t.prototype.gengxinweizhi=function(){var e=l.default.pos.rootPosToTargetNodeSpace(this.nodeArr[this.nowindex],this.node);this.yuanquan.x=e.x,this.yuanquan.y=e.y,this.yuanquan.anchorX=this.nodeArr[this.nowindex].anchorX,this.yuanquan.anchorY=this.nodeArr[this.nowindex].anchorY,this.yuanquan.width=this.nodeArr[this.nowindex].width,this.yuanquan.height=this.nodeArr[this.nowindex].height,this.yuanquan.scale=this.nodeArr[this.nowindex].scale,this.maskButtonNode.x=this.yuanquan.x,this.maskButtonNode.y=this.yuanquan.y,this.maskButtonNode.width=this.yuanquan.width,this.maskButtonNode.height=this.yuanquan.height,this.maskButtonNode.scale=this.nodeArr[this.nowindex].scale,this.maskButtonNode.anchorX=this.nodeArr[this.nowindex].anchorX,this.maskButtonNode.anchorY=this.nodeArr[this.nowindex].anchorY,1==this.fx[this.nowindex]?(this.yindaoLabel.node.parent.y=this.yuanquan.y+150,this.yindaoLabel.node.parent.children[0].scaleY=-1,this.yuanquan.x>0?(this.yindaoLabel.node.parent.children[0].scaleX=-1,this.yindaoLabel.node.parent.x=this.yuanquan.x-150):(this.yindaoLabel.node.parent.children[0].scaleX=1,this.yindaoLabel.node.parent.x=this.yuanquan.x+150)):2==this.fx[this.nowindex]?(this.yindaoLabel.node.parent.y=this.yuanquan.y-150-this.pianyiY,this.yindaoLabel.node.parent.children[0].scaleY=1,7==this.nowindex&&(this.yindaoLabel.node.parent.y=this.yuanquan.y-150),this.yuanquan.x>0?(this.yindaoLabel.node.parent.children[0].scaleX=-1,this.yindaoLabel.node.parent.x=this.yuanquan.x-150):(this.yindaoLabel.node.parent.children[0].scaleX=1,this.yindaoLabel.node.parent.x=this.yuanquan.x+150)):3==this.fx[this.nowindex]?(this.yindaoLabel.node.parent.x=this.yuanquan.x-100,this.yindaoLabel.node.parent.y=this.yuanquan.y):(this.yindaoLabel.node.parent.x=this.yuanquan.x+100,this.yindaoLabel.node.parent.y=this.yuanquan.y)},i([p(cc.Node)],t.prototype,"yuanquan",void 0),i([p(cc.Label)],t.prototype,"yindaoLabel",void 0),i([p(cc.Node)],t.prototype,"maskButtonNode",void 0),i([d],t)}(s.default);o.default=h,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Ipha_tool:"Ipha_tool",yyComponent:"yyComponent"}],yyComponent:[function(e,t,o){"use strict";cc._RF.push(t,"c47550aWYdKarHj7GINpXfY","yyComponent");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=cc._decorator,c=s.ccclass;s.property;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._customId=null,t.events={},t.onceEvents={},t}var o;return n(t,e),o=t,Object.defineProperty(t.prototype,"Id",{get:function(){return null===this._customId&&(this._customId=o._autoId++),this._customId},enumerable:!1,configurable:!0}),t.prototype.removeElementInArray=function(e,t){for(var o=e.Id,n=0,i=t.length;n<i;++n)if(t[n].Id==o)return t.splice(n,1),!0;return!1},t.prototype.init=function(e){this.initComponents(),this.registAllCustomUpdate(),this.onEvents(),e&&this.setData(e)},t.prototype.initComponents=function(){if(this.node.parent){var e=this.node.getComponent(cc.Widget);e&&e.updateAlignment();var t=this.node.getComponent(cc.Layout);t&&t.updateLayout()}},t.prototype.onEvents=function(){},t.prototype.registAllCustomUpdate=function(){},t.prototype.reset=function(){},t.prototype.setData=function(){},t.prototype.reuse=function(e){this.reset(),this.onEvents(),e&&this.setData(e)},t.prototype.unuse=function(){this.reset(),this.offEvents()},Object.defineProperty(t.prototype,"customUpdateState",{get:function(){return this._customUpdateState},enumerable:!1,configurable:!0}),t.prototype.stepEmpty=function(){},t.prototype.initCustomUpdateState=function(){this._customUpdateState=null,this.customStep=this.stepEmpty,this.customUpdateMap={}},t.prototype.resetCustomUpdateState=function(){this._customUpdateState=null,this.customStep=this.stepEmpty},t.prototype.registCustomUpdate=function(e,t){this.customUpdateMap||(this.customUpdateMap={}),this.customUpdateMap[e]=t},t.prototype.enterCustomUpdateState=function(e){this._customUpdateState!=e&&(this._customUpdateState=e,this.customUpdateMap[e]?this.customStep=this.customUpdateMap[e]:this.customStep=this.stepEmpty)},t.prototype.customUpdate=function(e){this.customStep&&this.customStep(e)},t.prototype.runCustomUpdate=function(e,t){for(var o=e.length-1;o>=0;--o)e[o].customUpdate(t)},Object.defineProperty(t.prototype,"x",{get:function(){return this.node.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.node.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.node.z},enumerable:!1,configurable:!0}),t.prototype.setPosition=function(e){this.node.setPosition(e)},t.prototype.getPosition=function(){return this.node.is3DNode?cc.v3(this.x,this.y,this.z):cc.v3(this.x,this.y)},Object.defineProperty(t.prototype,"angleX",{get:function(){return this.node.eulerAngles.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angleY",{get:function(){return this.node.eulerAngles.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angleZ",{get:function(){return this.node.eulerAngles.z},enumerable:!1,configurable:!0}),t.prototype.setEulerAngles=function(e){this.node.eulerAngles=e},t.prototype.setScale=function(e){this.node.setScale(e)},t.prototype.show=function(e){this.node.active=!0,e&&this.setData(e)},t.prototype.hide=function(){this.node.active=!1},t.prototype.getData=function(){return null},t.prototype.on=function(e,t,o){var n=r.default.on(e,t,o);n&&(this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(n))},t.prototype.once=function(e,t,o){var n=r.default.once(e,t,o);n&&(this.onceEvents.hasOwnProperty(e)||(this.onceEvents[e]=[]),this.onceEvents[e].push(n))},t.prototype.off=function(e,t,o){var n=this.events[e];if(n)for(var i=n.length-1;i>=0;--i)n[i].cb===t&&n[i].target===o&&(r.default.off(e,n[i]),n.splice(i,1));if(n=this.onceEvents[e])for(i=n.length-1;i>=0;--i)n[i].cb===t&&n[i].target===o&&(r.default.off(e,n[i]),n.splice(i,1))},t.prototype.emit=function(e,t,o,n,i,a){void 0===t?r.default.emit(e):void 0===o?r.default.emit(e,t):void 0===n?r.default.emit(e,t,o):void 0===i?r.default.emit(e,t,o,n):void 0===a?r.default.emit(e,t,o,n,i):r.default.emit(e,t,o,n,i,a),this.onceEvents.hasOwnProperty(e)&&delete this.onceEvents[e]},t.prototype.offEvents=function(){for(var e in this.events)r.default.offGroup(e,this.events[e]);for(var e in this.events={},this.onceEvents)r.default.offGroup(e,this.onceEvents[e]);this.onceEvents={}},t.prototype.onDestroy=function(){this.offEvents()},t._autoId=1,o=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{EventManager:"EventManager"}],zhutiListItem:[function(e,t,o){"use strict";cc._RF.push(t,"23afaWavpROT5iAKCKo6Be7","zhutiListItem");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("EventManager")),s=a(e("Loader")),c=a(e("yyComponent")),l=e("GameEventType"),u=e("OverallSystem"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.vicon=null,t.lockNode=null,t.xuanzhong=null,t.data=null,t.type=1,t.ziyuanlujing=null,t.lockData=null,t.jieduanName=["\u5c0f\u767d","\u65b0\u624b","\u5165\u95e8","\u719f\u7ec3","\u7cbe\u82f1","\u9ad8\u624b","\u4e13\u4e1a","\u5927\u5e08","\u5b97\u5e08","\u96c0\u5723","\u96c0\u795e"],t}return n(t,e),t.prototype.start=function(){this.on(l.EventType.DirectorEvent.pifugenghuan,this.updataView,this)},t.prototype.setDatas=function(e,t){var o=e["\u50a8\u5b58"].split("_");this.type=+o[1],this.data=+o[0],e["\u8d44\u6e90\u8def\u5f84"]?this.ziyuanlujing=e["\u8d44\u6e90\u8def\u5f84"]:this.ziyuanlujing="zhutiIcon/"+this.type+"_"+this.data,this.lockData=t,this.updataView()},t.prototype.updataView=function(){var e=this;if(null!=this.data){var t=this.data;if(u.sers().userSrv.getZhutiData().indexOf(+this.data+"_"+this.type)>=0||0==t)this.vicon.active=!1,this.lockNode.active=!0;else{var o=this.lockData["\u83b7\u53d6\u65b9\u5f0f"];"\u664b\u7ea7"==o?(this.vicon.getChildByName("duanwei").active=!0,this.vicon.getChildByName("duanwei").children[0].getComponent(cc.Label).string=this.lockData["\u83b7\u53d6\u6761\u4ef6"]):"\u91d1\u5e01"==o?(this.vicon.getChildByName("jinbi").active=!0,this.vicon.getChildByName("jinbi").children[0].getComponent(cc.Label).string=this.lockData["\u83b7\u53d6\u6761\u4ef6"]):"\u7b7e\u5230"==o&&(this.vicon.getChildByName("qiandao").active=!0)}1==this.type&&(u.sers().userSrv.getZhutiBg()==this.data?(this.xuanzhong.active=!0,this.lockNode.active=!1):(this.xuanzhong.active=!1,this.lockNode.active=!0)),2==this.type&&(u.sers().userSrv.getZhuti()==this.data?(this.vicon.active=!1,this.xuanzhong.active=!0,this.lockNode.active=!1):(this.xuanzhong.active=!1,this.lockNode.active=!0)),s.default.loadBundleRes("home","image/"+this.ziyuanlujing,function(t){e&&e.node&&(e.icon.spriteFrame=new cc.SpriteFrame(t))})}},t.prototype.onTouchStart=function(){var e=this;u.mgrs().soundMgr.playBtnSound();var t=1==this.type?"\u80cc\u666f":"\u724c\u8272";if(this.vicon.active){var o=this.lockData["\u83b7\u53d6\u65b9\u5f0f"];if("\u664b\u7ea7"==o){var n=u.sers().userSrv.getUserData(),i=this.jieduanName.indexOf(this.lockData["\u83b7\u53d6\u6761\u4ef6"]);if(n.maxLevel<i+1&&(window.tt||window.wx))return void u.sers().uiSrv.showMessage("\u8fbe\u5230"+this.lockData["\u83b7\u53d6\u6761\u4ef6"]+"\u6bb5\u4f4d\uff0c\u89e3\u9501\u8be5\u76ae\u80a4");(a=u.sers().userSrv.getZhutiData()).push(+this.data+"_"+this.type),u.sers().userSrv.setZhutiData(a),r.default.emit(l.EventType.DirectorEvent.pifugenghuan)}else if("\u91d1\u5e01"==o){if(+u.sers().userSrv.coin<+this.lockData["\u83b7\u53d6\u6761\u4ef6"])return void u.sers().uiSrv.showMessage("\u91d1\u5e01\u4e0d\u8db3");var a;u.sers().userSrv.addCoin(-+this.lockData["\u83b7\u53d6\u6761\u4ef6"]),(a=u.sers().userSrv.getZhutiData()).push(+this.data+"_"+this.type),u.sers().userSrv.setZhutiData(a),r.default.emit(l.EventType.DirectorEvent.pifugenghuan),r.default.emit(l.EventType.UIEvent.SignInList)}else"\u7b7e\u5230"==o?u.sers().uiSrv.showMessage("\u5b8c\u6210\u7b7e\u5230\u4e4b\u540e\u5373\u53ef\u83b7\u5f97"):u.sers().platformSrv.platformApi.loadAndShowVideoAd(function(){var t=u.sers().userSrv.getZhutiData();t.push(+e.data+"_"+e.type),u.sers().userSrv.setZhutiData(t),r.default.emit(l.EventType.DirectorEvent.pifugenghuan)},function(){},null,{scene:"\u76ae\u80a4\u89e3\u9501",event:"\u89e3\u9501"+t+this.data},"common_video")}else cc.log(this.type),1==this.type?u.sers().userSrv.setZhutiBg(this.data):u.sers().userSrv.setZhuti(this.data),r.default.emit(l.EventType.DirectorEvent.pifugenghuan)},i([h(cc.Sprite)],t.prototype,"icon",void 0),i([h(cc.Node)],t.prototype,"vicon",void 0),i([h(cc.Node)],t.prototype,"lockNode",void 0),i([h(cc.Node)],t.prototype,"xuanzhong",void 0),i([p],t)}(c.default);o.default=f,cc._RF.pop()},{EventManager:"EventManager",GameEventType:"GameEventType",Loader:"Loader",OverallSystem:"OverallSystem",yyComponent:"yyComponent"}],zhutiList:[function(e,t,o){"use strict";cc._RF.push(t,"f5b83nSFZBHG5IKFtLFbTrt","zhutiList");var n=__extends,i=__decorate,a=__importDefault;Object.defineProperty(o,"__esModule",{value:!0});var r=a(e("Loader")),s=e("OverallSystem"),c=a(e("pageBase")),l=a(e("zhutiListItem")),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageName="\u4e3b\u9898\u9009\u62e9",t.item=null,t.content=null,t.scr1=null,t.scr2=null,t.scrContent1=null,t.scrContent2=null,t.listData=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this;r.default.loadBundleRes("home","json/\u76ae\u80a4\u8d2d\u4e70",function(t){console.log(t.json);var o=t.json;r.default.loadBundleRes("home","json/\u7269\u54c1",function(t){var n=t.json;e&&e.node&&e.initGame(o,n)})}),this._init()},t.prototype.tab=function(e,t){for(var o=0,n=e.currentTarget.parent.children;o<n.length;o++)n[o].getChildByName("select").active=!1;e.currentTarget.getChildByName("select").active=!0,this.scr1.active=1==t,this.scr2.active=2==t},t.prototype.initGame=function(e,t){this.scrContent1&&this.scrContent1.removeAllChildren(),this.scrContent2&&this.scrContent2.removeAllChildren();var o=[],n=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];1==a["\u5206\u9875"]?o.push(a):n.push(a)}for(var r=[],s=0,c=o;s<c.length;s++){var u=c[s];r.indexOf(u["\u83b7\u53d6\u65b9\u5f0f"])<0&&r.push(u["\u83b7\u53d6\u65b9\u5f0f"])}for(var d=0,p=r;d<p.length;d++){u=p[d],(P=cc.instantiate(this.content)).parent=this.scrContent2,P.x=0,P.getChildByName("biaoti").getComponent(cc.Label).string=u+"\u89e3\u9501";for(var h=0,f=0,g=o;f<g.length;f++){var v=g[f];if(v["\u83b7\u53d6\u65b9\u5f0f"]==u){(I=cc.instantiate(this.item)).parent=P.getChildByName("scr").getChildByName("view").getChildByName("content"),I.y=0;var y=t[v["\u7269\u54c1ID"]];I.getComponent(l.default).setDatas(y,v),h++}}P.getChildByName("scr").getComponent(cc.ScrollView).enabled=h>3}for(var m=[],_=0,S=n;_<S.length;_++)u=S[_],m.indexOf(u["\u83b7\u53d6\u65b9\u5f0f"])<0&&m.push(u["\u83b7\u53d6\u65b9\u5f0f"]);for(var w=0,b=m;w<b.length;w++){var P;u=b[w],(P=cc.instantiate(this.content)).parent=this.scrContent1,P.x=0,P.getChildByName("biaoti").getComponent(cc.Label).string=u+"\u89e3\u9501",h=0;for(var C=0,N=n;C<N.length;C++){var I,T=N[C];T["\u83b7\u53d6\u65b9\u5f0f"]==u&&((I=cc.instantiate(this.item)).parent=P.getChildByName("scr").getChildByName("view").getChildByName("content"),I.y=0,y=t[T["\u7269\u54c1ID"]],I.getComponent(l.default).setDatas(y,T),h++)}P.getChildByName("scr").getComponent(cc.ScrollView).enabled=h>3}},t.prototype._init=function(){this.open()},t.prototype.OnBtnConfirm=function(){},t.prototype.OnBtnClose=function(){s.mgrs().soundMgr.playBtnSound(),this.onlyClose()},i([p(cc.Node)],t.prototype,"item",void 0),i([p(cc.Node)],t.prototype,"content",void 0),i([p(cc.Node)],t.prototype,"scr1",void 0),i([p(cc.Node)],t.prototype,"scr2",void 0),i([p(cc.Node)],t.prototype,"scrContent1",void 0),i([p(cc.Node)],t.prototype,"scrContent2",void 0),i([d],t)}(c.default);o.default=h,cc._RF.pop()},{Loader:"Loader",OverallSystem:"OverallSystem",pageBase:"pageBase",zhutiListItem:"zhutiListItem"}]},{},["Action3dManager","AudioManager","AutoPool","Board","CityNode","Coin_fly_to_wallet","ColorPalette","CommonEnum","CommonEventType","CommonGameConfig","EffectLayer","EventManager","FMJava","Feibiao","Fuwu","GameConfig","GameData","GameEventType","GamePlay","GameUILayer","GlobalEnum","GlobalPool","HomeTujian","IClassNamespace","IConsleNamespace","IFunctionNamespace","IPoolObject","Ipha_AniTool","Ipha_AutoSize","Ipha_ComponentBasic","Ipha_Correlation","Ipha_FollowEf","Ipha_NumberLabel","Ipha_PageViewBoost","Ipha_PosTool","Ipha_Rotation","Ipha_SimpleAni_icon","Ipha_SwayAni","Ipha_tool","LevelDataTemplate","LevelMgr","LevelsConfig","Loader","MajiangAnimation","MotionTrail","OverPage","OverallSystem","PaintBoard","PaintCtrl","PathTips","PifuPage","PifuPageItem","PlayerData","PlayerDataTemplate","PowerManager","RankMgr","ResourceLoader","Rope","RopeSegmentManager","RopeTexture","Scene","ScrewGameConfig","ScrollViewExample","SignIn","SignInItem","SkinDataTemplate","Target","TargetMgr","TimePlugIn","TintWhiteMaterial","TipMessage","TmpNodeManager","TmpRope","TrajectoryController","Tujian","TyOverPage","UIManager","Yinsi","Zhuawawa","bundleManager","checkScene","crazyGamesApi","dialog","frameNamespace","gameConfig1","gameList","gameListItem","gameListItemNew","gameListNew","gameManager","gameMode_Json","gameSettingPage","gameState","getPowerPage","h5Api","home","homeRankItem","http_request","huaWeiApi","infinityPowerPage","loading","loadingPage","localStorageService","message","miniGameApiBase","oppoApi","pageBase","platformService","powerBar","rankingList","rankingObj","seeg_td","selectArea","soundManager","start","systemBase","tianjiazhuomian","tishi","ttApi","uiService","userService","vivoApi","wxApi","xinshouyindao","yyComponent","zhutiList","zhutiListItem","ts"]);